import{Fa as af,Ga as gi,Ja as nf,La as Y_,Ma as X_,Na as eb,Qa as It,h as bs}from"./chunk-DEAOBGB4.js";import{b as tf,c as vn}from"./chunk-IJIU7GDE.js";import{g as ue,i as Ot}from"./chunk-VV54FNKQ.js";var lf=ue(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.gettext=ob;Ma._=ib;Ma.setSharedTranslator=of;Ma.resetSharedTranslator=uf;var Pi;function ob(){return Pi.apply(void 0,arguments)}function ib(){return Pi.apply(void 0,arguments)}function of(n){Pi=n}function uf(){of(typeof window!="undefined"&&window.gettext||function(n){return n})}uf()});var cf=ue((Ua,gn)=>{/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){function n(A,C,l){switch(l.length){case 0:return A.call(C);case 1:return A.call(C,l[0]);case 2:return A.call(C,l[0],l[1]);case 3:return A.call(C,l[0],l[1],l[2])}return A.apply(C,l)}function r(A,C,l,te){for(var de=-1,se=A==null?0:A.length;++de<se;){var Fr=A[de];C(te,Fr,l(Fr),A)}return te}function o(A,C){for(var l=-1,te=A==null?0:A.length;++l<te&&C(A[l],l,A)!==!1;);return A}function u(A,C){for(var l=A==null?0:A.length;l--&&C(A[l],l,A)!==!1;);return A}function a(A,C){for(var l=-1,te=A==null?0:A.length;++l<te;)if(!C(A[l],l,A))return!1;return!0}function c(A,C){for(var l=-1,te=A==null?0:A.length,de=0,se=[];++l<te;){var Fr=A[l];C(Fr,l,A)&&(se[de++]=Fr)}return se}function h(A,C){return!!(A!=null&&A.length)&&N(A,C,0)>-1}function d(A,C,l){for(var te=-1,de=A==null?0:A.length;++te<de;)if(l(C,A[te]))return!0;return!1}function g(A,C){for(var l=-1,te=A==null?0:A.length,de=Array(te);++l<te;)de[l]=C(A[l],l,A);return de}function P(A,C){for(var l=-1,te=C.length,de=A.length;++l<te;)A[de+l]=C[l];return A}function b(A,C,l,te){var de=-1,se=A==null?0:A.length;for(te&&se&&(l=A[++de]);++de<se;)l=C(l,A[de],de,A);return l}function w(A,C,l,te){var de=A==null?0:A.length;for(te&&de&&(l=A[--de]);de--;)l=C(l,A[de],de,A);return l}function $(A,C){for(var l=-1,te=A==null?0:A.length;++l<te;)if(C(A[l],l,A))return!0;return!1}function m(A){return A.split("")}function D(A){return A.match(ho)||[]}function j(A,C,l){var te;return l(A,function(de,se,Fr){if(C(de,se,Fr))return te=se,!1}),te}function O(A,C,l,te){for(var de=A.length,se=l+(te?1:-1);te?se--:++se<de;)if(C(A[se],se,A))return se;return-1}function N(A,C,l){return C===C?ge(A,C,l):O(A,F,l)}function V(A,C,l,te){for(var de=l-1,se=A.length;++de<se;)if(te(A[de],C))return de;return-1}function F(A){return A!==A}function H(A,C){var l=A==null?0:A.length;return l?W(A,C)/l:Ia}function G(A){return function(C){return C==null?y:C[A]}}function K(A){return function(C){return A==null?y:A[C]}}function ie(A,C,l,te,de){return de(A,function(se,Fr,Po){l=te?(te=!1,se):C(l,se,Fr,Po)}),l}function ne(A,C){var l=A.length;for(A.sort(C);l--;)A[l]=A[l].value;return A}function W(A,C){for(var l,te=-1,de=A.length;++te<de;){var se=C(A[te]);se!==y&&(l=l===y?se:l+se)}return l}function re(A,C){for(var l=-1,te=Array(A);++l<A;)te[l]=C(l);return te}function ae(A,C){return g(C,function(l){return[l,A[l]]})}function ee(A){return A&&A.slice(0,He(A)+1).replace(Pt,"")}function z(A){return function(C){return A(C)}}function B(A,C){return g(C,function(l){return A[l]})}function Z(A,C){return A.has(C)}function Te(A,C){for(var l=-1,te=A.length;++l<te&&N(C,A[l],0)>-1;);return l}function Ee(A,C){for(var l=A.length;l--&&N(C,A[l],0)>-1;);return l}function Oe(A,C){for(var l=A.length,te=0;l--;)A[l]===C&&++te;return te}function _e(A){return"\\"+Lp[A]}function le(A,C){return A==null?y:A[C]}function Le(A){return Rp.test(A)}function ur(A){return xp.test(A)}function Ve(A){for(var C,l=[];!(C=A.next()).done;)l.push(C.value);return l}function Pe(A){var C=-1,l=Array(A.size);return A.forEach(function(te,de){l[++C]=[de,te]}),l}function Q(A,C){return function(l){return A(C(l))}}function q(A,C){for(var l=-1,te=A.length,de=0,se=[];++l<te;){var Fr=A[l];Fr!==C&&Fr!==At||(A[l]=At,se[de++]=l)}return se}function J(A){var C=-1,l=Array(A.size);return A.forEach(function(te){l[++C]=te}),l}function fe(A){var C=-1,l=Array(A.size);return A.forEach(function(te){l[++C]=[te,te]}),l}function ge(A,C,l){for(var te=l-1,de=A.length;++te<de;)if(A[te]===C)return te;return-1}function je(A,C,l){for(var te=l+1;te--;)if(A[te]===C)return te;return te}function Se(A){return Le(A)?Ne(A):qp(A)}function ze(A){return Le(A)?Zr(A):m(A)}function He(A){for(var C=A.length;C--&&fa.test(A.charAt(C)););return C}function Ne(A){for(var C=_o.lastIndex=0;_o.test(A);)++C;return C}function Zr(A){return A.match(_o)||[]}function ct(A){return A.match(jp)||[]}var y,Dt="4.17.21",lr=200,Nr="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",Je="Expected a function",br="Invalid `variable` option passed into `_.template`",Tr="__lodash_hash_undefined__",Ir=500,At="__lodash_placeholder__",Yr=1,Cr=2,Xr=4,jt=1,oa=2,vr=1,mt=2,jn=4,et=8,Rt=16,cr=32,qt=64,ft=128,ia=256,Ga=512,ao=30,no="...",Vt=800,so=16,Ja=1,oo=2,Qa=3,vt=1/0,yt=9007199254740991,Rn=17976931348623157e292,Ia=NaN,Wr=4294967295,E=Wr-1,v=Wr>>>1,I=[["ary",ft],["bind",vr],["bindKey",mt],["curry",et],["curryRight",Rt],["flip",Ga],["partial",cr],["partialRight",qt],["rearg",ia]],x="[object Arguments]",T="[object Array]",Y="[object AsyncFunction]",ye="[object Boolean]",Ie="[object Date]",Me="[object DOMException]",Ye="[object Error]",De="[object Function]",Qe="[object GeneratorFunction]",Ue="[object Map]",We="[object Number]",Ce="[object Null]",ke="[object Object]",Be="[object Promise]",xt="[object Proxy]",hr="[object RegExp]",rr="[object Set]",Fe="[object String]",yr="[object Symbol]",kr="[object Undefined]",Pr="[object WeakMap]",Nt="[object WeakSet]",Dr="[object ArrayBuffer]",rt="[object DataView]",Bt="[object Float32Array]",Ht="[object Float64Array]",gt="[object Int8Array]",_t="[object Int16Array]",Kr="[object Int32Array]",bt="[object Uint8Array]",ua="[object Uint8ClampedArray]",ht="[object Uint16Array]",Za="[object Uint32Array]",io=/\b__p \+= '';/g,xn=/\b(__p \+=) '' \+/g,la=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wt=/&(?:amp|lt|gt|quot|#39);/g,Ya=/[&<>"']/g,ca=RegExp(Wt.source),uo=RegExp(Ya.source),Nn=/<%-([\s\S]+?)%>/g,lo=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,Kt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xa=/^\w*$/,Da=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Et=/[\\^$.*+?()[\]{}|]/g,Nu=RegExp(Et.source),Pt=/^\s+/,fa=/\s/,Tn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,co=/\{\n\/\* \[wrapped with (.+)\] \*/,fo=/,? & /,ho=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tu=/[()=,{}\[\]\/\s]/,Cu=/\\(\\)?/g,ku=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,po=/\w*$/,Fu=/^[-+]0x[0-9a-f]+$/i,Lu=/^0b[01]+$/i,zu=/^\[object .+?Constructor\]$/,up=/^0o[0-7]+$/i,lp=/^(?:0|[1-9]\d*)$/,cp=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cn=/($^)/,fp=/['\n\r\u2028\u2029\\]/g,kn="\\ud800-\\udfff",hp="\\u0300-\\u036f",dp="\\ufe20-\\ufe2f",pp="\\u20d0-\\u20ff",Mu=hp+dp+pp,Uu="\\u2700-\\u27bf",qu="a-z\\xdf-\\xf6\\xf8-\\xff",mp="\\xac\\xb1\\xd7\\xf7",vp="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",yp="\\u2000-\\u206f",gp=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vu="A-Z\\xc0-\\xd6\\xd8-\\xde",Bu="\\ufe0e\\ufe0f",Hu=mp+vp+yp+gp,mo="['\u2019]",_p="["+kn+"]",Wu="["+Hu+"]",Fn="["+Mu+"]",Ku="\\d+",bp="["+Uu+"]",Gu="["+qu+"]",Ju="[^"+kn+Hu+Ku+Uu+qu+Vu+"]",vo="\\ud83c[\\udffb-\\udfff]",Ep="(?:"+Fn+"|"+vo+")",Qu="[^"+kn+"]",yo="(?:\\ud83c[\\udde6-\\uddff]){2}",go="[\\ud800-\\udbff][\\udc00-\\udfff]",Aa="["+Vu+"]",Zu="\\u200d",Yu="(?:"+Gu+"|"+Ju+")",Pp="(?:"+Aa+"|"+Ju+")",Xu="(?:"+mo+"(?:d|ll|m|re|s|t|ve))?",el="(?:"+mo+"(?:D|LL|M|RE|S|T|VE))?",rl=Ep+"?",tl="["+Bu+"]?",wp="(?:"+Zu+"(?:"+[Qu,yo,go].join("|")+")"+tl+rl+")*",$p="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Sp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",al=tl+rl+wp,Op="(?:"+[bp,yo,go].join("|")+")"+al,Ip="(?:"+[Qu+Fn+"?",Fn,yo,go,_p].join("|")+")",Dp=RegExp(mo,"g"),Ap=RegExp(Fn,"g"),_o=RegExp(vo+"(?="+vo+")|"+Ip+al,"g"),jp=RegExp([Aa+"?"+Gu+"+"+Xu+"(?="+[Wu,Aa,"$"].join("|")+")",Pp+"+"+el+"(?="+[Wu,Aa+Yu,"$"].join("|")+")",Aa+"?"+Yu+"+"+Xu,Aa+"+"+el,Sp,$p,Ku,Op].join("|"),"g"),Rp=RegExp("["+Zu+kn+Mu+Bu+"]"),xp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Np=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tp=-1,Xe={};Xe[Bt]=Xe[Ht]=Xe[gt]=Xe[_t]=Xe[Kr]=Xe[bt]=Xe[ua]=Xe[ht]=Xe[Za]=!0,Xe[x]=Xe[T]=Xe[Dr]=Xe[ye]=Xe[rt]=Xe[Ie]=Xe[Ye]=Xe[De]=Xe[Ue]=Xe[We]=Xe[ke]=Xe[hr]=Xe[rr]=Xe[Fe]=Xe[Pr]=!1;var Ze={};Ze[x]=Ze[T]=Ze[Dr]=Ze[rt]=Ze[ye]=Ze[Ie]=Ze[Bt]=Ze[Ht]=Ze[gt]=Ze[_t]=Ze[Kr]=Ze[Ue]=Ze[We]=Ze[ke]=Ze[hr]=Ze[rr]=Ze[Fe]=Ze[yr]=Ze[bt]=Ze[ua]=Ze[ht]=Ze[Za]=!0,Ze[Ye]=Ze[De]=Ze[Pr]=!1;var Cp={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},kp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Lp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zp=parseFloat,Mp=parseInt,nl=typeof self=="object"&&self&&self.Object===Object&&self,Up=typeof self=="object"&&self&&self.Object===Object&&self,gr=nl||Up||Function("return this")(),bo=typeof Ua=="object"&&Ua&&!Ua.nodeType&&Ua,ha=bo&&typeof gn=="object"&&gn&&!gn.nodeType&&gn,sl=ha&&ha.exports===bo,Eo=sl&&nl.process,at=function(){try{var A=ha&&ha.require&&ha.require("util").types;return A||Eo&&Eo.binding&&Eo.binding("util")}catch(C){}}(),ol=at&&at.isArrayBuffer,il=at&&at.isDate,ul=at&&at.isMap,ll=at&&at.isRegExp,cl=at&&at.isSet,fl=at&&at.isTypedArray,qp=G("length"),Vp=K(Cp),Bp=K(kp),Hp=K(Fp),Wp=function A(C){function l(e){if(nr(e)&&!be(e)&&!(e instanceof se)){if(e instanceof de)return e;if(Ge.call(e,"__wrapped__"))return sc(e)}return new de(e)}function te(){}function de(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=y}function se(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Wr,this.__views__=[]}function Fr(){var e=new se(this.__wrapped__);return e.__actions__=Lr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Lr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Lr(this.__views__),e}function Po(){if(this.__filtered__){var e=new se(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Kp(){var e=this.__wrapped__.value(),t=this.__dir__,s=be(e),i=t<0,f=s?e.length:0,p=tv(0,f,this.__views__),_=p.start,S=p.end,R=S-_,L=i?S:_-1,k=this.__iteratees__,M=k.length,X=0,oe=wr(R,this.__takeCount__);if(!s||!i&&f==R&&oe==R)return xl(e,this.__actions__);var ce=[];e:for(;R--&&X<oe;){L+=t;for(var we=-1,he=e[L];++we<M;){var Re=k[we],xe=Re.iteratee,Sr=Re.type,qr=xe(he);if(Sr==oo)he=qr;else if(!qr){if(Sr==Ja)continue e;break e}}ce[X++]=he}return ce}function da(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var i=e[t];this.set(i[0],i[1])}}function Gp(){this.__data__=hn?hn(null):{},this.size=0}function Jp(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Qp(e){var t=this.__data__;if(hn){var s=t[e];return s===Tr?y:s}return Ge.call(t,e)?t[e]:y}function Zp(e){var t=this.__data__;return hn?t[e]!==y:Ge.call(t,e)}function Yp(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=hn&&t===y?Tr:t,this}function Tt(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var i=e[t];this.set(i[0],i[1])}}function Xp(){this.__data__=[],this.size=0}function em(e){var t=this.__data__,s=Ln(t,e);return!(s<0)&&(s==t.length-1?t.pop():hs.call(t,s,1),--this.size,!0)}function rm(e){var t=this.__data__,s=Ln(t,e);return s<0?y:t[s][1]}function tm(e){return Ln(this.__data__,e)>-1}function am(e,t){var s=this.__data__,i=Ln(s,e);return i<0?(++this.size,s.push([e,t])):s[i][1]=t,this}function Ct(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var i=e[t];this.set(i[0],i[1])}}function nm(){this.size=0,this.__data__={hash:new da,map:new(cn||Tt),string:new da}}function sm(e){var t=Qn(this,e).delete(e);return this.size-=t?1:0,t}function om(e){return Qn(this,e).get(e)}function im(e){return Qn(this,e).has(e)}function um(e,t){var s=Qn(this,e),i=s.size;return s.set(e,t),this.size+=s.size==i?0:1,this}function pa(e){var t=-1,s=e==null?0:e.length;for(this.__data__=new Ct;++t<s;)this.add(e[t])}function lm(e){return this.__data__.set(e,Tr),this}function cm(e){return this.__data__.has(e)}function dt(e){this.size=(this.__data__=new Tt(e)).size}function fm(){this.__data__=new Tt,this.size=0}function hm(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function dm(e){return this.__data__.get(e)}function pm(e){return this.__data__.has(e)}function mm(e,t){var s=this.__data__;if(s instanceof Tt){var i=s.__data__;if(!cn||i.length<lr-1)return i.push([e,t]),this.size=++s.size,this;s=this.__data__=new Ct(i)}return s.set(e,t),this.size=s.size,this}function hl(e,t){var s=be(e),i=!s&&ba(e),f=!s&&!i&&ea(e),p=!s&&!i&&!f&&za(e),_=s||i||f||p,S=_?re(e.length,f0):[],R=S.length;for(var L in e)!t&&!Ge.call(e,L)||_&&(L=="length"||f&&(L=="offset"||L=="parent")||p&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||zt(L,R))||S.push(L);return S}function dl(e){var t=e.length;return t?e[xo(0,t-1)]:y}function vm(e,t){return Zn(Lr(e),ma(t,0,e.length))}function ym(e){return Zn(Lr(e))}function wo(e,t,s){(s===y||pt(e[t],s))&&(s!==y||t in e)||kt(e,t,s)}function en(e,t,s){var i=e[t];Ge.call(e,t)&&pt(i,s)&&(s!==y||t in e)||kt(e,t,s)}function Ln(e,t){for(var s=e.length;s--;)if(pt(e[s][0],t))return s;return-1}function gm(e,t,s,i){return Xt(e,function(f,p,_){t(i,f,s(f),_)}),i}function pl(e,t){return e&&$t(t,_r(t),e)}function _m(e,t){return e&&$t(t,Mr(t),e)}function kt(e,t,s){t=="__proto__"&&ds?ds(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}function $o(e,t){for(var s=-1,i=t.length,f=dr(i),p=e==null;++s<i;)f[s]=p?y:Zo(e,t[s]);return f}function ma(e,t,s){return e===e&&(s!==y&&(e=e<=s?e:s),t!==y&&(e=e>=t?e:t)),e}function nt(e,t,s,i,f,p){var _,S=t&Yr,R=t&Cr,L=t&Xr;if(s&&(_=f?s(e,i,f,p):s(e)),_!==y)return _;if(!ar(e))return e;var k=be(e);if(k){if(_=nv(e),!S)return Lr(e,_)}else{var M=$r(e),X=M==De||M==Qe;if(ea(e))return Tl(e,S);if(M==ke||M==x||X&&!f){if(_=R||X?{}:Yl(e),!S)return R?Gm(e,_m(_,e)):Km(e,pl(_,e))}else{if(!Ze[M])return f?e:{};_=sv(e,M,S)}}p||(p=new dt);var oe=p.get(e);if(oe)return oe;p.set(e,_),Jc(e)?e.forEach(function(he){_.add(nt(he,t,s,he,e,p))}):Gc(e)&&e.forEach(function(he,Re){_.set(Re,nt(he,t,s,Re,e,p))});var ce=L?R?Vo:qo:R?Mr:_r,we=k?y:ce(e);return o(we||e,function(he,Re){we&&(Re=he,he=e[Re]),en(_,Re,nt(he,t,s,Re,e,p))}),_}function bm(e){var t=_r(e);return function(s){return ml(s,e,t)}}function ml(e,t,s){var i=s.length;if(e==null)return!i;for(e=er(e);i--;){var f=s[i],p=t[f],_=e[f];if(_===y&&!(f in e)||!p(_))return!1}return!0}function vl(e,t,s){if(typeof e!="function")throw new ut(Je);return pn(function(){e.apply(y,s)},t)}function rn(e,t,s,i){var f=-1,p=h,_=!0,S=e.length,R=[],L=t.length;if(!S)return R;s&&(t=g(t,z(s))),i?(p=d,_=!1):t.length>=lr&&(p=Z,_=!1,t=new pa(t));e:for(;++f<S;){var k=e[f],M=s==null?k:s(k);if(k=i||k!==0?k:0,_&&M===M){for(var X=L;X--;)if(t[X]===M)continue e;R.push(k)}else p(t,M,i)||R.push(k)}return R}function Em(e,t){var s=!0;return Xt(e,function(i,f,p){return s=!!t(i,f,p)}),s}function zn(e,t,s){for(var i=-1,f=e.length;++i<f;){var p=e[i],_=t(p);if(_!=null&&(S===y?_===_&&!Jr(_):s(_,S)))var S=_,R=p}return R}function Pm(e,t,s,i){var f=e.length;for(s=$e(s),s<0&&(s=-s>f?0:f+s),i=i===y||i>f?f:$e(i),i<0&&(i+=f),i=s>i?0:wc(i);s<i;)e[s++]=t;return e}function yl(e,t){var s=[];return Xt(e,function(i,f,p){t(i,f,p)&&s.push(i)}),s}function Er(e,t,s,i,f){var p=-1,_=e.length;for(s||(s=iv),f||(f=[]);++p<_;){var S=e[p];t>0&&s(S)?t>1?Er(S,t-1,s,i,f):P(f,S):i||(f[f.length]=S)}return f}function wt(e,t){return e&&ci(e,t,_r)}function So(e,t){return e&&Mc(e,t,_r)}function Mn(e,t){return c(t,function(s){return Mt(e[s])})}function va(e,t){t=Qt(t,e);for(var s=0,i=t.length;e!=null&&s<i;)e=e[St(t[s++])];return s&&s==i?e:y}function gl(e,t,s){var i=t(e);return be(e)?i:P(i,s(e))}function Ar(e){return e==null?e===y?kr:Ce:_a&&_a in er(e)?rv(e):dv(e)}function Oo(e,t){return e>t}function wm(e,t){return e!=null&&Ge.call(e,t)}function $m(e,t){return e!=null&&t in er(e)}function Sm(e,t,s){return e>=wr(t,s)&&e<pr(t,s)}function Io(e,t,s){for(var i=s?d:h,f=e[0].length,p=e.length,_=p,S=dr(p),R=1/0,L=[];_--;){var k=e[_];_&&t&&(k=g(k,z(t))),R=wr(k.length,R),S[_]=!s&&(t||f>=120&&k.length>=120)?new pa(_&&k):y}k=e[0];var M=-1,X=S[0];e:for(;++M<f&&L.length<R;){var oe=k[M],ce=t?t(oe):oe;if(oe=s||oe!==0?oe:0,!(X?Z(X,ce):i(L,ce,s))){for(_=p;--_;){var we=S[_];if(!(we?Z(we,ce):i(e[_],ce,s)))continue e}X&&X.push(ce),L.push(oe)}}return L}function Om(e,t,s,i){return wt(e,function(f,p,_){t(i,s(f),p,_)}),i}function tn(e,t,s){t=Qt(t,e),e=tc(e,t);var i=e==null?e:e[St(ot(t))];return i==null?y:n(i,e,s)}function _l(e){return nr(e)&&Ar(e)==x}function Im(e){return nr(e)&&Ar(e)==Dr}function Dm(e){return nr(e)&&Ar(e)==Ie}function an(e,t,s,i,f){return e===t||(e==null||t==null||!nr(e)&&!nr(t)?e!==e&&t!==t:Am(e,t,s,i,an,f))}function Am(e,t,s,i,f,p){var _=be(e),S=be(t),R=_?T:$r(e),L=S?T:$r(t);R=R==x?ke:R,L=L==x?ke:L;var k=R==ke,M=L==ke,X=R==L;if(X&&ea(e)){if(!ea(t))return!1;_=!0,k=!1}if(X&&!k)return p||(p=new dt),_||za(e)?Ql(e,t,s,i,f,p):Xm(e,t,R,s,i,f,p);if(!(s&jt)){var oe=k&&Ge.call(e,"__wrapped__"),ce=M&&Ge.call(t,"__wrapped__");if(oe||ce){var we=oe?e.value():e,he=ce?t.value():t;return p||(p=new dt),f(we,he,s,i,p)}}return!!X&&(p||(p=new dt),ev(e,t,s,i,f,p))}function jm(e){return nr(e)&&$r(e)==Ue}function Do(e,t,s,i){var f=s.length,p=f,_=!i;if(e==null)return!p;for(e=er(e);f--;){var S=s[f];if(_&&S[2]?S[1]!==e[S[0]]:!(S[0]in e))return!1}for(;++f<p;){S=s[f];var R=S[0],L=e[R],k=S[1];if(_&&S[2]){if(L===y&&!(R in e))return!1}else{var M=new dt;if(i)var X=i(L,k,R,e,t,M);if(!(X===y?an(k,L,jt|oa,i,M):X))return!1}}return!0}function bl(e){return!(!ar(e)||lv(e))&&(Mt(e)?v0:zu).test(ga(e))}function Rm(e){return nr(e)&&Ar(e)==hr}function xm(e){return nr(e)&&$r(e)==rr}function Nm(e){return nr(e)&&ts(e.length)&&!!Xe[Ar(e)]}function El(e){return typeof e=="function"?e:e==null?Ur:typeof e=="object"?be(e)?$l(e[0],e[1]):wl(e):Ac(e)}function Ao(e){if(!on(e))return P0(e);var t=[];for(var s in er(e))Ge.call(e,s)&&s!="constructor"&&t.push(s);return t}function Tm(e){if(!ar(e))return hv(e);var t=on(e),s=[];for(var i in e)(i!="constructor"||!t&&Ge.call(e,i))&&s.push(i);return s}function jo(e,t){return e<t}function Pl(e,t){var s=-1,i=zr(e)?dr(e.length):[];return Xt(e,function(f,p,_){i[++s]=t(f,p,_)}),i}function wl(e){var t=Bo(e);return t.length==1&&t[0][2]?ec(t[0][0],t[0][1]):function(s){return s===e||Do(s,e,t)}}function $l(e,t){return Ho(e)&&Xl(t)?ec(St(e),t):function(s){var i=Zo(s,e);return i===y&&i===t?Yo(s,e):an(t,i,jt|oa)}}function Un(e,t,s,i,f){e!==t&&ci(t,function(p,_){if(f||(f=new dt),ar(p))Cm(e,t,_,s,Un,i,f);else{var S=i?i(Ko(e,_),p,_+"",e,t,f):y;S===y&&(S=p),wo(e,_,S)}},Mr)}function Cm(e,t,s,i,f,p,_){var S=Ko(e,s),R=Ko(t,s),L=_.get(R);if(L)return wo(e,s,L),y;var k=p?p(S,R,s+"",e,t,_):y,M=k===y;if(M){var X=be(R),oe=!X&&ea(R),ce=!X&&!oe&&za(R);k=R,X||oe||ce?be(S)?k=S:fr(S)?k=Lr(S):oe?(M=!1,k=Tl(R,!0)):ce?(M=!1,k=Cl(R,!0)):k=[]:un(R)||ba(R)?(k=S,ba(S)?k=$c(S):ar(S)&&!Mt(S)||(k=Yl(R))):M=!1}M&&(_.set(R,k),f(k,R,i,p,_),_.delete(R)),wo(e,s,k)}function Sl(e,t){var s=e.length;if(s)return t+=t<0?s:0,zt(t,s)?e[t]:y}function Ol(e,t,s){t=t.length?g(t,function(f){return be(f)?function(p){return va(p,f.length===1?f[0]:f)}:f}):[Ur];var i=-1;return t=g(t,z(pe())),ne(Pl(e,function(f,p,_){return{criteria:g(t,function(S){return S(f)}),index:++i,value:f}}),function(f,p){return Wm(f,p,s)})}function km(e,t){return Il(e,t,function(s,i){return Yo(e,i)})}function Il(e,t,s){for(var i=-1,f=t.length,p={};++i<f;){var _=t[i],S=va(e,_);s(S,_)&&nn(p,Qt(_,e),S)}return p}function Fm(e){return function(t){return va(t,e)}}function Ro(e,t,s,i){var f=i?V:N,p=-1,_=t.length,S=e;for(e===t&&(t=Lr(t)),s&&(S=g(e,z(s)));++p<_;)for(var R=0,L=t[p],k=s?s(L):L;(R=f(S,k,R,i))>-1;)S!==e&&hs.call(S,R,1),hs.call(e,R,1);return e}function Dl(e,t){for(var s=e?t.length:0,i=s-1;s--;){var f=t[s];if(s==i||f!==p){var p=f;zt(f)?hs.call(e,f,1):Co(e,f)}}return e}function xo(e,t){return e+ms(Fc()*(t-e+1))}function Lm(e,t,s,i){for(var f=-1,p=pr(ps((t-e)/(s||1)),0),_=dr(p);p--;)_[i?p:++f]=e,e+=s;return _}function No(e,t){var s="";if(!e||t<1||t>yt)return s;do t%2&&(s+=e),t=ms(t/2),t&&(e+=e);while(t);return s}function Ae(e,t){return di(rc(e,t,Ur),e+"")}function zm(e){return dl(Na(e))}function Mm(e,t){var s=Na(e);return Zn(s,ma(t,0,s.length))}function nn(e,t,s,i){if(!ar(e))return e;t=Qt(t,e);for(var f=-1,p=t.length,_=p-1,S=e;S!=null&&++f<p;){var R=St(t[f]),L=s;if(R==="__proto__"||R==="constructor"||R==="prototype")return e;if(f!=_){var k=S[R];L=i?i(k,R,S):y,L===y&&(L=ar(k)?k:zt(t[f+1])?[]:{})}en(S,R,L),S=S[R]}return e}function Um(e){return Zn(Na(e))}function st(e,t,s){var i=-1,f=e.length;t<0&&(t=-t>f?0:f+t),s=s>f?f:s,s<0&&(s+=f),f=t>s?0:s-t>>>0,t>>>=0;for(var p=dr(f);++i<f;)p[i]=e[i+t];return p}function qm(e,t){var s;return Xt(e,function(i,f,p){return s=t(i,f,p),!s}),!!s}function qn(e,t,s){var i=0,f=e==null?i:e.length;if(typeof t=="number"&&t===t&&f<=v){for(;i<f;){var p=i+f>>>1,_=e[p];_!==null&&!Jr(_)&&(s?_<=t:_<t)?i=p+1:f=p}return f}return To(e,t,Ur,s)}function To(e,t,s,i){var f=0,p=e==null?0:e.length;if(p===0)return 0;t=s(t);for(var _=t!==t,S=t===null,R=Jr(t),L=t===y;f<p;){var k=ms((f+p)/2),M=s(e[k]),X=M!==y,oe=M===null,ce=M===M,we=Jr(M);if(_)var he=i||ce;else he=L?ce&&(i||X):S?ce&&X&&(i||!oe):R?ce&&X&&!oe&&(i||!we):!oe&&!we&&(i?M<=t:M<t);he?f=k+1:p=k}return wr(p,E)}function Al(e,t){for(var s=-1,i=e.length,f=0,p=[];++s<i;){var _=e[s],S=t?t(_):_;if(!s||!pt(S,R)){var R=S;p[f++]=_===0?0:_}}return p}function jl(e){return typeof e=="number"?e:Jr(e)?Ia:+e}function Gr(e){if(typeof e=="string")return e;if(be(e))return g(e,Gr)+"";if(Jr(e))return Lc?Lc.call(e):"";var t=e+"";return t=="0"&&1/e==-vt?"-0":t}function Jt(e,t,s){var i=-1,f=h,p=e.length,_=!0,S=[],R=S;if(s)_=!1,f=d;else if(p>=lr){var L=t?null:N0(e);if(L)return J(L);_=!1,f=Z,R=new pa}else R=t?[]:S;e:for(;++i<p;){var k=e[i],M=t?t(k):k;if(k=s||k!==0?k:0,_&&M===M){for(var X=R.length;X--;)if(R[X]===M)continue e;t&&R.push(M),S.push(k)}else f(R,M,s)||(R!==S&&R.push(M),S.push(k))}return S}function Co(e,t){return t=Qt(t,e),e=tc(e,t),e==null||delete e[St(ot(t))]}function Rl(e,t,s,i){return nn(e,t,s(va(e,t)),i)}function Vn(e,t,s,i){for(var f=e.length,p=i?f:-1;(i?p--:++p<f)&&t(e[p],p,e););return s?st(e,i?0:p,i?p+1:f):st(e,i?p+1:0,i?f:p)}function xl(e,t){var s=e;return s instanceof se&&(s=s.value()),b(t,function(i,f){return f.func.apply(f.thisArg,P([i],f.args))},s)}function ko(e,t,s){var i=e.length;if(i<2)return i?Jt(e[0]):[];for(var f=-1,p=dr(i);++f<i;)for(var _=e[f],S=-1;++S<i;)S!=f&&(p[f]=rn(p[f]||_,e[S],t,s));return Jt(Er(p,1),t,s)}function Nl(e,t,s){for(var i=-1,f=e.length,p=t.length,_={};++i<f;)s(_,e[i],i<p?t[i]:y);return _}function Fo(e){return fr(e)?e:[]}function Lo(e){return typeof e=="function"?e:Ur}function Qt(e,t){return be(e)?e:Ho(e,t)?[e]:Hc(Ke(e))}function Zt(e,t,s){var i=e.length;return s=s===y?i:s,!t&&s>=i?e:st(e,t,s)}function Tl(e,t){if(t)return e.slice();var s=e.length,i=xc?xc(s):new e.constructor(s);return e.copy(i),i}function zo(e){var t=new e.constructor(e.byteLength);return new cs(t).set(new cs(e)),t}function Vm(e,t){return new e.constructor(t?zo(e.buffer):e.buffer,e.byteOffset,e.byteLength)}function Bm(e){var t=new e.constructor(e.source,po.exec(e));return t.lastIndex=e.lastIndex,t}function Hm(e){return dn?er(dn.call(e)):{}}function Cl(e,t){return new e.constructor(t?zo(e.buffer):e.buffer,e.byteOffset,e.length)}function kl(e,t){if(e!==t){var s=e!==y,i=e===null,f=e===e,p=Jr(e),_=t!==y,S=t===null,R=t===t,L=Jr(t);if(!S&&!L&&!p&&e>t||p&&_&&R&&!S&&!L||i&&_&&R||!s&&R||!f)return 1;if(!i&&!p&&!L&&e<t||L&&s&&f&&!i&&!p||S&&s&&f||!_&&f||!R)return-1}return 0}function Wm(e,t,s){for(var i=-1,f=e.criteria,p=t.criteria,_=f.length,S=s.length;++i<_;){var R=kl(f[i],p[i]);if(R)return i>=S?R:R*(s[i]=="desc"?-1:1)}return e.index-t.index}function Fl(e,t,s,i){for(var f=-1,p=e.length,_=s.length,S=-1,R=t.length,L=pr(p-_,0),k=dr(R+L),M=!i;++S<R;)k[S]=t[S];for(;++f<_;)(M||f<p)&&(k[s[f]]=e[f]);for(;L--;)k[S++]=e[f++];return k}function Ll(e,t,s,i){for(var f=-1,p=e.length,_=-1,S=s.length,R=-1,L=t.length,k=pr(p-S,0),M=dr(k+L),X=!i;++f<k;)M[f]=e[f];for(var oe=f;++R<L;)M[oe+R]=t[R];for(;++_<S;)(X||f<p)&&(M[oe+s[_]]=e[f++]);return M}function Lr(e,t){var s=-1,i=e.length;for(t||(t=dr(i));++s<i;)t[s]=e[s];return t}function $t(e,t,s,i){var f=!s;s||(s={});for(var p=-1,_=t.length;++p<_;){var S=t[p],R=i?i(s[S],e[S],S,s,e):y;R===y&&(R=e[S]),f?kt(s,S,R):en(s,S,R)}return s}function Km(e,t){return $t(e,hi(e),t)}function Gm(e,t){return $t(e,Vc(e),t)}function Bn(e,t){return function(s,i){var f=be(s)?r:gm,p=t?t():{};return f(s,e,pe(i,2),p)}}function ja(e){return Ae(function(t,s){var i=-1,f=s.length,p=f>1?s[f-1]:y,_=f>2?s[2]:y;for(p=e.length>3&&typeof p=="function"?(f--,p):y,_&&jr(s[0],s[1],_)&&(p=f<3?y:p,f=1),t=er(t);++i<f;){var S=s[i];S&&e(t,S,i,p)}return t})}function zl(e,t){return function(s,i){if(s==null)return s;if(!zr(s))return e(s,i);for(var f=s.length,p=t?f:-1,_=er(s);(t?p--:++p<f)&&i(_[p],p,_)!==!1;);return s}}function Ml(e){return function(t,s,i){for(var f=-1,p=er(t),_=i(t),S=_.length;S--;){var R=_[e?S:++f];if(s(p[R],R,p)===!1)break}return t}}function Jm(e,t,s){function i(){return(this&&this!==gr&&this instanceof i?p:e).apply(f?s:this,arguments)}var f=t&vr,p=sn(e);return i}function Ul(e){return function(t){t=Ke(t);var s=Le(t)?ze(t):y,i=s?s[0]:t.charAt(0),f=s?Zt(s,1).join(""):t.slice(1);return i[e]()+f}}function Ra(e){return function(t){return b(Dc(Ic(t).replace(Dp,"")),e,"")}}function sn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var s=La(e.prototype),i=e.apply(s,t);return ar(i)?i:s}}function Qm(e,t,s){function i(){for(var p=arguments.length,_=dr(p),S=p,R=xa(i);S--;)_[S]=arguments[S];var L=p<3&&_[0]!==R&&_[p-1]!==R?[]:q(_,R);return p-=L.length,p<s?Wl(e,t,Hn,i.placeholder,y,_,L,y,y,s-p):n(this&&this!==gr&&this instanceof i?f:e,this,_)}var f=sn(e);return i}function ql(e){return function(t,s,i){var f=er(t);if(!zr(t)){var p=pe(s,3);t=_r(t),s=function(S){return p(f[S],S,f)}}var _=e(t,s,i);return _>-1?f[p?t[_]:_]:y}}function Vl(e){return Lt(function(t){var s=t.length,i=s,f=de.prototype.thru;for(e&&t.reverse();i--;){var p=t[i];if(typeof p!="function")throw new ut(Je);if(f&&!_&&Jn(p)=="wrapper")var _=new de([],!0)}for(i=_?i:s;++i<s;){p=t[i];var S=Jn(p),R=S=="wrapper"?fi(p):y;_=R&&Wo(R[0])&&R[1]==(ft|et|cr|ia)&&!R[4].length&&R[9]==1?_[Jn(R[0])].apply(_,R[3]):p.length==1&&Wo(p)?_[S]():_.thru(p)}return function(){var L=arguments,k=L[0];if(_&&L.length==1&&be(k))return _.plant(k).value();for(var M=0,X=s?t[M].apply(this,L):k;++M<s;)X=t[M].call(this,X);return X}})}function Hn(e,t,s,i,f,p,_,S,R,L){function k(){for(var Re=arguments.length,xe=dr(Re),Sr=Re;Sr--;)xe[Sr]=arguments[Sr];if(ce)var qr=xa(k),ra=Oe(xe,qr);if(i&&(xe=Fl(xe,i,f,ce)),p&&(xe=Ll(xe,p,_,ce)),Re-=ra,ce&&Re<L)return Wl(e,t,Hn,k.placeholder,s,xe,q(xe,qr),S,R,L-Re);var sr=X?s:this,lt=oe?sr[e]:e;return Re=xe.length,S?xe=pv(xe,S):we&&Re>1&&xe.reverse(),M&&R<Re&&(xe.length=R),this&&this!==gr&&this instanceof k&&(lt=he||sn(lt)),lt.apply(sr,xe)}var M=t&ft,X=t&vr,oe=t&mt,ce=t&(et|Rt),we=t&Ga,he=oe?y:sn(e);return k}function Bl(e,t){return function(s,i){return Om(s,e,t(i),{})}}function Wn(e,t){return function(s,i){var f;if(s===y&&i===y)return t;if(s!==y&&(f=s),i!==y){if(f===y)return i;typeof s=="string"||typeof i=="string"?(s=Gr(s),i=Gr(i)):(s=jl(s),i=jl(i)),f=e(s,i)}return f}}function Mo(e){return Lt(function(t){return t=g(t,z(pe())),Ae(function(s){var i=this;return e(t,function(f){return n(f,i,s)})})})}function Kn(e,t){t=t===y?" ":Gr(t);var s=t.length;if(s<2)return s?No(t,e):t;var i=No(t,ps(e/Se(t)));return Le(t)?Zt(ze(i),0,e).join(""):i.slice(0,e)}function Zm(e,t,s,i){function f(){for(var S=-1,R=arguments.length,L=-1,k=i.length,M=dr(k+R),X=this&&this!==gr&&this instanceof f?_:e;++L<k;)M[L]=i[L];for(;R--;)M[L++]=arguments[++S];return n(X,p?s:this,M)}var p=t&vr,_=sn(e);return f}function Hl(e){return function(t,s,i){return i&&typeof i!="number"&&jr(t,s,i)&&(s=i=y),t=Ut(t),s===y?(s=t,t=0):s=Ut(s),i=i===y?t<s?1:-1:Ut(i),Lm(t,s,i,e)}}function Gn(e){return function(t,s){return typeof t=="string"&&typeof s=="string"||(t=it(t),s=it(s)),e(t,s)}}function Wl(e,t,s,i,f,p,_,S,R,L){var k=t&et,M=k?_:y,X=k?y:_,oe=k?p:y,ce=k?y:p;t|=k?cr:qt,t&=~(k?qt:cr),t&jn||(t&=~(vr|mt));var we=[e,t,f,oe,M,ce,X,S,R,L],he=s.apply(y,we);return Wo(e)&&Bc(he,we),he.placeholder=i,ac(he,e,t)}function Uo(e){var t=Ta[e];return function(s,i){if(s=it(s),i=i==null?0:wr($e(i),292),i&&kc(s)){var f=(Ke(s)+"e").split("e");return f=(Ke(t(f[0]+"e"+(+f[1]+i)))+"e").split("e"),+(f[0]+"e"+(+f[1]-i))}return t(s)}}function Kl(e){return function(t){var s=$r(t);return s==Ue?Pe(t):s==rr?fe(t):ae(t,e(t))}}function Ft(e,t,s,i,f,p,_,S){var R=t&mt;if(!R&&typeof e!="function")throw new ut(Je);var L=i?i.length:0;if(L||(t&=~(cr|qt),i=f=y),_=_===y?_:pr($e(_),0),S=S===y?S:$e(S),L-=f?f.length:0,t&qt){var k=i,M=f;i=f=y}var X=R?y:fi(e),oe=[e,t,s,i,f,k,M,p,_,S];if(X&&fv(oe,X),e=oe[0],t=oe[1],s=oe[2],i=oe[3],f=oe[4],S=oe[9]=oe[9]===y?R?0:e.length:pr(oe[9]-L,0),!S&&t&(et|Rt)&&(t&=~(et|Rt)),t&&t!=vr)ce=t==et||t==Rt?Qm(e,t,S):t!=cr&&t!=(vr|cr)||f.length?Hn.apply(y,oe):Zm(e,t,s,i);else var ce=Jm(e,t,s);return ac((X?Uc:Bc)(ce,oe),e,t)}function Gl(e,t,s,i){return e===y||pt(e,Ca[s])&&!Ge.call(i,s)?t:e}function Jl(e,t,s,i,f,p){return ar(e)&&ar(t)&&(p.set(t,e),Un(e,t,y,Jl,p),p.delete(t)),e}function Ym(e){return un(e)?y:e}function Ql(e,t,s,i,f,p){var _=s&jt,S=e.length,R=t.length;if(S!=R&&!(_&&R>S))return!1;var L=p.get(e),k=p.get(t);if(L&&k)return L==t&&k==e;var M=-1,X=!0,oe=s&oa?new pa:y;for(p.set(e,t),p.set(t,e);++M<S;){var ce=e[M],we=t[M];if(i)var he=_?i(we,ce,M,t,e,p):i(ce,we,M,e,t,p);if(he!==y){if(he)continue;X=!1;break}if(oe){if(!$(t,function(Re,xe){if(!Z(oe,xe)&&(ce===Re||f(ce,Re,s,i,p)))return oe.push(xe)})){X=!1;break}}else if(ce!==we&&!f(ce,we,s,i,p)){X=!1;break}}return p.delete(e),p.delete(t),X}function Xm(e,t,s,i,f,p,_){switch(s){case rt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Dr:return!(e.byteLength!=t.byteLength||!p(new cs(e),new cs(t)));case ye:case Ie:case We:return pt(+e,+t);case Ye:return e.name==t.name&&e.message==t.message;case hr:case Fe:return e==t+"";case Ue:var S=Pe;case rr:var R=i&jt;if(S||(S=J),e.size!=t.size&&!R)return!1;var L=_.get(e);if(L)return L==t;i|=oa,_.set(e,t);var k=Ql(S(e),S(t),i,f,p,_);return _.delete(e),k;case yr:if(dn)return dn.call(e)==dn.call(t)}return!1}function ev(e,t,s,i,f,p){var _=s&jt,S=qo(e),R=S.length;if(R!=qo(t).length&&!_)return!1;for(var L=R;L--;){var k=S[L];if(!(_?k in t:Ge.call(t,k)))return!1}var M=p.get(e),X=p.get(t);if(M&&X)return M==t&&X==e;var oe=!0;p.set(e,t),p.set(t,e);for(var ce=_;++L<R;){k=S[L];var we=e[k],he=t[k];if(i)var Re=_?i(he,we,k,t,e,p):i(we,he,k,e,t,p);if(!(Re===y?we===he||f(we,he,s,i,p):Re)){oe=!1;break}ce||(ce=k=="constructor")}if(oe&&!ce){var xe=e.constructor,Sr=t.constructor;xe!=Sr&&"constructor"in e&&"constructor"in t&&!(typeof xe=="function"&&xe instanceof xe&&typeof Sr=="function"&&Sr instanceof Sr)&&(oe=!1)}return p.delete(e),p.delete(t),oe}function Lt(e){return di(rc(e,y,uc),e+"")}function qo(e){return gl(e,_r,hi)}function Vo(e){return gl(e,Mr,Vc)}function Jn(e){for(var t=e.name+"",s=Fa[t],i=Ge.call(Fa,t)?s.length:0;i--;){var f=s[i],p=f.func;if(p==null||p==e)return f.name}return t}function xa(e){return(Ge.call(l,"placeholder")?l:e).placeholder}function pe(){var e=l.iteratee||ei;return e=e===ei?El:e,arguments.length?e(arguments[0],arguments[1]):e}function Qn(e,t){var s=e.__data__;return uv(t)?s[typeof t=="string"?"string":"hash"]:s.map}function Bo(e){for(var t=_r(e),s=t.length;s--;){var i=t[s],f=e[i];t[s]=[i,f,Xl(f)]}return t}function ya(e,t){var s=le(e,t);return bl(s)?s:y}function rv(e){var t=Ge.call(e,_a),s=e[_a];try{e[_a]=y;var i=!0}catch(p){}var f=us.call(e);return i&&(t?e[_a]=s:delete e[_a]),f}function tv(e,t,s){for(var i=-1,f=s.length;++i<f;){var p=s[i],_=p.size;switch(p.type){case"drop":e+=_;break;case"dropRight":t-=_;break;case"take":t=wr(t,e+_);break;case"takeRight":e=pr(e,t-_)}}return{start:e,end:t}}function av(e){var t=e.match(co);return t?t[1].split(fo):[]}function Zl(e,t,s){t=Qt(t,e);for(var i=-1,f=t.length,p=!1;++i<f;){var _=St(t[i]);if(!(p=e!=null&&s(e,_)))break;e=e[_]}return p||++i!=f?p:(f=e==null?0:e.length,!!f&&ts(f)&&zt(_,f)&&(be(e)||ba(e)))}function nv(e){var t=e.length,s=new e.constructor(t);return t&&typeof e[0]=="string"&&Ge.call(e,"index")&&(s.index=e.index,s.input=e.input),s}function Yl(e){return typeof e.constructor!="function"||on(e)?{}:La(fs(e))}function sv(e,t,s){var i=e.constructor;switch(t){case Dr:return zo(e);case ye:case Ie:return new i(+e);case rt:return Vm(e,s);case Bt:case Ht:case gt:case _t:case Kr:case bt:case ua:case ht:case Za:return Cl(e,s);case Ue:return new i;case We:case Fe:return new i(e);case hr:return Bm(e);case rr:return new i;case yr:return Hm(e)}}function ov(e,t){var s=t.length;if(!s)return e;var i=s-1;return t[i]=(s>1?"& ":"")+t[i],t=t.join(s>2?", ":" "),e.replace(Tn,`{
/* [wrapped with `+t+`] */
`)}function iv(e){return be(e)||ba(e)||!!(Cc&&e&&e[Cc])}function zt(e,t){var s=typeof e;return t=t==null?yt:t,!!t&&(s=="number"||s!="symbol"&&lp.test(e))&&e>-1&&e%1==0&&e<t}function jr(e,t,s){if(!ar(s))return!1;var i=typeof t;return!!(i=="number"?zr(s)&&zt(t,s.length):i=="string"&&t in s)&&pt(s[t],e)}function Ho(e,t){if(be(e))return!1;var s=typeof e;return!(s!="number"&&s!="symbol"&&s!="boolean"&&e!=null&&!Jr(e))||Xa.test(e)||!Kt.test(e)||t!=null&&e in er(t)}function uv(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Wo(e){var t=Jn(e),s=l[t];if(typeof s!="function"||!(t in se.prototype))return!1;if(e===s)return!0;var i=fi(s);return!!i&&e===i[0]}function lv(e){return!!Rc&&Rc in e}function on(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Ca)}function Xl(e){return e===e&&!ar(e)}function ec(e,t){return function(s){return s!=null&&s[e]===t&&(t!==y||e in er(s))}}function cv(e){var t=es(e,function(i){return s.size===Ir&&s.clear(),i}),s=t.cache;return t}function fv(e,t){var s=e[1],i=t[1],f=s|i,p=f<(vr|mt|ft),_=i==ft&&s==et||i==ft&&s==ia&&e[7].length<=t[8]||i==(ft|ia)&&t[7].length<=t[8]&&s==et;if(!p&&!_)return e;i&vr&&(e[2]=t[2],f|=s&vr?0:jn);var S=t[3];if(S){var R=e[3];e[3]=R?Fl(R,S,t[4]):S,e[4]=R?q(e[3],At):t[4]}return S=t[5],S&&(R=e[5],e[5]=R?Ll(R,S,t[6]):S,e[6]=R?q(e[5],At):t[6]),S=t[7],S&&(e[7]=S),i&ft&&(e[8]=e[8]==null?t[8]:wr(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=f,e}function hv(e){var t=[];if(e!=null)for(var s in er(e))t.push(s);return t}function dv(e){return us.call(e)}function rc(e,t,s){return t=pr(t===y?e.length-1:t,0),function(){for(var i=arguments,f=-1,p=pr(i.length-t,0),_=dr(p);++f<p;)_[f]=i[t+f];f=-1;for(var S=dr(t+1);++f<t;)S[f]=i[f];return S[t]=s(_),n(e,this,S)}}function tc(e,t){return t.length<2?e:va(e,st(t,0,-1))}function pv(e,t){for(var s=e.length,i=wr(t.length,s),f=Lr(e);i--;){var p=t[i];e[i]=zt(p,s)?f[p]:y}return e}function Ko(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]}function ac(e,t,s){var i=t+"";return di(e,ov(i,mv(av(i),s)))}function nc(e){var t=0,s=0;return function(){var i=w0(),f=so-(i-s);if(s=i,f>0){if(++t>=Vt)return arguments[0]}else t=0;return e.apply(y,arguments)}}function Zn(e,t){var s=-1,i=e.length,f=i-1;for(t=t===y?i:t;++s<t;){var p=xo(s,f),_=e[p];e[p]=e[s],e[s]=_}return e.length=t,e}function St(e){if(typeof e=="string"||Jr(e))return e;var t=e+"";return t=="0"&&1/e==-vt?"-0":t}function ga(e){if(e!=null){try{return is.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function mv(e,t){return o(I,function(s){var i="_."+s[0];t&s[1]&&!h(e,i)&&e.push(i)}),e.sort()}function sc(e){if(e instanceof se)return e.clone();var t=new de(e.__wrapped__,e.__chain__);return t.__actions__=Lr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function vv(e,t,s){t=(s?jr(e,t,s):t===y)?1:pr($e(t),0);var i=e==null?0:e.length;if(!i||t<1)return[];for(var f=0,p=0,_=dr(ps(i/t));f<i;)_[p++]=st(e,f,f+=t);return _}function yv(e){for(var t=-1,s=e==null?0:e.length,i=0,f=[];++t<s;){var p=e[t];p&&(f[i++]=p)}return f}function gv(){var e=arguments.length;if(!e)return[];for(var t=dr(e-1),s=arguments[0],i=e;i--;)t[i-1]=arguments[i];return P(be(s)?Lr(s):[s],Er(t,1))}function _v(e,t,s){var i=e==null?0:e.length;return i?(t=s||t===y?1:$e(t),st(e,t<0?0:t,i)):[]}function bv(e,t,s){var i=e==null?0:e.length;return i?(t=s||t===y?1:$e(t),t=i-t,st(e,0,t<0?0:t)):[]}function Ev(e,t){return e&&e.length?Vn(e,pe(t,3),!0,!0):[]}function Pv(e,t){return e&&e.length?Vn(e,pe(t,3),!0):[]}function wv(e,t,s,i){var f=e==null?0:e.length;return f?(s&&typeof s!="number"&&jr(e,t,s)&&(s=0,i=f),Pm(e,t,s,i)):[]}function oc(e,t,s){var i=e==null?0:e.length;if(!i)return-1;var f=s==null?0:$e(s);return f<0&&(f=pr(i+f,0)),O(e,pe(t,3),f)}function ic(e,t,s){var i=e==null?0:e.length;if(!i)return-1;var f=i-1;return s!==y&&(f=$e(s),f=s<0?pr(i+f,0):wr(f,i-1)),O(e,pe(t,3),f,!0)}function uc(e){return e!=null&&e.length?Er(e,1):[]}function $v(e){return e!=null&&e.length?Er(e,vt):[]}function Sv(e,t){return e!=null&&e.length?(t=t===y?1:$e(t),Er(e,t)):[]}function Ov(e){for(var t=-1,s=e==null?0:e.length,i={};++t<s;){var f=e[t];i[f[0]]=f[1]}return i}function lc(e){return e&&e.length?e[0]:y}function Iv(e,t,s){var i=e==null?0:e.length;if(!i)return-1;var f=s==null?0:$e(s);return f<0&&(f=pr(i+f,0)),N(e,t,f)}function Dv(e){return e!=null&&e.length?st(e,0,-1):[]}function Av(e,t){return e==null?"":E0.call(e,t)}function ot(e){var t=e==null?0:e.length;return t?e[t-1]:y}function jv(e,t,s){var i=e==null?0:e.length;if(!i)return-1;var f=i;return s!==y&&(f=$e(s),f=f<0?pr(i+f,0):wr(f,i-1)),t===t?je(e,t,f):O(e,F,f,!0)}function Rv(e,t){return e&&e.length?Sl(e,$e(t)):y}function cc(e,t){return e&&e.length&&t&&t.length?Ro(e,t):e}function xv(e,t,s){return e&&e.length&&t&&t.length?Ro(e,t,pe(s,2)):e}function Nv(e,t,s){return e&&e.length&&t&&t.length?Ro(e,t,y,s):e}function Tv(e,t){var s=[];if(!e||!e.length)return s;var i=-1,f=[],p=e.length;for(t=pe(t,3);++i<p;){var _=e[i];t(_,i,e)&&(s.push(_),f.push(i))}return Dl(e,f),s}function Go(e){return e==null?e:S0.call(e)}function Cv(e,t,s){var i=e==null?0:e.length;return i?(s&&typeof s!="number"&&jr(e,t,s)?(t=0,s=i):(t=t==null?0:$e(t),s=s===y?i:$e(s)),st(e,t,s)):[]}function kv(e,t){return qn(e,t)}function Fv(e,t,s){return To(e,t,pe(s,2))}function Lv(e,t){var s=e==null?0:e.length;if(s){var i=qn(e,t);if(i<s&&pt(e[i],t))return i}return-1}function zv(e,t){return qn(e,t,!0)}function Mv(e,t,s){return To(e,t,pe(s,2),!0)}function Uv(e,t){if(e!=null&&e.length){var s=qn(e,t,!0)-1;if(pt(e[s],t))return s}return-1}function qv(e){return e&&e.length?Al(e):[]}function Vv(e,t){return e&&e.length?Al(e,pe(t,2)):[]}function Bv(e){var t=e==null?0:e.length;return t?st(e,1,t):[]}function Hv(e,t,s){return e&&e.length?(t=s||t===y?1:$e(t),st(e,0,t<0?0:t)):[]}function Wv(e,t,s){var i=e==null?0:e.length;return i?(t=s||t===y?1:$e(t),t=i-t,st(e,t<0?0:t,i)):[]}function Kv(e,t){return e&&e.length?Vn(e,pe(t,3),!1,!0):[]}function Gv(e,t){return e&&e.length?Vn(e,pe(t,3)):[]}function Jv(e){return e&&e.length?Jt(e):[]}function Qv(e,t){return e&&e.length?Jt(e,pe(t,2)):[]}function Zv(e,t){return t=typeof t=="function"?t:y,e&&e.length?Jt(e,y,t):[]}function Jo(e){if(!e||!e.length)return[];var t=0;return e=c(e,function(s){if(fr(s))return t=pr(s.length,t),!0}),re(t,function(s){return g(e,G(s))})}function fc(e,t){if(!e||!e.length)return[];var s=Jo(e);return t==null?s:g(s,function(i){return n(t,y,i)})}function Yv(e,t){return Nl(e||[],t||[],en)}function Xv(e,t){return Nl(e||[],t||[],nn)}function hc(e){var t=l(e);return t.__chain__=!0,t}function ey(e,t){return t(e),e}function Yn(e,t){return t(e)}function ry(){return hc(this)}function ty(){return new de(this.value(),this.__chain__)}function ay(){this.__values__===y&&(this.__values__=Pc(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?y:this.__values__[this.__index__++]}}function ny(){return this}function sy(e){for(var t,s=this;s instanceof te;){var i=sc(s);i.__index__=0,i.__values__=y,t?f.__wrapped__=i:t=i;var f=i;s=s.__wrapped__}return f.__wrapped__=e,t}function oy(){var e=this.__wrapped__;if(e instanceof se){var t=e;return this.__actions__.length&&(t=new se(this)),t=t.reverse(),t.__actions__.push({func:Yn,args:[Go],thisArg:y}),new de(t,this.__chain__)}return this.thru(Go)}function iy(){return xl(this.__wrapped__,this.__actions__)}function uy(e,t,s){var i=be(e)?a:Em;return s&&jr(e,t,s)&&(t=y),i(e,pe(t,3))}function ly(e,t){return(be(e)?c:yl)(e,pe(t,3))}function cy(e,t){return Er(Xn(e,t),1)}function fy(e,t){return Er(Xn(e,t),vt)}function hy(e,t,s){return s=s===y?1:$e(s),Er(Xn(e,t),s)}function dc(e,t){return(be(e)?o:Xt)(e,pe(t,3))}function pc(e,t){return(be(e)?u:zc)(e,pe(t,3))}function dy(e,t,s,i){e=zr(e)?e:Na(e),s=s&&!i?$e(s):0;var f=e.length;return s<0&&(s=pr(f+s,0)),as(e)?s<=f&&e.indexOf(t,s)>-1:!!f&&N(e,t,s)>-1}function Xn(e,t){return(be(e)?g:Pl)(e,pe(t,3))}function py(e,t,s,i){return e==null?[]:(be(t)||(t=t==null?[]:[t]),s=i?y:s,be(s)||(s=s==null?[]:[s]),Ol(e,t,s))}function my(e,t,s){var i=be(e)?b:ie,f=arguments.length<3;return i(e,pe(t,4),s,f,Xt)}function vy(e,t,s){var i=be(e)?w:ie,f=arguments.length<3;return i(e,pe(t,4),s,f,zc)}function yy(e,t){return(be(e)?c:yl)(e,rs(pe(t,3)))}function gy(e){return(be(e)?dl:zm)(e)}function _y(e,t,s){return t=(s?jr(e,t,s):t===y)?1:$e(t),(be(e)?vm:Mm)(e,t)}function by(e){return(be(e)?ym:Um)(e)}function Ey(e){if(e==null)return 0;if(zr(e))return as(e)?Se(e):e.length;var t=$r(e);return t==Ue||t==rr?e.size:Ao(e).length}function Py(e,t,s){var i=be(e)?$:qm;return s&&jr(e,t,s)&&(t=y),i(e,pe(t,3))}function wy(e,t){if(typeof t!="function")throw new ut(Je);return e=$e(e),function(){if(--e<1)return t.apply(this,arguments)}}function mc(e,t,s){return t=s?y:t,t=e&&t==null?e.length:t,Ft(e,ft,y,y,y,y,t)}function vc(e,t){var s;if(typeof t!="function")throw new ut(Je);return e=$e(e),function(){return--e>0&&(s=t.apply(this,arguments)),e<=1&&(t=y),s}}function yc(e,t,s){t=s?y:t;var i=Ft(e,et,y,y,y,y,y,t);return i.placeholder=yc.placeholder,i}function gc(e,t,s){t=s?y:t;var i=Ft(e,Rt,y,y,y,y,y,t);return i.placeholder=gc.placeholder,i}function _c(e,t,s){function i(sr){var lt=X,mn=oe;return X=oe=y,xe=sr,we=e.apply(mn,lt)}function f(sr){return xe=sr,he=pn(S,t),Sr?i(sr):we}function p(sr){var lt=sr-Re,mn=sr-xe,rf=t-lt;return qr?wr(rf,ce-mn):rf}function _(sr){var lt=sr-Re,mn=sr-xe;return Re===y||lt>=t||lt<0||qr&&mn>=ce}function S(){var sr=gs();return _(sr)?R(sr):(he=pn(S,p(sr)),y)}function R(sr){return he=y,ra&&X?i(sr):(X=oe=y,we)}function L(){he!==y&&qc(he),xe=0,X=Re=oe=he=y}function k(){return he===y?we:R(gs())}function M(){var sr=gs(),lt=_(sr);if(X=arguments,oe=this,Re=sr,lt){if(he===y)return f(Re);if(qr)return qc(he),he=pn(S,t),i(Re)}return he===y&&(he=pn(S,t)),we}var X,oe,ce,we,he,Re,xe=0,Sr=!1,qr=!1,ra=!0;if(typeof e!="function")throw new ut(Je);return t=it(t)||0,ar(s)&&(Sr=!!s.leading,qr="maxWait"in s,ce=qr?pr(it(s.maxWait)||0,t):ce,ra="trailing"in s?!!s.trailing:ra),M.cancel=L,M.flush=k,M}function $y(e){return Ft(e,Ga)}function es(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new ut(Je);var s=function(){var i=arguments,f=t?t.apply(this,i):i[0],p=s.cache;if(p.has(f))return p.get(f);var _=e.apply(this,i);return s.cache=p.set(f,_)||p,_};return s.cache=new(es.Cache||Ct),s}function rs(e){if(typeof e!="function")throw new ut(Je);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Sy(e){return vc(2,e)}function Oy(e,t){if(typeof e!="function")throw new ut(Je);return t=t===y?t:$e(t),Ae(e,t)}function Iy(e,t){if(typeof e!="function")throw new ut(Je);return t=t==null?0:pr($e(t),0),Ae(function(s){var i=s[t],f=Zt(s,0,t);return i&&P(f,i),n(e,this,f)})}function Dy(e,t,s){var i=!0,f=!0;if(typeof e!="function")throw new ut(Je);return ar(s)&&(i="leading"in s?!!s.leading:i,f="trailing"in s?!!s.trailing:f),_c(e,t,{leading:i,maxWait:t,trailing:f})}function Ay(e){return mc(e,1)}function jy(e,t){return mi(Lo(t),e)}function Ry(){if(!arguments.length)return[];var e=arguments[0];return be(e)?e:[e]}function xy(e){return nt(e,Xr)}function Ny(e,t){return t=typeof t=="function"?t:y,nt(e,Xr,t)}function Ty(e){return nt(e,Yr|Xr)}function Cy(e,t){return t=typeof t=="function"?t:y,nt(e,Yr|Xr,t)}function ky(e,t){return t==null||ml(e,t,_r(t))}function pt(e,t){return e===t||e!==e&&t!==t}function zr(e){return e!=null&&ts(e.length)&&!Mt(e)}function fr(e){return nr(e)&&zr(e)}function Fy(e){return e===!0||e===!1||nr(e)&&Ar(e)==ye}function Ly(e){return nr(e)&&e.nodeType===1&&!un(e)}function zy(e){if(e==null)return!0;if(zr(e)&&(be(e)||typeof e=="string"||typeof e.splice=="function"||ea(e)||za(e)||ba(e)))return!e.length;var t=$r(e);if(t==Ue||t==rr)return!e.size;if(on(e))return!Ao(e).length;for(var s in e)if(Ge.call(e,s))return!1;return!0}function My(e,t){return an(e,t)}function Uy(e,t,s){s=typeof s=="function"?s:y;var i=s?s(e,t):y;return i===y?an(e,t,y,s):!!i}function Qo(e){if(!nr(e))return!1;var t=Ar(e);return t==Ye||t==Me||typeof e.message=="string"&&typeof e.name=="string"&&!un(e)}function qy(e){return typeof e=="number"&&kc(e)}function Mt(e){if(!ar(e))return!1;var t=Ar(e);return t==De||t==Qe||t==Y||t==xt}function bc(e){return typeof e=="number"&&e==$e(e)}function ts(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=yt}function ar(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function nr(e){return e!=null&&typeof e=="object"}function Vy(e,t){return e===t||Do(e,t,Bo(t))}function By(e,t,s){return s=typeof s=="function"?s:y,Do(e,t,Bo(t),s)}function Hy(e){return Ec(e)&&e!=+e}function Wy(e){if(T0(e))throw new si(Nr);return bl(e)}function Ky(e){return e===null}function Gy(e){return e==null}function Ec(e){return typeof e=="number"||nr(e)&&Ar(e)==We}function un(e){if(!nr(e)||Ar(e)!=ke)return!1;var t=fs(e);if(t===null)return!0;var s=Ge.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&is.call(s)==p0}function Jy(e){return bc(e)&&e>=-yt&&e<=yt}function as(e){return typeof e=="string"||!be(e)&&nr(e)&&Ar(e)==Fe}function Jr(e){return typeof e=="symbol"||nr(e)&&Ar(e)==yr}function Qy(e){return e===y}function Zy(e){return nr(e)&&$r(e)==Pr}function Yy(e){return nr(e)&&Ar(e)==Nt}function Pc(e){if(!e)return[];if(zr(e))return as(e)?ze(e):Lr(e);if(ln&&e[ln])return Ve(e[ln]());var t=$r(e);return(t==Ue?Pe:t==rr?J:Na)(e)}function Ut(e){return e?(e=it(e),e===vt||e===-vt?(e<0?-1:1)*Rn:e===e?e:0):e===0?e:0}function $e(e){var t=Ut(e),s=t%1;return t===t?s?t-s:t:0}function wc(e){return e?ma($e(e),0,Wr):0}function it(e){if(typeof e=="number")return e;if(Jr(e))return Ia;if(ar(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ar(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ee(e);var s=Lu.test(e);return s||up.test(e)?Mp(e.slice(2),s?2:8):Fu.test(e)?Ia:+e}function $c(e){return $t(e,Mr(e))}function Xy(e){return e?ma($e(e),-yt,yt):e===0?e:0}function Ke(e){return e==null?"":Gr(e)}function eg(e,t){var s=La(e);return t==null?s:pl(s,t)}function rg(e,t){return j(e,pe(t,3),wt)}function tg(e,t){return j(e,pe(t,3),So)}function ag(e,t){return e==null?e:ci(e,pe(t,3),Mr)}function ng(e,t){return e==null?e:Mc(e,pe(t,3),Mr)}function sg(e,t){return e&&wt(e,pe(t,3))}function og(e,t){return e&&So(e,pe(t,3))}function ig(e){return e==null?[]:Mn(e,_r(e))}function ug(e){return e==null?[]:Mn(e,Mr(e))}function Zo(e,t,s){var i=e==null?y:va(e,t);return i===y?s:i}function lg(e,t){return e!=null&&Zl(e,t,wm)}function Yo(e,t){return e!=null&&Zl(e,t,$m)}function _r(e){return zr(e)?hl(e):Ao(e)}function Mr(e){return zr(e)?hl(e,!0):Tm(e)}function cg(e,t){var s={};return t=pe(t,3),wt(e,function(i,f,p){kt(s,t(i,f,p),i)}),s}function fg(e,t){var s={};return t=pe(t,3),wt(e,function(i,f,p){kt(s,f,t(i,f,p))}),s}function hg(e,t){return Sc(e,rs(pe(t)))}function Sc(e,t){if(e==null)return{};var s=g(Vo(e),function(i){return[i]});return t=pe(t),Il(e,s,function(i,f){return t(i,f[0])})}function dg(e,t,s){t=Qt(t,e);var i=-1,f=t.length;for(f||(f=1,e=y);++i<f;){var p=e==null?y:e[St(t[i])];p===y&&(i=f,p=s),e=Mt(p)?p.call(e):p}return e}function pg(e,t,s){return e==null?e:nn(e,t,s)}function mg(e,t,s,i){return i=typeof i=="function"?i:y,e==null?e:nn(e,t,s,i)}function vg(e,t,s){var i=be(e),f=i||ea(e)||za(e);if(t=pe(t,4),s==null){var p=e&&e.constructor;s=f?i?new p:[]:ar(e)&&Mt(p)?La(fs(e)):{}}return(f?o:wt)(e,function(_,S,R){return t(s,_,S,R)}),s}function yg(e,t){return e==null||Co(e,t)}function gg(e,t,s){return e==null?e:Rl(e,t,Lo(s))}function _g(e,t,s,i){return i=typeof i=="function"?i:y,e==null?e:Rl(e,t,Lo(s),i)}function Na(e){return e==null?[]:B(e,_r(e))}function bg(e){return e==null?[]:B(e,Mr(e))}function Eg(e,t,s){return s===y&&(s=t,t=y),s!==y&&(s=it(s),s=s===s?s:0),t!==y&&(t=it(t),t=t===t?t:0),ma(it(e),t,s)}function Pg(e,t,s){return t=Ut(t),s===y?(s=t,t=0):s=Ut(s),e=it(e),Sm(e,t,s)}function wg(e,t,s){if(s&&typeof s!="boolean"&&jr(e,t,s)&&(t=s=y),s===y&&(typeof t=="boolean"?(s=t,t=y):typeof e=="boolean"&&(s=e,e=y)),e===y&&t===y?(e=0,t=1):(e=Ut(e),t===y?(t=e,e=0):t=Ut(t)),e>t){var i=e;e=t,t=i}if(s||e%1||t%1){var f=Fc();return wr(e+f*(t-e+zp("1e-"+((f+"").length-1))),t)}return xo(e,t)}function Oc(e){return yi(Ke(e).toLowerCase())}function Ic(e){return e=Ke(e),e&&e.replace(cp,Vp).replace(Ap,"")}function $g(e,t,s){e=Ke(e),t=Gr(t);var i=e.length;s=s===y?i:ma($e(s),0,i);var f=s;return s-=t.length,s>=0&&e.slice(s,f)==t}function Sg(e){return e=Ke(e),e&&uo.test(e)?e.replace(Ya,Bp):e}function Og(e){return e=Ke(e),e&&Nu.test(e)?e.replace(Et,"\\$&"):e}function Ig(e,t,s){e=Ke(e),t=$e(t);var i=t?Se(e):0;if(!t||i>=t)return e;var f=(t-i)/2;return Kn(ms(f),s)+e+Kn(ps(f),s)}function Dg(e,t,s){e=Ke(e),t=$e(t);var i=t?Se(e):0;return t&&i<t?e+Kn(t-i,s):e}function Ag(e,t,s){e=Ke(e),t=$e(t);var i=t?Se(e):0;return t&&i<t?Kn(t-i,s)+e:e}function jg(e,t,s){return s||t==null?t=0:t&&(t=+t),$0(Ke(e).replace(Pt,""),t||0)}function Rg(e,t,s){return t=(s?jr(e,t,s):t===y)?1:$e(t),No(Ke(e),t)}function xg(){var e=arguments,t=Ke(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function Ng(e,t,s){return s&&typeof s!="number"&&jr(e,t,s)&&(t=s=y),(s=s===y?Wr:s>>>0)?(e=Ke(e),e&&(typeof t=="string"||t!=null&&!vi(t))&&(t=Gr(t),!t&&Le(e))?Zt(ze(e),0,s):e.split(t,s)):[]}function Tg(e,t,s){return e=Ke(e),s=s==null?0:ma($e(s),0,e.length),t=Gr(t),e.slice(s,s+t.length)==t}function Cg(e,t,s){var i=l.templateSettings;s&&jr(e,t,s)&&(t=y),e=Ke(e),t=_s({},t,i,Gl);var f,p,_=_s({},t.imports,i.imports,Gl),S=_r(_),R=B(_,S),L=0,k=t.interpolate||Cn,M="__p += '",X=oi((t.escape||Cn).source+"|"+k.source+"|"+(k===tt?ku:Cn).source+"|"+(t.evaluate||Cn).source+"|$","g"),oe="//# sourceURL="+(Ge.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Tp+"]")+`
`;e.replace(X,function(he,Re,xe,Sr,qr,ra){return xe||(xe=Sr),M+=e.slice(L,ra).replace(fp,_e),Re&&(f=!0,M+=`' +
__e(`+Re+`) +
'`),qr&&(p=!0,M+=`';
`+qr+`;
__p += '`),xe&&(M+=`' +
((__t = (`+xe+`)) == null ? '' : __t) +
'`),L=ra+he.length,he}),M+=`';
`;var ce=Ge.call(t,"variable")&&t.variable;if(ce){if(Tu.test(ce))throw new si(br)}else M=`with (obj) {
`+M+`
}
`;M=(p?M.replace(io,""):M).replace(xn,"$1").replace(la,"$1;"),M="function("+(ce||"obj")+`) {
`+(ce?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(f?", __e = _.escape":"")+(p?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+M+`return __p
}`;var we=ef(function(){return jc(S,oe+"return "+M).apply(y,R)});if(we.source=M,Qo(we))throw we;return we}function kg(e){return Ke(e).toLowerCase()}function Fg(e){return Ke(e).toUpperCase()}function Lg(e,t,s){if(e=Ke(e),e&&(s||t===y))return ee(e);if(!e||!(t=Gr(t)))return e;var i=ze(e),f=ze(t);return Zt(i,Te(i,f),Ee(i,f)+1).join("")}function zg(e,t,s){if(e=Ke(e),e&&(s||t===y))return e.slice(0,He(e)+1);if(!e||!(t=Gr(t)))return e;var i=ze(e);return Zt(i,0,Ee(i,ze(t))+1).join("")}function Mg(e,t,s){if(e=Ke(e),e&&(s||t===y))return e.replace(Pt,"");if(!e||!(t=Gr(t)))return e;var i=ze(e);return Zt(i,Te(i,ze(t))).join("")}function Ug(e,t){var s=ao,i=no;if(ar(t)){var f="separator"in t?t.separator:f;s="length"in t?$e(t.length):s,i="omission"in t?Gr(t.omission):i}e=Ke(e);var p=e.length;if(Le(e)){var _=ze(e);p=_.length}if(s>=p)return e;var S=s-Se(i);if(S<1)return i;var R=_?Zt(_,0,S).join(""):e.slice(0,S);if(f===y)return R+i;if(_&&(S+=R.length-S),vi(f)){if(e.slice(S).search(f)){var L,k=R;for(f.global||(f=oi(f.source,Ke(po.exec(f))+"g")),f.lastIndex=0;L=f.exec(k);)var M=L.index;R=R.slice(0,M===y?S:M)}}else if(e.indexOf(Gr(f),S)!=S){var X=R.lastIndexOf(f);X>-1&&(R=R.slice(0,X))}return R+i}function qg(e){return e=Ke(e),e&&ca.test(e)?e.replace(Wt,Hp):e}function Dc(e,t,s){return e=Ke(e),t=s?y:t,t===y?ur(e)?ct(e):D(e):e.match(t)||[]}function Vg(e){var t=e==null?0:e.length,s=pe();return e=t?g(e,function(i){if(typeof i[1]!="function")throw new ut(Je);return[s(i[0]),i[1]]}):[],Ae(function(i){for(var f=-1;++f<t;){var p=e[f];if(n(p[0],this,i))return n(p[1],this,i)}})}function Bg(e){return bm(nt(e,Yr))}function Xo(e){return function(){return e}}function Hg(e,t){return e==null||e!==e?t:e}function Ur(e){return e}function ei(e){return El(typeof e=="function"?e:nt(e,Yr))}function Wg(e){return wl(nt(e,Yr))}function Kg(e,t){return $l(e,nt(t,Yr))}function ri(e,t,s){var i=_r(t),f=Mn(t,i);s!=null||ar(t)&&(f.length||!i.length)||(s=t,t=e,e=this,f=Mn(t,_r(t)));var p=!(ar(s)&&"chain"in s&&!s.chain),_=Mt(e);return o(f,function(S){var R=t[S];e[S]=R,_&&(e.prototype[S]=function(){var L=this.__chain__;if(p||L){var k=e(this.__wrapped__);return(k.__actions__=Lr(this.__actions__)).push({func:R,args:arguments,thisArg:e}),k.__chain__=L,k}return R.apply(e,P([this.value()],arguments))})}),e}function Gg(){return gr._===this&&(gr._=m0),this}function ti(){}function Jg(e){return e=$e(e),Ae(function(t){return Sl(t,e)})}function Ac(e){return Ho(e)?G(St(e)):Fm(e)}function Qg(e){return function(t){return e==null?y:va(e,t)}}function ai(){return[]}function ni(){return!1}function Zg(){return{}}function Yg(){return""}function Xg(){return!0}function e0(e,t){if(e=$e(e),e<1||e>yt)return[];var s=Wr,i=wr(e,Wr);t=pe(t),e-=Wr;for(var f=re(i,t);++s<e;)t(s);return f}function r0(e){return be(e)?g(e,St):Jr(e)?[e]:Lr(Hc(Ke(e)))}function t0(e){var t=++d0;return Ke(e)+t}function a0(e){return e&&e.length?zn(e,Ur,Oo):y}function n0(e,t){return e&&e.length?zn(e,pe(t,2),Oo):y}function s0(e){return H(e,Ur)}function o0(e,t){return H(e,pe(t,2))}function i0(e){return e&&e.length?zn(e,Ur,jo):y}function u0(e,t){return e&&e.length?zn(e,pe(t,2),jo):y}function l0(e){return e&&e.length?W(e,Ur):0}function c0(e,t){return e&&e.length?W(e,pe(t,2)):0}C=C==null?gr:Gt.defaults(gr.Object(),C,Gt.pick(gr,Np));var dr=C.Array,ns=C.Date,si=C.Error,jc=C.Function,Ta=C.Math,er=C.Object,oi=C.RegExp,f0=C.String,ut=C.TypeError,ss=dr.prototype,h0=jc.prototype,Ca=er.prototype,os=C["__core-js_shared__"],is=h0.toString,Ge=Ca.hasOwnProperty,d0=0,Rc=function(){var e=/[^.]+$/.exec(os&&os.keys&&os.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),us=Ca.toString,p0=is.call(er),m0=gr._,v0=oi("^"+is.call(Ge).replace(Et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ls=sl?C.Buffer:y,Yt=C.Symbol,cs=C.Uint8Array,xc=ls?ls.allocUnsafe:y,fs=Q(er.getPrototypeOf,er),Nc=er.create,Tc=Ca.propertyIsEnumerable,hs=ss.splice,Cc=Yt?Yt.isConcatSpreadable:y,ln=Yt?Yt.iterator:y,_a=Yt?Yt.toStringTag:y,ds=function(){try{var e=ya(er,"defineProperty");return e({},"",{}),e}catch(t){}}(),y0=C.clearTimeout!==gr.clearTimeout&&C.clearTimeout,g0=ns&&ns.now!==gr.Date.now&&ns.now,_0=C.setTimeout!==gr.setTimeout&&C.setTimeout,ps=Ta.ceil,ms=Ta.floor,ii=er.getOwnPropertySymbols,b0=ls?ls.isBuffer:y,kc=C.isFinite,E0=ss.join,P0=Q(er.keys,er),pr=Ta.max,wr=Ta.min,w0=ns.now,$0=C.parseInt,Fc=Ta.random,S0=ss.reverse,ui=ya(C,"DataView"),cn=ya(C,"Map"),li=ya(C,"Promise"),ka=ya(C,"Set"),fn=ya(C,"WeakMap"),hn=ya(er,"create"),vs=fn&&new fn,Fa={},O0=ga(ui),I0=ga(cn),D0=ga(li),A0=ga(ka),j0=ga(fn),ys=Yt?Yt.prototype:y,dn=ys?ys.valueOf:y,Lc=ys?ys.toString:y,La=function(){function e(){}return function(t){if(!ar(t))return{};if(Nc)return Nc(t);e.prototype=t;var s=new e;return e.prototype=y,s}}();l.templateSettings={escape:Nn,evaluate:lo,interpolate:tt,variable:"",imports:{_:l}},l.prototype=te.prototype,l.prototype.constructor=l,de.prototype=La(te.prototype),de.prototype.constructor=de,se.prototype=La(te.prototype),se.prototype.constructor=se,da.prototype.clear=Gp,da.prototype.delete=Jp,da.prototype.get=Qp,da.prototype.has=Zp,da.prototype.set=Yp,Tt.prototype.clear=Xp,Tt.prototype.delete=em,Tt.prototype.get=rm,Tt.prototype.has=tm,Tt.prototype.set=am,Ct.prototype.clear=nm,Ct.prototype.delete=sm,Ct.prototype.get=om,Ct.prototype.has=im,Ct.prototype.set=um,pa.prototype.add=pa.prototype.push=lm,pa.prototype.has=cm,dt.prototype.clear=fm,dt.prototype.delete=hm,dt.prototype.get=dm,dt.prototype.has=pm,dt.prototype.set=mm;var Xt=zl(wt),zc=zl(So,!0),ci=Ml(),Mc=Ml(!0),Uc=vs?function(e,t){return vs.set(e,t),e}:Ur,R0=ds?function(e,t){return ds(e,"toString",{configurable:!0,enumerable:!1,value:Xo(t),writable:!0})}:Ur,x0=Ae,qc=y0||function(e){return gr.clearTimeout(e)},N0=ka&&1/J(new ka([,-0]))[1]==vt?function(e){return new ka(e)}:ti,fi=vs?function(e){return vs.get(e)}:ti,hi=ii?function(e){return e==null?[]:(e=er(e),c(ii(e),function(t){return Tc.call(e,t)}))}:ai,Vc=ii?function(e){for(var t=[];e;)P(t,hi(e)),e=fs(e);return t}:ai,$r=Ar;(ui&&$r(new ui(new ArrayBuffer(1)))!=rt||cn&&$r(new cn)!=Ue||li&&$r(li.resolve())!=Be||ka&&$r(new ka)!=rr||fn&&$r(new fn)!=Pr)&&($r=function(e){var t=Ar(e),s=t==ke?e.constructor:y,i=s?ga(s):"";if(i)switch(i){case O0:return rt;case I0:return Ue;case D0:return Be;case A0:return rr;case j0:return Pr}return t});var T0=os?Mt:ni,Bc=nc(Uc),pn=_0||function(e,t){return gr.setTimeout(e,t)},di=nc(R0),Hc=cv(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Da,function(s,i,f,p){t.push(f?p.replace(Cu,"$1"):i||s)}),t}),C0=Ae(function(e,t){return fr(e)?rn(e,Er(t,1,fr,!0)):[]}),k0=Ae(function(e,t){var s=ot(t);return fr(s)&&(s=y),fr(e)?rn(e,Er(t,1,fr,!0),pe(s,2)):[]}),F0=Ae(function(e,t){var s=ot(t);return fr(s)&&(s=y),fr(e)?rn(e,Er(t,1,fr,!0),y,s):[]}),L0=Ae(function(e){var t=g(e,Fo);return t.length&&t[0]===e[0]?Io(t):[]}),z0=Ae(function(e){var t=ot(e),s=g(e,Fo);return t===ot(s)?t=y:s.pop(),s.length&&s[0]===e[0]?Io(s,pe(t,2)):[]}),M0=Ae(function(e){var t=ot(e),s=g(e,Fo);return t=typeof t=="function"?t:y,t&&s.pop(),s.length&&s[0]===e[0]?Io(s,y,t):[]}),U0=Ae(cc),q0=Lt(function(e,t){var s=e==null?0:e.length,i=$o(e,t);return Dl(e,g(t,function(f){return zt(f,s)?+f:f}).sort(kl)),i}),V0=Ae(function(e){return Jt(Er(e,1,fr,!0))}),B0=Ae(function(e){var t=ot(e);return fr(t)&&(t=y),Jt(Er(e,1,fr,!0),pe(t,2))}),H0=Ae(function(e){var t=ot(e);return t=typeof t=="function"?t:y,Jt(Er(e,1,fr,!0),y,t)}),W0=Ae(function(e,t){return fr(e)?rn(e,t):[]}),K0=Ae(function(e){return ko(c(e,fr))}),G0=Ae(function(e){var t=ot(e);return fr(t)&&(t=y),ko(c(e,fr),pe(t,2))}),J0=Ae(function(e){var t=ot(e);return t=typeof t=="function"?t:y,ko(c(e,fr),y,t)}),Q0=Ae(Jo),Z0=Ae(function(e){var t=e.length,s=t>1?e[t-1]:y;return s=typeof s=="function"?(e.pop(),s):y,fc(e,s)}),Y0=Lt(function(e){var t=e.length,s=t?e[0]:0,i=this.__wrapped__,f=function(p){return $o(p,e)};return!(t>1||this.__actions__.length)&&i instanceof se&&zt(s)?(i=i.slice(s,+s+(t?1:0)),i.__actions__.push({func:Yn,args:[f],thisArg:y}),new de(i,this.__chain__).thru(function(p){return t&&!p.length&&p.push(y),p})):this.thru(f)}),X0=Bn(function(e,t,s){Ge.call(e,s)?++e[s]:kt(e,s,1)}),e_=ql(oc),r_=ql(ic),t_=Bn(function(e,t,s){Ge.call(e,s)?e[s].push(t):kt(e,s,[t])}),a_=Ae(function(e,t,s){var i=-1,f=typeof t=="function",p=zr(e)?dr(e.length):[];return Xt(e,function(_){p[++i]=f?n(t,_,s):tn(_,t,s)}),p}),n_=Bn(function(e,t,s){kt(e,s,t)}),s_=Bn(function(e,t,s){e[s?0:1].push(t)},function(){return[[],[]]}),o_=Ae(function(e,t){if(e==null)return[];var s=t.length;return s>1&&jr(e,t[0],t[1])?t=[]:s>2&&jr(t[0],t[1],t[2])&&(t=[t[0]]),Ol(e,Er(t,1),[])}),gs=g0||function(){return gr.Date.now()},pi=Ae(function(e,t,s){var i=vr;if(s.length){var f=q(s,xa(pi));i|=cr}return Ft(e,i,t,s,f)}),Wc=Ae(function(e,t,s){var i=vr|mt;if(s.length){var f=q(s,xa(Wc));i|=cr}return Ft(t,i,e,s,f)}),i_=Ae(function(e,t){return vl(e,1,t)}),u_=Ae(function(e,t,s){return vl(e,it(t)||0,s)});es.Cache=Ct;var l_=x0(function(e,t){t=t.length==1&&be(t[0])?g(t[0],z(pe())):g(Er(t,1),z(pe()));var s=t.length;return Ae(function(i){for(var f=-1,p=wr(i.length,s);++f<p;)i[f]=t[f].call(this,i[f]);return n(e,this,i)})}),mi=Ae(function(e,t){return Ft(e,cr,y,t,q(t,xa(mi)))}),Kc=Ae(function(e,t){return Ft(e,qt,y,t,q(t,xa(Kc)))}),c_=Lt(function(e,t){return Ft(e,ia,y,y,y,t)}),f_=Gn(Oo),h_=Gn(function(e,t){return e>=t}),ba=_l(function(){return arguments}())?_l:function(e){return nr(e)&&Ge.call(e,"callee")&&!Tc.call(e,"callee")},be=dr.isArray,d_=ol?z(ol):Im,ea=b0||ni,p_=il?z(il):Dm,Gc=ul?z(ul):jm,vi=ll?z(ll):Rm,Jc=cl?z(cl):xm,za=fl?z(fl):Nm,m_=Gn(jo),v_=Gn(function(e,t){return e<=t}),y_=ja(function(e,t){if(on(t)||zr(t))return $t(t,_r(t),e),y;for(var s in t)Ge.call(t,s)&&en(e,s,t[s])}),Qc=ja(function(e,t){$t(t,Mr(t),e)}),_s=ja(function(e,t,s,i){$t(t,Mr(t),e,i)}),g_=ja(function(e,t,s,i){$t(t,_r(t),e,i)}),__=Lt($o),b_=Ae(function(e,t){e=er(e);var s=-1,i=t.length,f=i>2?t[2]:y;for(f&&jr(t[0],t[1],f)&&(i=1);++s<i;)for(var p=t[s],_=Mr(p),S=-1,R=_.length;++S<R;){var L=_[S],k=e[L];(k===y||pt(k,Ca[L])&&!Ge.call(e,L))&&(e[L]=p[L])}return e}),E_=Ae(function(e){return e.push(y,Jl),n(Zc,y,e)}),P_=Bl(function(e,t,s){t!=null&&typeof t.toString!="function"&&(t=us.call(t)),e[t]=s},Xo(Ur)),w_=Bl(function(e,t,s){t!=null&&typeof t.toString!="function"&&(t=us.call(t)),Ge.call(e,t)?e[t].push(s):e[t]=[s]},pe),$_=Ae(tn),S_=ja(function(e,t,s){Un(e,t,s)}),Zc=ja(function(e,t,s,i){Un(e,t,s,i)}),O_=Lt(function(e,t){var s={};if(e==null)return s;var i=!1;t=g(t,function(p){return p=Qt(p,e),i||(i=p.length>1),p}),$t(e,Vo(e),s),i&&(s=nt(s,Yr|Cr|Xr,Ym));for(var f=t.length;f--;)Co(s,t[f]);return s}),I_=Lt(function(e,t){return e==null?{}:km(e,t)}),Yc=Kl(_r),Xc=Kl(Mr),D_=Ra(function(e,t,s){return t=t.toLowerCase(),e+(s?Oc(t):t)}),A_=Ra(function(e,t,s){return e+(s?"-":"")+t.toLowerCase()}),j_=Ra(function(e,t,s){return e+(s?" ":"")+t.toLowerCase()}),R_=Ul("toLowerCase"),x_=Ra(function(e,t,s){return e+(s?"_":"")+t.toLowerCase()}),N_=Ra(function(e,t,s){return e+(s?" ":"")+yi(t)}),T_=Ra(function(e,t,s){return e+(s?" ":"")+t.toUpperCase()}),yi=Ul("toUpperCase"),ef=Ae(function(e,t){try{return n(e,y,t)}catch(s){return Qo(s)?s:new si(s)}}),C_=Lt(function(e,t){return o(t,function(s){s=St(s),kt(e,s,pi(e[s],e))}),e}),k_=Vl(),F_=Vl(!0),L_=Ae(function(e,t){return function(s){return tn(s,e,t)}}),z_=Ae(function(e,t){return function(s){return tn(e,s,t)}}),M_=Mo(g),U_=Mo(a),q_=Mo($),V_=Hl(),B_=Hl(!0),H_=Wn(function(e,t){return e+t},0),W_=Uo("ceil"),K_=Wn(function(e,t){return e/t},1),G_=Uo("floor"),J_=Wn(function(e,t){return e*t},1),Q_=Uo("round"),Z_=Wn(function(e,t){return e-t},0);return l.after=wy,l.ary=mc,l.assign=y_,l.assignIn=Qc,l.assignInWith=_s,l.assignWith=g_,l.at=__,l.before=vc,l.bind=pi,l.bindAll=C_,l.bindKey=Wc,l.castArray=Ry,l.chain=hc,l.chunk=vv,l.compact=yv,l.concat=gv,l.cond=Vg,l.conforms=Bg,l.constant=Xo,l.countBy=X0,l.create=eg,l.curry=yc,l.curryRight=gc,l.debounce=_c,l.defaults=b_,l.defaultsDeep=E_,l.defer=i_,l.delay=u_,l.difference=C0,l.differenceBy=k0,l.differenceWith=F0,l.drop=_v,l.dropRight=bv,l.dropRightWhile=Ev,l.dropWhile=Pv,l.fill=wv,l.filter=ly,l.flatMap=cy,l.flatMapDeep=fy,l.flatMapDepth=hy,l.flatten=uc,l.flattenDeep=$v,l.flattenDepth=Sv,l.flip=$y,l.flow=k_,l.flowRight=F_,l.fromPairs=Ov,l.functions=ig,l.functionsIn=ug,l.groupBy=t_,l.initial=Dv,l.intersection=L0,l.intersectionBy=z0,l.intersectionWith=M0,l.invert=P_,l.invertBy=w_,l.invokeMap=a_,l.iteratee=ei,l.keyBy=n_,l.keys=_r,l.keysIn=Mr,l.map=Xn,l.mapKeys=cg,l.mapValues=fg,l.matches=Wg,l.matchesProperty=Kg,l.memoize=es,l.merge=S_,l.mergeWith=Zc,l.method=L_,l.methodOf=z_,l.mixin=ri,l.negate=rs,l.nthArg=Jg,l.omit=O_,l.omitBy=hg,l.once=Sy,l.orderBy=py,l.over=M_,l.overArgs=l_,l.overEvery=U_,l.overSome=q_,l.partial=mi,l.partialRight=Kc,l.partition=s_,l.pick=I_,l.pickBy=Sc,l.property=Ac,l.propertyOf=Qg,l.pull=U0,l.pullAll=cc,l.pullAllBy=xv,l.pullAllWith=Nv,l.pullAt=q0,l.range=V_,l.rangeRight=B_,l.rearg=c_,l.reject=yy,l.remove=Tv,l.rest=Oy,l.reverse=Go,l.sampleSize=_y,l.set=pg,l.setWith=mg,l.shuffle=by,l.slice=Cv,l.sortBy=o_,l.sortedUniq=qv,l.sortedUniqBy=Vv,l.split=Ng,l.spread=Iy,l.tail=Bv,l.take=Hv,l.takeRight=Wv,l.takeRightWhile=Kv,l.takeWhile=Gv,l.tap=ey,l.throttle=Dy,l.thru=Yn,l.toArray=Pc,l.toPairs=Yc,l.toPairsIn=Xc,l.toPath=r0,l.toPlainObject=$c,l.transform=vg,l.unary=Ay,l.union=V0,l.unionBy=B0,l.unionWith=H0,l.uniq=Jv,l.uniqBy=Qv,l.uniqWith=Zv,l.unset=yg,l.unzip=Jo,l.unzipWith=fc,l.update=gg,l.updateWith=_g,l.values=Na,l.valuesIn=bg,l.without=W0,l.words=Dc,l.wrap=jy,l.xor=K0,l.xorBy=G0,l.xorWith=J0,l.zip=Q0,l.zipObject=Yv,l.zipObjectDeep=Xv,l.zipWith=Z0,l.entries=Yc,l.entriesIn=Xc,l.extend=Qc,l.extendWith=_s,ri(l,l),l.add=H_,l.attempt=ef,l.camelCase=D_,l.capitalize=Oc,l.ceil=W_,l.clamp=Eg,l.clone=xy,l.cloneDeep=Ty,l.cloneDeepWith=Cy,l.cloneWith=Ny,l.conformsTo=ky,l.deburr=Ic,l.defaultTo=Hg,l.divide=K_,l.endsWith=$g,l.eq=pt,l.escape=Sg,l.escapeRegExp=Og,l.every=uy,l.find=e_,l.findIndex=oc,l.findKey=rg,l.findLast=r_,l.findLastIndex=ic,l.findLastKey=tg,l.floor=G_,l.forEach=dc,l.forEachRight=pc,l.forIn=ag,l.forInRight=ng,l.forOwn=sg,l.forOwnRight=og,l.get=Zo,l.gt=f_,l.gte=h_,l.has=lg,l.hasIn=Yo,l.head=lc,l.identity=Ur,l.includes=dy,l.indexOf=Iv,l.inRange=Pg,l.invoke=$_,l.isArguments=ba,l.isArray=be,l.isArrayBuffer=d_,l.isArrayLike=zr,l.isArrayLikeObject=fr,l.isBoolean=Fy,l.isBuffer=ea,l.isDate=p_,l.isElement=Ly,l.isEmpty=zy,l.isEqual=My,l.isEqualWith=Uy,l.isError=Qo,l.isFinite=qy,l.isFunction=Mt,l.isInteger=bc,l.isLength=ts,l.isMap=Gc,l.isMatch=Vy,l.isMatchWith=By,l.isNaN=Hy,l.isNative=Wy,l.isNil=Gy,l.isNull=Ky,l.isNumber=Ec,l.isObject=ar,l.isObjectLike=nr,l.isPlainObject=un,l.isRegExp=vi,l.isSafeInteger=Jy,l.isSet=Jc,l.isString=as,l.isSymbol=Jr,l.isTypedArray=za,l.isUndefined=Qy,l.isWeakMap=Zy,l.isWeakSet=Yy,l.join=Av,l.kebabCase=A_,l.last=ot,l.lastIndexOf=jv,l.lowerCase=j_,l.lowerFirst=R_,l.lt=m_,l.lte=v_,l.max=a0,l.maxBy=n0,l.mean=s0,l.meanBy=o0,l.min=i0,l.minBy=u0,l.stubArray=ai,l.stubFalse=ni,l.stubObject=Zg,l.stubString=Yg,l.stubTrue=Xg,l.multiply=J_,l.nth=Rv,l.noConflict=Gg,l.noop=ti,l.now=gs,l.pad=Ig,l.padEnd=Dg,l.padStart=Ag,l.parseInt=jg,l.random=wg,l.reduce=my,l.reduceRight=vy,l.repeat=Rg,l.replace=xg,l.result=dg,l.round=Q_,l.runInContext=A,l.sample=gy,l.size=Ey,l.snakeCase=x_,l.some=Py,l.sortedIndex=kv,l.sortedIndexBy=Fv,l.sortedIndexOf=Lv,l.sortedLastIndex=zv,l.sortedLastIndexBy=Mv,l.sortedLastIndexOf=Uv,l.startCase=N_,l.startsWith=Tg,l.subtract=Z_,l.sum=l0,l.sumBy=c0,l.template=Cg,l.times=e0,l.toFinite=Ut,l.toInteger=$e,l.toLength=wc,l.toLower=kg,l.toNumber=it,l.toSafeInteger=Xy,l.toString=Ke,l.toUpper=Fg,l.trim=Lg,l.trimEnd=zg,l.trimStart=Mg,l.truncate=Ug,l.unescape=qg,l.uniqueId=t0,l.upperCase=T_,l.upperFirst=yi,l.each=dc,l.eachRight=pc,l.first=lc,ri(l,function(){var e={};return wt(l,function(t,s){Ge.call(l.prototype,s)||(e[s]=t)}),e}(),{chain:!1}),l.VERSION=Dt,o(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){l[e].placeholder=l}),o(["drop","take"],function(e,t){se.prototype[e]=function(s){s=s===y?1:pr($e(s),0);var i=this.__filtered__&&!t?new se(this):this.clone();return i.__filtered__?i.__takeCount__=wr(s,i.__takeCount__):i.__views__.push({size:wr(s,Wr),type:e+(i.__dir__<0?"Right":"")}),i},se.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),o(["filter","map","takeWhile"],function(e,t){var s=t+1,i=s==Ja||s==Qa;se.prototype[e]=function(f){var p=this.clone();return p.__iteratees__.push({iteratee:pe(f,3),type:s}),p.__filtered__=p.__filtered__||i,p}}),o(["head","last"],function(e,t){var s="take"+(t?"Right":"");se.prototype[e]=function(){return this[s](1).value()[0]}}),o(["initial","tail"],function(e,t){var s="drop"+(t?"":"Right");se.prototype[e]=function(){return this.__filtered__?new se(this):this[s](1)}}),se.prototype.compact=function(){return this.filter(Ur)},se.prototype.find=function(e){return this.filter(e).head()},se.prototype.findLast=function(e){return this.reverse().find(e)},se.prototype.invokeMap=Ae(function(e,t){return typeof e=="function"?new se(this):this.map(function(s){return tn(s,e,t)})}),se.prototype.reject=function(e){return this.filter(rs(pe(e)))},se.prototype.slice=function(e,t){e=$e(e);var s=this;return s.__filtered__&&(e>0||t<0)?new se(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),t!==y&&(t=$e(t),s=t<0?s.dropRight(-t):s.take(t-e)),s)},se.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},se.prototype.toArray=function(){return this.take(Wr)},wt(se.prototype,function(e,t){var s=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),f=l[i?"take"+(t=="last"?"Right":""):t],p=i||/^find/.test(t);f&&(l.prototype[t]=function(){var _=this.__wrapped__,S=i?[1]:arguments,R=_ instanceof se,L=S[0],k=R||be(_),M=function(Re){var xe=f.apply(l,P([Re],S));return i&&X?xe[0]:xe};k&&s&&typeof L=="function"&&L.length!=1&&(R=k=!1);var X=this.__chain__,oe=!!this.__actions__.length,ce=p&&!X,we=R&&!oe;if(!p&&k){_=we?_:new se(this);var he=e.apply(_,S);return he.__actions__.push({func:Yn,args:[M],thisArg:y}),new de(he,X)}return ce&&we?e.apply(this,S):(he=this.thru(M),ce?i?he.value()[0]:he.value():he)})}),o(["pop","push","shift","sort","splice","unshift"],function(e){var t=ss[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);l.prototype[e]=function(){var f=arguments;if(i&&!this.__chain__){var p=this.value();return t.apply(be(p)?p:[],f)}return this[s](function(_){return t.apply(be(_)?_:[],f)})}}),wt(se.prototype,function(e,t){var s=l[t];if(s){var i=s.name+"";Ge.call(Fa,i)||(Fa[i]=[]),Fa[i].push({name:t,func:s})}}),Fa[Hn(y,mt).name]=[{name:"wrapper",func:y}],se.prototype.clone=Fr,se.prototype.reverse=Po,se.prototype.value=Kp,l.prototype.at=Y0,l.prototype.chain=ry,l.prototype.commit=ty,l.prototype.next=ay,l.prototype.plant=sy,l.prototype.reverse=oy,l.prototype.toJSON=l.prototype.valueOf=l.prototype.value=iy,l.prototype.first=l.prototype.head,ln&&(l.prototype[ln]=ny),l},Gt=Wp();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(gr._=Gt,define(function(){return Gt})):ha?((ha.exports=Gt)._=Gt,bo._=Gt):gr._=Gt}).call(Ua)});var ff=ue(Vr=>{Vr.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"};Vr.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]};Vr.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]};Vr.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2};Vr.iterateeRearg={mapKeys:[1],reduceRight:[1,0]};Vr.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]};Vr.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}};Vr.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}};Vr.realToAlias=function(){var n=Object.prototype.hasOwnProperty,r=Vr.aliasToReal,o={};for(var u in r){var a=r[u];n.call(o,a)?o[a].push(u):o[a]=[u]}return o}();Vr.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"};Vr.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0};Vr.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}});var df=ue((Vw,hf)=>{hf.exports={}});var yf=ue((Bw,vf)=>{var mr=ff(),ub=df(),pf=Array.prototype.push;function lb(n,r){return r==2?function(o,u){return n.apply(void 0,arguments)}:function(o){return n.apply(void 0,arguments)}}function wi(n,r){return r==2?function(o,u){return n(o,u)}:function(o){return n(o)}}function mf(n){for(var r=n?n.length:0,o=Array(r);r--;)o[r]=n[r];return o}function cb(n){return function(r){return n({},r)}}function fb(n,r){return function(){for(var o=arguments.length,u=o-1,a=Array(o);o--;)a[o]=arguments[o];var c=a[r],h=a.slice(0,r);return c&&pf.apply(h,c),r!=u&&pf.apply(h,a.slice(r+1)),n.apply(this,h)}}function $i(n,r){return function(){var o=arguments.length;if(!!o){for(var u=Array(o);o--;)u[o]=arguments[o];var a=u[0]=r.apply(void 0,u);return n.apply(void 0,u),a}}}function Si(n,r,o,u){var a=typeof r=="function",c=r===Object(r);if(c&&(u=o,o=r,r=void 0),o==null)throw new TypeError;u||(u={});var h={cap:"cap"in u?u.cap:!0,curry:"curry"in u?u.curry:!0,fixed:"fixed"in u?u.fixed:!0,immutable:"immutable"in u?u.immutable:!0,rearg:"rearg"in u?u.rearg:!0},d=a?o:ub,g="curry"in u&&u.curry,P="fixed"in u&&u.fixed,b="rearg"in u&&u.rearg,w=a?o.runInContext():void 0,$=a?o:{ary:n.ary,assign:n.assign,clone:n.clone,curry:n.curry,forEach:n.forEach,isArray:n.isArray,isError:n.isError,isFunction:n.isFunction,isWeakMap:n.isWeakMap,iteratee:n.iteratee,keys:n.keys,rearg:n.rearg,toInteger:n.toInteger,toPath:n.toPath},m=$.ary,D=$.assign,j=$.clone,O=$.curry,N=$.forEach,V=$.isArray,F=$.isError,H=$.isFunction,G=$.isWeakMap,K=$.keys,ie=$.rearg,ne=$.toInteger,W=$.toPath,re=K(mr.aryMethod),ae={castArray:function(Q){return function(){var q=arguments[0];return V(q)?Q(mf(q)):Q.apply(void 0,arguments)}},iteratee:function(Q){return function(){var q=arguments[0],J=arguments[1],fe=Q(q,J),ge=fe.length;return h.cap&&typeof J=="number"?(J=J>2?J-2:1,ge&&ge<=J?fe:wi(fe,J)):fe}},mixin:function(Q){return function(q){var J=this;if(!H(J))return Q(J,Object(q));var fe=[];return N(K(q),function(ge){H(q[ge])&&fe.push([ge,J.prototype[ge]])}),Q(J,Object(q)),N(fe,function(ge){var je=ge[1];H(je)?J.prototype[ge[0]]=je:delete J.prototype[ge[0]]}),J}},nthArg:function(Q){return function(q){var J=q<0?1:ne(q)+1;return O(Q(q),J)}},rearg:function(Q){return function(q,J){var fe=J?J.length:0;return O(Q(q,J),fe)}},runInContext:function(Q){return function(q){return Si(n,Q(q),u)}}};function ee(Q,q){if(h.cap){var J=mr.iterateeRearg[Q];if(J)return le(q,J);var fe=!a&&mr.iterateeAry[Q];if(fe)return _e(q,fe)}return q}function z(Q,q,J){return g||h.curry&&J>1?O(q,J):q}function B(Q,q,J){if(h.fixed&&(P||!mr.skipFixed[Q])){var fe=mr.methodSpread[Q],ge=fe&&fe.start;return ge===void 0?m(q,J):fb(q,ge)}return q}function Z(Q,q,J){return h.rearg&&J>1&&(b||!mr.skipRearg[Q])?ie(q,mr.methodRearg[Q]||mr.aryRearg[J]):q}function Te(Q,q){q=W(q);for(var J=-1,fe=q.length,ge=fe-1,je=j(Object(Q)),Se=je;Se!=null&&++J<fe;){var ze=q[J],He=Se[ze];He!=null&&!(H(He)||F(He)||G(He))&&(Se[ze]=j(J==ge?He:Object(He))),Se=Se[ze]}return je}function Ee(Q){return Ve.runInContext.convert(Q)(void 0)}function Oe(Q,q){var J=mr.aliasToReal[Q]||Q,fe=mr.remap[J]||J,ge=u;return function(je){var Se=a?w:$,ze=a?w[fe]:q,He=D(D({},ge),je);return Si(Se,J,ze,He)}}function _e(Q,q){return Le(Q,function(J){return typeof J=="function"?wi(J,q):J})}function le(Q,q){return Le(Q,function(J){var fe=q.length;return lb(ie(wi(J,fe),q),fe)})}function Le(Q,q){return function(){var J=arguments.length;if(!J)return Q();for(var fe=Array(J);J--;)fe[J]=arguments[J];var ge=h.rearg?0:J-1;return fe[ge]=q(fe[ge]),Q.apply(void 0,fe)}}function ur(Q,q,J){var fe,ge=mr.aliasToReal[Q]||Q,je=q,Se=ae[ge];return Se?je=Se(q):h.immutable&&(mr.mutate.array[ge]?je=$i(q,mf):mr.mutate.object[ge]?je=$i(q,cb(q)):mr.mutate.set[ge]&&(je=$i(q,Te))),N(re,function(ze){return N(mr.aryMethod[ze],function(He){if(ge==He){var Ne=mr.methodSpread[ge],Zr=Ne&&Ne.afterRearg;return fe=Zr?B(ge,Z(ge,je,ze),ze):Z(ge,B(ge,je,ze),ze),fe=ee(ge,fe),fe=z(ge,fe,ze),!1}}),!fe}),fe||(fe=je),fe==q&&(fe=g?O(fe,1):function(){return q.apply(this,arguments)}),fe.convert=Oe(ge,q),fe.placeholder=q.placeholder=J,fe}if(!c)return ur(r,o,d);var Ve=o,Pe=[];return N(re,function(Q){N(mr.aryMethod[Q],function(q){var J=Ve[mr.remap[q]||q];J&&Pe.push([q,ur(q,J,Ve)])})}),N(K(Ve),function(Q){var q=Ve[Q];if(typeof q=="function"){for(var J=Pe.length;J--;)if(Pe[J][0]==Q)return;q.convert=Oe(Q,q),Pe.push([Q,q])}}),N(Pe,function(Q){Ve[Q[0]]=Q[1]}),Ve.convert=Ee,Ve.placeholder=Ve,N(K(Ve),function(Q){N(mr.realToAlias[Q]||[],function(q){Ve[q]=Ve[Q]})}),Ve}vf.exports=Si});var bf=ue((Hw,_f)=>{var gf=cf().runInContext();_f.exports=yf()(gf,gf)});var Ii=ue((Ww,$f)=>{"use strict";var Oi=Object.defineProperty,hb=Object.getOwnPropertyDescriptor,db=Object.getOwnPropertyNames,pb=Object.prototype.hasOwnProperty,mb=(n,r)=>{for(var o in r)Oi(n,o,{get:r[o],enumerable:!0})},vb=(n,r,o,u)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of db(r))!pb.call(n,a)&&a!==o&&Oi(n,a,{get:()=>r[a],enumerable:!(u=hb(r,a))||u.enumerable});return n},yb=n=>vb(Oi({},"__esModule",{value:!0}),n),Ef={};mb(Ef,{isEmpty:()=>_b,isEmptyArray:()=>Pf,isEmptyObject:()=>wf});$f.exports=yb(Ef);var gb=n=>!!n&&!Array.isArray(n)&&typeof n=="object",Pf=n=>Array.isArray(n)&&n.filter(r=>r!==void 0).length===0,wf=n=>gb(n)&&Object.keys(n).length===0,_b=n=>n===null||typeof n=="undefined"||typeof n=="string"&&!n||typeof n!="string"&&typeof n!="object"||Pf(n)||wf(n)});var Ai=ue((Kw,Of)=>{"use strict";var Di=Object.defineProperty,bb=Object.getOwnPropertyDescriptor,Eb=Object.getOwnPropertyNames,Pb=Object.prototype.hasOwnProperty,wb=(n,r)=>{for(var o in r)Di(n,o,{get:r[o],enumerable:!0})},$b=(n,r,o,u)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of Eb(r))!Pb.call(n,a)&&a!==o&&Di(n,a,{get:()=>r[a],enumerable:!(u=bb(r,a))||u.enumerable});return n},Sb=n=>$b(Di({},"__esModule",{value:!0}),n),Sf={};wb(Sf,{isPlainObject:()=>Ob});Of.exports=Sb(Sf);var Ob=n=>!!n&&!Array.isArray(n)&&typeof n=="object"});var Df=ue((ws,If)=>{/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(n,r){typeof ws=="object"&&typeof If!="undefined"?r(ws):typeof define=="function"&&define.amd?define(["exports"],r):r(n.URI=n.URI||{})})(ws,function(n){"use strict";function r(){for(var E=arguments.length,v=Array(E),I=0;I<E;I++)v[I]=arguments[I];if(v.length>1){v[0]=v[0].slice(0,-1);for(var x=v.length-1,T=1;T<x;++T)v[T]=v[T].slice(1,-1);return v[x]=v[x].slice(1),v.join("")}else return v[0]}function o(E){return"(?:"+E+")"}function u(E){return E===void 0?"undefined":E===null?"null":Object.prototype.toString.call(E).split(" ").pop().split("]").shift().toLowerCase()}function a(E){return E.toUpperCase()}function c(E){return E!=null?E instanceof Array?E:typeof E.length!="number"||E.split||E.setInterval||E.call?[E]:Array.prototype.slice.call(E):[]}function h(E,v){var I=E;if(v)for(var x in v)I[x]=v[x];return I}function d(E){var v="[A-Za-z]",I="[\\x0D]",x="[0-9]",T="[\\x22]",Y=r(x,"[A-Fa-f]"),ye="[\\x0A]",Ie="[\\x20]",Me=o(o("%[EFef]"+Y+"%"+Y+Y+"%"+Y+Y)+"|"+o("%[89A-Fa-f]"+Y+"%"+Y+Y)+"|"+o("%"+Y+Y)),Ye="[\\:\\/\\?\\#\\[\\]\\@]",De="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Qe=r(Ye,De),Ue=E?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",We=E?"[\\uE000-\\uF8FF]":"[]",Ce=r(v,x,"[\\-\\.\\_\\~]",Ue),ke=o(v+r(v,x,"[\\+\\-\\.]")+"*"),Be=o(o(Me+"|"+r(Ce,De,"[\\:]"))+"*"),xt=o(o("25[0-5]")+"|"+o("2[0-4]"+x)+"|"+o("1"+x+x)+"|"+o("[1-9]"+x)+"|"+x),hr=o(o("25[0-5]")+"|"+o("2[0-4]"+x)+"|"+o("1"+x+x)+"|"+o("0?[1-9]"+x)+"|0?0?"+x),rr=o(hr+"\\."+hr+"\\."+hr+"\\."+hr),Fe=o(Y+"{1,4}"),yr=o(o(Fe+"\\:"+Fe)+"|"+rr),kr=o(o(Fe+"\\:")+"{6}"+yr),Pr=o("\\:\\:"+o(Fe+"\\:")+"{5}"+yr),Nt=o(o(Fe)+"?\\:\\:"+o(Fe+"\\:")+"{4}"+yr),Dr=o(o(o(Fe+"\\:")+"{0,1}"+Fe)+"?\\:\\:"+o(Fe+"\\:")+"{3}"+yr),rt=o(o(o(Fe+"\\:")+"{0,2}"+Fe)+"?\\:\\:"+o(Fe+"\\:")+"{2}"+yr),Bt=o(o(o(Fe+"\\:")+"{0,3}"+Fe)+"?\\:\\:"+Fe+"\\:"+yr),Ht=o(o(o(Fe+"\\:")+"{0,4}"+Fe)+"?\\:\\:"+yr),gt=o(o(o(Fe+"\\:")+"{0,5}"+Fe)+"?\\:\\:"+Fe),_t=o(o(o(Fe+"\\:")+"{0,6}"+Fe)+"?\\:\\:"),Kr=o([kr,Pr,Nt,Dr,rt,Bt,Ht,gt,_t].join("|")),bt=o(o(Ce+"|"+Me)+"+"),ua=o(Kr+"\\%25"+bt),ht=o(Kr+o("\\%25|\\%(?!"+Y+"{2})")+bt),Za=o("[vV]"+Y+"+\\."+r(Ce,De,"[\\:]")+"+"),io=o("\\["+o(ht+"|"+Kr+"|"+Za)+"\\]"),xn=o(o(Me+"|"+r(Ce,De))+"*"),la=o(io+"|"+rr+"(?!"+xn+")|"+xn),Wt=o(x+"*"),Ya=o(o(Be+"@")+"?"+la+o("\\:"+Wt)+"?"),ca=o(Me+"|"+r(Ce,De,"[\\:\\@]")),uo=o(ca+"*"),Nn=o(ca+"+"),lo=o(o(Me+"|"+r(Ce,De,"[\\@]"))+"+"),tt=o(o("\\/"+uo)+"*"),Kt=o("\\/"+o(Nn+tt)+"?"),Xa=o(lo+tt),Da=o(Nn+tt),Et="(?!"+ca+")",Nu=o(tt+"|"+Kt+"|"+Xa+"|"+Da+"|"+Et),Pt=o(o(ca+"|"+r("[\\/\\?]",We))+"*"),fa=o(o(ca+"|[\\/\\?]")+"*"),Tn=o(o("\\/\\/"+Ya+tt)+"|"+Kt+"|"+Da+"|"+Et),co=o(ke+"\\:"+Tn+o("\\?"+Pt)+"?"+o("\\#"+fa)+"?"),fo=o(o("\\/\\/"+Ya+tt)+"|"+Kt+"|"+Xa+"|"+Et),ho=o(fo+o("\\?"+Pt)+"?"+o("\\#"+fa)+"?"),Tu=o(co+"|"+ho),Cu=o(ke+"\\:"+Tn+o("\\?"+Pt)+"?"),ku="^("+ke+")\\:"+o(o("\\/\\/("+o("("+Be+")@")+"?("+la+")"+o("\\:("+Wt+")")+"?)")+"?("+tt+"|"+Kt+"|"+Da+"|"+Et+")")+o("\\?("+Pt+")")+"?"+o("\\#("+fa+")")+"?$",po="^(){0}"+o(o("\\/\\/("+o("("+Be+")@")+"?("+la+")"+o("\\:("+Wt+")")+"?)")+"?("+tt+"|"+Kt+"|"+Xa+"|"+Et+")")+o("\\?("+Pt+")")+"?"+o("\\#("+fa+")")+"?$",Fu="^("+ke+")\\:"+o(o("\\/\\/("+o("("+Be+")@")+"?("+la+")"+o("\\:("+Wt+")")+"?)")+"?("+tt+"|"+Kt+"|"+Da+"|"+Et+")")+o("\\?("+Pt+")")+"?$",Lu="^"+o("\\#("+fa+")")+"?$",zu="^"+o("("+Be+")@")+"?("+la+")"+o("\\:("+Wt+")")+"?$";return{NOT_SCHEME:new RegExp(r("[^]",v,x,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",Ce,De),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",Ce,De),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",Ce,De),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",Ce,De),"g"),NOT_QUERY:new RegExp(r("[^\\%]",Ce,De,"[\\:\\@\\/\\?]",We),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",Ce,De,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",Ce,De),"g"),UNRESERVED:new RegExp(Ce,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",Ce,Qe),"g"),PCT_ENCODED:new RegExp(Me,"g"),IPV4ADDRESS:new RegExp("^("+rr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Kr+")"+o(o("\\%25|\\%(?!"+Y+"{2})")+"("+bt+")")+"?\\]?$")}}var g=d(!1),P=d(!0),b=function(){function E(v,I){var x=[],T=!0,Y=!1,ye=void 0;try{for(var Ie=v[Symbol.iterator](),Me;!(T=(Me=Ie.next()).done)&&(x.push(Me.value),!(I&&x.length===I));T=!0);}catch(Ye){Y=!0,ye=Ye}finally{try{!T&&Ie.return&&Ie.return()}finally{if(Y)throw ye}}return x}return function(v,I){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return E(v,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(E){if(Array.isArray(E)){for(var v=0,I=Array(E.length);v<E.length;v++)I[v]=E[v];return I}else return Array.from(E)},$=2147483647,m=36,D=1,j=26,O=38,N=700,V=72,F=128,H="-",G=/^xn--/,K=/[^\0-\x7E]/,ie=/[\x2E\u3002\uFF0E\uFF61]/g,ne={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},W=m-D,re=Math.floor,ae=String.fromCharCode;function ee(E){throw new RangeError(ne[E])}function z(E,v){for(var I=[],x=E.length;x--;)I[x]=v(E[x]);return I}function B(E,v){var I=E.split("@"),x="";I.length>1&&(x=I[0]+"@",E=I[1]),E=E.replace(ie,".");var T=E.split("."),Y=z(T,v).join(".");return x+Y}function Z(E){for(var v=[],I=0,x=E.length;I<x;){var T=E.charCodeAt(I++);if(T>=55296&&T<=56319&&I<x){var Y=E.charCodeAt(I++);(Y&64512)==56320?v.push(((T&1023)<<10)+(Y&1023)+65536):(v.push(T),I--)}else v.push(T)}return v}var Te=function(v){return String.fromCodePoint.apply(String,w(v))},Ee=function(v){return v-48<10?v-22:v-65<26?v-65:v-97<26?v-97:m},Oe=function(v,I){return v+22+75*(v<26)-((I!=0)<<5)},_e=function(v,I,x){var T=0;for(v=x?re(v/N):v>>1,v+=re(v/I);v>W*j>>1;T+=m)v=re(v/W);return re(T+(W+1)*v/(v+O))},le=function(v){var I=[],x=v.length,T=0,Y=F,ye=V,Ie=v.lastIndexOf(H);Ie<0&&(Ie=0);for(var Me=0;Me<Ie;++Me)v.charCodeAt(Me)>=128&&ee("not-basic"),I.push(v.charCodeAt(Me));for(var Ye=Ie>0?Ie+1:0;Ye<x;){for(var De=T,Qe=1,Ue=m;;Ue+=m){Ye>=x&&ee("invalid-input");var We=Ee(v.charCodeAt(Ye++));(We>=m||We>re(($-T)/Qe))&&ee("overflow"),T+=We*Qe;var Ce=Ue<=ye?D:Ue>=ye+j?j:Ue-ye;if(We<Ce)break;var ke=m-Ce;Qe>re($/ke)&&ee("overflow"),Qe*=ke}var Be=I.length+1;ye=_e(T-De,Be,De==0),re(T/Be)>$-Y&&ee("overflow"),Y+=re(T/Be),T%=Be,I.splice(T++,0,Y)}return String.fromCodePoint.apply(String,I)},Le=function(v){var I=[];v=Z(v);var x=v.length,T=F,Y=0,ye=V,Ie=!0,Me=!1,Ye=void 0;try{for(var De=v[Symbol.iterator](),Qe;!(Ie=(Qe=De.next()).done);Ie=!0){var Ue=Qe.value;Ue<128&&I.push(ae(Ue))}}catch(ht){Me=!0,Ye=ht}finally{try{!Ie&&De.return&&De.return()}finally{if(Me)throw Ye}}var We=I.length,Ce=We;for(We&&I.push(H);Ce<x;){var ke=$,Be=!0,xt=!1,hr=void 0;try{for(var rr=v[Symbol.iterator](),Fe;!(Be=(Fe=rr.next()).done);Be=!0){var yr=Fe.value;yr>=T&&yr<ke&&(ke=yr)}}catch(ht){xt=!0,hr=ht}finally{try{!Be&&rr.return&&rr.return()}finally{if(xt)throw hr}}var kr=Ce+1;ke-T>re(($-Y)/kr)&&ee("overflow"),Y+=(ke-T)*kr,T=ke;var Pr=!0,Nt=!1,Dr=void 0;try{for(var rt=v[Symbol.iterator](),Bt;!(Pr=(Bt=rt.next()).done);Pr=!0){var Ht=Bt.value;if(Ht<T&&++Y>$&&ee("overflow"),Ht==T){for(var gt=Y,_t=m;;_t+=m){var Kr=_t<=ye?D:_t>=ye+j?j:_t-ye;if(gt<Kr)break;var bt=gt-Kr,ua=m-Kr;I.push(ae(Oe(Kr+bt%ua,0))),gt=re(bt/ua)}I.push(ae(Oe(gt,0))),ye=_e(Y,kr,Ce==We),Y=0,++Ce}}}catch(ht){Nt=!0,Dr=ht}finally{try{!Pr&&rt.return&&rt.return()}finally{if(Nt)throw Dr}}++Y,++T}return I.join("")},ur=function(v){return B(v,function(I){return G.test(I)?le(I.slice(4).toLowerCase()):I})},Ve=function(v){return B(v,function(I){return K.test(I)?"xn--"+Le(I):I})},Pe={version:"2.1.0",ucs2:{decode:Z,encode:Te},decode:le,encode:Le,toASCII:Ve,toUnicode:ur},Q={};function q(E){var v=E.charCodeAt(0),I=void 0;return v<16?I="%0"+v.toString(16).toUpperCase():v<128?I="%"+v.toString(16).toUpperCase():v<2048?I="%"+(v>>6|192).toString(16).toUpperCase()+"%"+(v&63|128).toString(16).toUpperCase():I="%"+(v>>12|224).toString(16).toUpperCase()+"%"+(v>>6&63|128).toString(16).toUpperCase()+"%"+(v&63|128).toString(16).toUpperCase(),I}function J(E){for(var v="",I=0,x=E.length;I<x;){var T=parseInt(E.substr(I+1,2),16);if(T<128)v+=String.fromCharCode(T),I+=3;else if(T>=194&&T<224){if(x-I>=6){var Y=parseInt(E.substr(I+4,2),16);v+=String.fromCharCode((T&31)<<6|Y&63)}else v+=E.substr(I,6);I+=6}else if(T>=224){if(x-I>=9){var ye=parseInt(E.substr(I+4,2),16),Ie=parseInt(E.substr(I+7,2),16);v+=String.fromCharCode((T&15)<<12|(ye&63)<<6|Ie&63)}else v+=E.substr(I,9);I+=9}else v+=E.substr(I,3),I+=3}return v}function fe(E,v){function I(x){var T=J(x);return T.match(v.UNRESERVED)?T:x}return E.scheme&&(E.scheme=String(E.scheme).replace(v.PCT_ENCODED,I).toLowerCase().replace(v.NOT_SCHEME,"")),E.userinfo!==void 0&&(E.userinfo=String(E.userinfo).replace(v.PCT_ENCODED,I).replace(v.NOT_USERINFO,q).replace(v.PCT_ENCODED,a)),E.host!==void 0&&(E.host=String(E.host).replace(v.PCT_ENCODED,I).toLowerCase().replace(v.NOT_HOST,q).replace(v.PCT_ENCODED,a)),E.path!==void 0&&(E.path=String(E.path).replace(v.PCT_ENCODED,I).replace(E.scheme?v.NOT_PATH:v.NOT_PATH_NOSCHEME,q).replace(v.PCT_ENCODED,a)),E.query!==void 0&&(E.query=String(E.query).replace(v.PCT_ENCODED,I).replace(v.NOT_QUERY,q).replace(v.PCT_ENCODED,a)),E.fragment!==void 0&&(E.fragment=String(E.fragment).replace(v.PCT_ENCODED,I).replace(v.NOT_FRAGMENT,q).replace(v.PCT_ENCODED,a)),E}function ge(E){return E.replace(/^0*(.*)/,"$1")||"0"}function je(E,v){var I=E.match(v.IPV4ADDRESS)||[],x=b(I,2),T=x[1];return T?T.split(".").map(ge).join("."):E}function Se(E,v){var I=E.match(v.IPV6ADDRESS)||[],x=b(I,3),T=x[1],Y=x[2];if(T){for(var ye=T.toLowerCase().split("::").reverse(),Ie=b(ye,2),Me=Ie[0],Ye=Ie[1],De=Ye?Ye.split(":").map(ge):[],Qe=Me.split(":").map(ge),Ue=v.IPV4ADDRESS.test(Qe[Qe.length-1]),We=Ue?7:8,Ce=Qe.length-We,ke=Array(We),Be=0;Be<We;++Be)ke[Be]=De[Be]||Qe[Ce+Be]||"";Ue&&(ke[We-1]=je(ke[We-1],v));var xt=ke.reduce(function(kr,Pr,Nt){if(!Pr||Pr==="0"){var Dr=kr[kr.length-1];Dr&&Dr.index+Dr.length===Nt?Dr.length++:kr.push({index:Nt,length:1})}return kr},[]),hr=xt.sort(function(kr,Pr){return Pr.length-kr.length})[0],rr=void 0;if(hr&&hr.length>1){var Fe=ke.slice(0,hr.index),yr=ke.slice(hr.index+hr.length);rr=Fe.join(":")+"::"+yr.join(":")}else rr=ke.join(":");return Y&&(rr+="%"+Y),rr}else return E}var ze=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,He="".match(/(){0}/)[1]===void 0;function Ne(E){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I={},x=v.iri!==!1?P:g;v.reference==="suffix"&&(E=(v.scheme?v.scheme+":":"")+"//"+E);var T=E.match(ze);if(T){He?(I.scheme=T[1],I.userinfo=T[3],I.host=T[4],I.port=parseInt(T[5],10),I.path=T[6]||"",I.query=T[7],I.fragment=T[8],isNaN(I.port)&&(I.port=T[5])):(I.scheme=T[1]||void 0,I.userinfo=E.indexOf("@")!==-1?T[3]:void 0,I.host=E.indexOf("//")!==-1?T[4]:void 0,I.port=parseInt(T[5],10),I.path=T[6]||"",I.query=E.indexOf("?")!==-1?T[7]:void 0,I.fragment=E.indexOf("#")!==-1?T[8]:void 0,isNaN(I.port)&&(I.port=E.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?T[4]:void 0)),I.host&&(I.host=Se(je(I.host,x),x)),I.scheme===void 0&&I.userinfo===void 0&&I.host===void 0&&I.port===void 0&&!I.path&&I.query===void 0?I.reference="same-document":I.scheme===void 0?I.reference="relative":I.fragment===void 0?I.reference="absolute":I.reference="uri",v.reference&&v.reference!=="suffix"&&v.reference!==I.reference&&(I.error=I.error||"URI is not a "+v.reference+" reference.");var Y=Q[(v.scheme||I.scheme||"").toLowerCase()];if(!v.unicodeSupport&&(!Y||!Y.unicodeSupport)){if(I.host&&(v.domainHost||Y&&Y.domainHost))try{I.host=Pe.toASCII(I.host.replace(x.PCT_ENCODED,J).toLowerCase())}catch(ye){I.error=I.error||"Host's domain name can not be converted to ASCII via punycode: "+ye}fe(I,g)}else fe(I,x);Y&&Y.parse&&Y.parse(I,v)}else I.error=I.error||"URI can not be parsed.";return I}function Zr(E,v){var I=v.iri!==!1?P:g,x=[];return E.userinfo!==void 0&&(x.push(E.userinfo),x.push("@")),E.host!==void 0&&x.push(Se(je(String(E.host),I),I).replace(I.IPV6ADDRESS,function(T,Y,ye){return"["+Y+(ye?"%25"+ye:"")+"]"})),(typeof E.port=="number"||typeof E.port=="string")&&(x.push(":"),x.push(String(E.port))),x.length?x.join(""):void 0}var ct=/^\.\.?\//,y=/^\/\.(\/|$)/,Dt=/^\/\.\.(\/|$)/,lr=/^\/?(?:.|\n)*?(?=\/|$)/;function Nr(E){for(var v=[];E.length;)if(E.match(ct))E=E.replace(ct,"");else if(E.match(y))E=E.replace(y,"/");else if(E.match(Dt))E=E.replace(Dt,"/"),v.pop();else if(E==="."||E==="..")E="";else{var I=E.match(lr);if(I){var x=I[0];E=E.slice(x.length),v.push(x)}else throw new Error("Unexpected dot segment condition")}return v.join("")}function Je(E){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=v.iri?P:g,x=[],T=Q[(v.scheme||E.scheme||"").toLowerCase()];if(T&&T.serialize&&T.serialize(E,v),E.host&&!I.IPV6ADDRESS.test(E.host)){if(v.domainHost||T&&T.domainHost)try{E.host=v.iri?Pe.toUnicode(E.host):Pe.toASCII(E.host.replace(I.PCT_ENCODED,J).toLowerCase())}catch(Ie){E.error=E.error||"Host's domain name can not be converted to "+(v.iri?"Unicode":"ASCII")+" via punycode: "+Ie}}fe(E,I),v.reference!=="suffix"&&E.scheme&&(x.push(E.scheme),x.push(":"));var Y=Zr(E,v);if(Y!==void 0&&(v.reference!=="suffix"&&x.push("//"),x.push(Y),E.path&&E.path.charAt(0)!=="/"&&x.push("/")),E.path!==void 0){var ye=E.path;!v.absolutePath&&(!T||!T.absolutePath)&&(ye=Nr(ye)),Y===void 0&&(ye=ye.replace(/^\/\//,"/%2F")),x.push(ye)}return E.query!==void 0&&(x.push("?"),x.push(E.query)),E.fragment!==void 0&&(x.push("#"),x.push(E.fragment)),x.join("")}function br(E,v){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},x=arguments[3],T={};return x||(E=Ne(Je(E,I),I),v=Ne(Je(v,I),I)),I=I||{},!I.tolerant&&v.scheme?(T.scheme=v.scheme,T.userinfo=v.userinfo,T.host=v.host,T.port=v.port,T.path=Nr(v.path||""),T.query=v.query):(v.userinfo!==void 0||v.host!==void 0||v.port!==void 0?(T.userinfo=v.userinfo,T.host=v.host,T.port=v.port,T.path=Nr(v.path||""),T.query=v.query):(v.path?(v.path.charAt(0)==="/"?T.path=Nr(v.path):((E.userinfo!==void 0||E.host!==void 0||E.port!==void 0)&&!E.path?T.path="/"+v.path:E.path?T.path=E.path.slice(0,E.path.lastIndexOf("/")+1)+v.path:T.path=v.path,T.path=Nr(T.path)),T.query=v.query):(T.path=E.path,v.query!==void 0?T.query=v.query:T.query=E.query),T.userinfo=E.userinfo,T.host=E.host,T.port=E.port),T.scheme=E.scheme),T.fragment=v.fragment,T}function Tr(E,v,I){var x=h({scheme:"null"},I);return Je(br(Ne(E,x),Ne(v,x),x,!0),x)}function Ir(E,v){return typeof E=="string"?E=Je(Ne(E,v),v):u(E)==="object"&&(E=Ne(Je(E,v),v)),E}function At(E,v,I){return typeof E=="string"?E=Je(Ne(E,I),I):u(E)==="object"&&(E=Je(E,I)),typeof v=="string"?v=Je(Ne(v,I),I):u(v)==="object"&&(v=Je(v,I)),E===v}function Yr(E,v){return E&&E.toString().replace(!v||!v.iri?g.ESCAPE:P.ESCAPE,q)}function Cr(E,v){return E&&E.toString().replace(!v||!v.iri?g.PCT_ENCODED:P.PCT_ENCODED,J)}var Xr={scheme:"http",domainHost:!0,parse:function(v,I){return v.host||(v.error=v.error||"HTTP URIs must have a host."),v},serialize:function(v,I){var x=String(v.scheme).toLowerCase()==="https";return(v.port===(x?443:80)||v.port==="")&&(v.port=void 0),v.path||(v.path="/"),v}},jt={scheme:"https",domainHost:Xr.domainHost,parse:Xr.parse,serialize:Xr.serialize};function oa(E){return typeof E.secure=="boolean"?E.secure:String(E.scheme).toLowerCase()==="wss"}var vr={scheme:"ws",domainHost:!0,parse:function(v,I){var x=v;return x.secure=oa(x),x.resourceName=(x.path||"/")+(x.query?"?"+x.query:""),x.path=void 0,x.query=void 0,x},serialize:function(v,I){if((v.port===(oa(v)?443:80)||v.port==="")&&(v.port=void 0),typeof v.secure=="boolean"&&(v.scheme=v.secure?"wss":"ws",v.secure=void 0),v.resourceName){var x=v.resourceName.split("?"),T=b(x,2),Y=T[0],ye=T[1];v.path=Y&&Y!=="/"?Y:void 0,v.query=ye,v.resourceName=void 0}return v.fragment=void 0,v}},mt={scheme:"wss",domainHost:vr.domainHost,parse:vr.parse,serialize:vr.serialize},jn={},et=!0,Rt="[A-Za-z0-9\\-\\.\\_\\~"+(et?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",cr="[0-9A-Fa-f]",qt=o(o("%[EFef]"+cr+"%"+cr+cr+"%"+cr+cr)+"|"+o("%[89A-Fa-f]"+cr+"%"+cr+cr)+"|"+o("%"+cr+cr)),ft="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",ia="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ga=r(ia,'[\\"\\\\]'),ao="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",no=new RegExp(Rt,"g"),Vt=new RegExp(qt,"g"),so=new RegExp(r("[^]",ft,"[\\.]",'[\\"]',Ga),"g"),Ja=new RegExp(r("[^]",Rt,ao),"g"),oo=Ja;function Qa(E){var v=J(E);return v.match(no)?v:E}var vt={scheme:"mailto",parse:function(v,I){var x=v,T=x.to=x.path?x.path.split(","):[];if(x.path=void 0,x.query){for(var Y=!1,ye={},Ie=x.query.split("&"),Me=0,Ye=Ie.length;Me<Ye;++Me){var De=Ie[Me].split("=");switch(De[0]){case"to":for(var Qe=De[1].split(","),Ue=0,We=Qe.length;Ue<We;++Ue)T.push(Qe[Ue]);break;case"subject":x.subject=Cr(De[1],I);break;case"body":x.body=Cr(De[1],I);break;default:Y=!0,ye[Cr(De[0],I)]=Cr(De[1],I);break}}Y&&(x.headers=ye)}x.query=void 0;for(var Ce=0,ke=T.length;Ce<ke;++Ce){var Be=T[Ce].split("@");if(Be[0]=Cr(Be[0]),I.unicodeSupport)Be[1]=Cr(Be[1],I).toLowerCase();else try{Be[1]=Pe.toASCII(Cr(Be[1],I).toLowerCase())}catch(xt){x.error=x.error||"Email address's domain name can not be converted to ASCII via punycode: "+xt}T[Ce]=Be.join("@")}return x},serialize:function(v,I){var x=v,T=c(v.to);if(T){for(var Y=0,ye=T.length;Y<ye;++Y){var Ie=String(T[Y]),Me=Ie.lastIndexOf("@"),Ye=Ie.slice(0,Me).replace(Vt,Qa).replace(Vt,a).replace(so,q),De=Ie.slice(Me+1);try{De=I.iri?Pe.toUnicode(De):Pe.toASCII(Cr(De,I).toLowerCase())}catch(Ce){x.error=x.error||"Email address's domain name can not be converted to "+(I.iri?"Unicode":"ASCII")+" via punycode: "+Ce}T[Y]=Ye+"@"+De}x.path=T.join(",")}var Qe=v.headers=v.headers||{};v.subject&&(Qe.subject=v.subject),v.body&&(Qe.body=v.body);var Ue=[];for(var We in Qe)Qe[We]!==jn[We]&&Ue.push(We.replace(Vt,Qa).replace(Vt,a).replace(Ja,q)+"="+Qe[We].replace(Vt,Qa).replace(Vt,a).replace(oo,q));return Ue.length&&(x.query=Ue.join("&")),x}},yt=/^([^\:]+)\:(.*)/,Rn={scheme:"urn",parse:function(v,I){var x=v.path&&v.path.match(yt),T=v;if(x){var Y=I.scheme||T.scheme||"urn",ye=x[1].toLowerCase(),Ie=x[2],Me=Y+":"+(I.nid||ye),Ye=Q[Me];T.nid=ye,T.nss=Ie,T.path=void 0,Ye&&(T=Ye.parse(T,I))}else T.error=T.error||"URN can not be parsed.";return T},serialize:function(v,I){var x=I.scheme||v.scheme||"urn",T=v.nid,Y=x+":"+(I.nid||T),ye=Q[Y];ye&&(v=ye.serialize(v,I));var Ie=v,Me=v.nss;return Ie.path=(T||I.nid)+":"+Me,Ie}},Ia=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Wr={scheme:"urn:uuid",parse:function(v,I){var x=v;return x.uuid=x.nss,x.nss=void 0,!I.tolerant&&(!x.uuid||!x.uuid.match(Ia))&&(x.error=x.error||"UUID is not valid."),x},serialize:function(v,I){var x=v;return x.nss=(v.uuid||"").toLowerCase(),x}};Q[Xr.scheme]=Xr,Q[jt.scheme]=jt,Q[vr.scheme]=vr,Q[mt.scheme]=mt,Q[vt.scheme]=vt,Q[Rn.scheme]=Rn,Q[Wr.scheme]=Wr,n.SCHEMES=Q,n.pctEncChar=q,n.pctDecChars=J,n.parse=Ne,n.removeDotSegments=Nr,n.serialize=Je,n.resolveComponents=br,n.resolve=Tr,n.normalize=Ir,n.equal=At,n.escapeComponent=Yr,n.unescapeComponent=Cr,Object.defineProperty(n,"__esModule",{value:!0})})});var $s=ue((Gw,Af)=>{"use strict";Af.exports=function n(r,o){if(r===o)return!0;if(r&&o&&typeof r=="object"&&typeof o=="object"){if(r.constructor!==o.constructor)return!1;var u,a,c;if(Array.isArray(r)){if(u=r.length,u!=o.length)return!1;for(a=u;a--!==0;)if(!n(r[a],o[a]))return!1;return!0}if(r.constructor===RegExp)return r.source===o.source&&r.flags===o.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===o.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===o.toString();if(c=Object.keys(r),u=c.length,u!==Object.keys(o).length)return!1;for(a=u;a--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[a]))return!1;for(a=u;a--!==0;){var h=c[a];if(!n(r[h],o[h]))return!1}return!0}return r!==r&&o!==o}});var Rf=ue((Jw,jf)=>{"use strict";jf.exports=function(r){for(var o=0,u=r.length,a=0,c;a<u;)o++,c=r.charCodeAt(a++),c>=55296&&c<=56319&&a<u&&(c=r.charCodeAt(a),(c&64512)==56320&&a++);return o}});var Ea=ue((Qw,Tf)=>{"use strict";Tf.exports={copy:Ib,checkDataType:ji,checkDataTypes:Db,coerceToTypes:Ab,toHash:xi,getProperty:Ni,escapeQuotes:Ti,equal:$s(),ucs2length:Rf(),varOccurences:xb,varReplace:Nb,schemaHasRules:Tb,schemaHasRulesExcept:Cb,schemaUnknownRules:kb,toQuotedString:Ri,getPathExpr:Fb,getPath:Lb,getData:Ub,unescapeFragment:qb,unescapeJsonPointer:ki,escapeFragment:Vb,escapeJsonPointer:Ci};function Ib(n,r){r=r||{};for(var o in n)r[o]=n[o];return r}function ji(n,r,o,u){var a=u?" !== ":" === ",c=u?" || ":" && ",h=u?"!":"",d=u?"":"!";switch(n){case"null":return r+a+"null";case"array":return h+"Array.isArray("+r+")";case"object":return"("+h+r+c+"typeof "+r+a+'"object"'+c+d+"Array.isArray("+r+"))";case"integer":return"(typeof "+r+a+'"number"'+c+d+"("+r+" % 1)"+c+r+a+r+(o?c+h+"isFinite("+r+")":"")+")";case"number":return"(typeof "+r+a+'"'+n+'"'+(o?c+h+"isFinite("+r+")":"")+")";default:return"typeof "+r+a+'"'+n+'"'}}function Db(n,r,o){switch(n.length){case 1:return ji(n[0],r,o,!0);default:var u="",a=xi(n);a.array&&a.object&&(u=a.null?"(":"(!"+r+" || ",u+="typeof "+r+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer;for(var c in a)u+=(u?" && ":"")+ji(c,r,o,!0);return u}}var xf=xi(["string","number","integer","boolean","null"]);function Ab(n,r){if(Array.isArray(r)){for(var o=[],u=0;u<r.length;u++){var a=r[u];(xf[a]||n==="array"&&a==="array")&&(o[o.length]=a)}if(o.length)return o}else{if(xf[r])return[r];if(n==="array"&&r==="array")return["array"]}}function xi(n){for(var r={},o=0;o<n.length;o++)r[n[o]]=!0;return r}var jb=/^[a-z$_][a-z$_0-9]*$/i,Rb=/'|\\/g;function Ni(n){return typeof n=="number"?"["+n+"]":jb.test(n)?"."+n:"['"+Ti(n)+"']"}function Ti(n){return n.replace(Rb,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function xb(n,r){r+="[^0-9]";var o=n.match(new RegExp(r,"g"));return o?o.length:0}function Nb(n,r,o){return r+="([^0-9])",o=o.replace(/\$/g,"$$$$"),n.replace(new RegExp(r,"g"),o+"$1")}function Tb(n,r){if(typeof n=="boolean")return!n;for(var o in n)if(r[o])return!0}function Cb(n,r,o){if(typeof n=="boolean")return!n&&o!="not";for(var u in n)if(u!=o&&r[u])return!0}function kb(n,r){if(typeof n!="boolean"){for(var o in n)if(!r[o])return o}}function Ri(n){return"'"+Ti(n)+"'"}function Fb(n,r,o,u){var a=o?"'/' + "+r+(u?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):u?"'[' + "+r+" + ']'":"'[\\'' + "+r+" + '\\']'";return Nf(n,a)}function Lb(n,r,o){var u=Ri(o?"/"+Ci(r):Ni(r));return Nf(n,u)}var zb=/^\/(?:[^~]|~0|~1)*$/,Mb=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ub(n,r,o){var u,a,c,h;if(n==="")return"rootData";if(n[0]=="/"){if(!zb.test(n))throw new Error("Invalid JSON-pointer: "+n);a=n,c="rootData"}else{if(h=n.match(Mb),!h)throw new Error("Invalid JSON-pointer: "+n);if(u=+h[1],a=h[2],a=="#"){if(u>=r)throw new Error("Cannot access property/index "+u+" levels up, current level is "+r);return o[r-u]}if(u>r)throw new Error("Cannot access data "+u+" levels up, current level is "+r);if(c="data"+(r-u||""),!a)return c}for(var d=c,g=a.split("/"),P=0;P<g.length;P++){var b=g[P];b&&(c+=Ni(ki(b)),d+=" && "+c)}return d}function Nf(n,r){return n=='""'?r:(n+" + "+r).replace(/([^\\])' \+ '/g,"$1")}function qb(n){return ki(decodeURIComponent(n))}function Vb(n){return encodeURIComponent(Ci(n))}function Ci(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}function ki(n){return n.replace(/~1/g,"/").replace(/~0/g,"~")}});var Fi=ue((Zw,Cf)=>{"use strict";var Bb=Ea();Cf.exports=Hb;function Hb(n){Bb.copy(n,this)}});var Ff=ue((Yw,kf)=>{"use strict";var ta=kf.exports=function(n,r,o){typeof r=="function"&&(o=r,r={}),o=r.cb||o;var u=typeof o=="function"?o:o.pre||function(){},a=o.post||function(){};Ss(r,u,a,n,"",n)};ta.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};ta.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ta.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ta.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ss(n,r,o,u,a,c,h,d,g,P){if(u&&typeof u=="object"&&!Array.isArray(u)){r(u,a,c,h,d,g,P);for(var b in u){var w=u[b];if(Array.isArray(w)){if(b in ta.arrayKeywords)for(var $=0;$<w.length;$++)Ss(n,r,o,w[$],a+"/"+b+"/"+$,c,a,b,u,$)}else if(b in ta.propsKeywords){if(w&&typeof w=="object")for(var m in w)Ss(n,r,o,w[m],a+"/"+b+"/"+Wb(m),c,a,b,u,m)}else(b in ta.keywords||n.allKeys&&!(b in ta.skipKeywords))&&Ss(n,r,o,w,a+"/"+b,c,a,b,u)}o(u,a,c,h,d,g,P)}}function Wb(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}});var Rs=ue((Xw,Uf)=>{"use strict";var _n=Df(),Lf=$s(),As=Ea(),Os=Fi(),Kb=Ff();Uf.exports=na;na.normalizeId=aa;na.fullPath=Is;na.url=Ds;na.ids=Yb;na.inlineRef=Li;na.schema=js;function na(n,r,o){var u=this._refs[o];if(typeof u=="string")if(this._refs[u])u=this._refs[u];else return na.call(this,n,r,u);if(u=u||this._schemas[o],u instanceof Os)return Li(u.schema,this._opts.inlineRefs)?u.schema:u.validate||this._compile(u);var a=js.call(this,r,o),c,h,d;return a&&(c=a.schema,r=a.root,d=a.baseId),c instanceof Os?h=c.validate||n.call(this,c.schema,r,void 0,d):c!==void 0&&(h=Li(c,this._opts.inlineRefs)?c:n.call(this,c,r,void 0,d)),h}function js(n,r){var o=_n.parse(r),u=Mf(o),a=Is(this._getId(n.schema));if(Object.keys(n.schema).length===0||u!==a){var c=aa(u),h=this._refs[c];if(typeof h=="string")return Gb.call(this,n,h,o);if(h instanceof Os)h.validate||this._compile(h),n=h;else if(h=this._schemas[c],h instanceof Os){if(h.validate||this._compile(h),c==aa(r))return{schema:h,root:n,baseId:a};n=h}else return;if(!n.schema)return;a=Is(this._getId(n.schema))}return zf.call(this,o,a,n.schema,n)}function Gb(n,r,o){var u=js.call(this,n,r);if(u){var a=u.schema,c=u.baseId;n=u.root;var h=this._getId(a);return h&&(c=Ds(c,h)),zf.call(this,o,c,a,n)}}var Jb=As.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function zf(n,r,o,u){if(n.fragment=n.fragment||"",n.fragment.slice(0,1)=="/"){for(var a=n.fragment.split("/"),c=1;c<a.length;c++){var h=a[c];if(h){if(h=As.unescapeFragment(h),o=o[h],o===void 0)break;var d;if(!Jb[h]&&(d=this._getId(o),d&&(r=Ds(r,d)),o.$ref)){var g=Ds(r,o.$ref),P=js.call(this,u,g);P&&(o=P.schema,u=P.root,r=P.baseId)}}}if(o!==void 0&&o!==u.schema)return{schema:o,root:u,baseId:r}}}var Qb=As.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Li(n,r){if(r===!1)return!1;if(r===void 0||r===!0)return zi(n);if(r)return Mi(n)<=r}function zi(n){var r;if(Array.isArray(n)){for(var o=0;o<n.length;o++)if(r=n[o],typeof r=="object"&&!zi(r))return!1}else for(var u in n)if(u=="$ref"||(r=n[u],typeof r=="object"&&!zi(r)))return!1;return!0}function Mi(n){var r=0,o;if(Array.isArray(n)){for(var u=0;u<n.length;u++)if(o=n[u],typeof o=="object"&&(r+=Mi(o)),r==1/0)return 1/0}else for(var a in n){if(a=="$ref")return 1/0;if(Qb[a])r++;else if(o=n[a],typeof o=="object"&&(r+=Mi(o)+1),r==1/0)return 1/0}return r}function Is(n,r){r!==!1&&(n=aa(n));var o=_n.parse(n);return Mf(o)}function Mf(n){return _n.serialize(n).split("#")[0]+"#"}var Zb=/#\/?$/;function aa(n){return n?n.replace(Zb,""):""}function Ds(n,r){return r=aa(r),_n.resolve(n,r)}function Yb(n){var r=aa(this._getId(n)),o={"":r},u={"":Is(r,!1)},a={},c=this;return Kb(n,{allKeys:!0},function(h,d,g,P,b,w,$){if(d!==""){var m=c._getId(h),D=o[P],j=u[P]+"/"+b;if($!==void 0&&(j+="/"+(typeof $=="number"?$:As.escapeFragment($))),typeof m=="string"){m=D=aa(D?_n.resolve(D,m):m);var O=c._refs[m];if(typeof O=="string"&&(O=c._refs[O]),O&&O.schema){if(!Lf(h,O.schema))throw new Error('id "'+m+'" resolves to more than one schema')}else if(m!=aa(j))if(m[0]=="#"){if(a[m]&&!Lf(h,a[m]))throw new Error('id "'+m+'" resolves to more than one schema');a[m]=h}else c._refs[m]=j}o[d]=D,u[d]=j}}),a}});var xs=ue((e$,Vf)=>{"use strict";var Ui=Rs();Vf.exports={Validation:qf(Xb),MissingRef:qf(qi)};function Xb(n){this.message="validation failed",this.errors=n,this.ajv=this.validation=!0}qi.message=function(n,r){return"can't resolve reference "+r+" from id "+n};function qi(n,r,o){this.message=o||qi.message(n,r),this.missingRef=Ui.url(n,r),this.missingSchema=Ui.normalizeId(Ui.fullPath(this.missingRef))}function qf(n){return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}});var Vi=ue((r$,Bf)=>{"use strict";Bf.exports=function(n,r){r||(r={}),typeof r=="function"&&(r={cmp:r});var o=typeof r.cycles=="boolean"?r.cycles:!1,u=r.cmp&&function(c){return function(h){return function(d,g){var P={key:d,value:h[d]},b={key:g,value:h[g]};return c(P,b)}}}(r.cmp),a=[];return function c(h){if(h&&h.toJSON&&typeof h.toJSON=="function"&&(h=h.toJSON()),h!==void 0){if(typeof h=="number")return isFinite(h)?""+h:"null";if(typeof h!="object")return JSON.stringify(h);var d,g;if(Array.isArray(h)){for(g="[",d=0;d<h.length;d++)d&&(g+=","),g+=c(h[d])||"null";return g+"]"}if(h===null)return"null";if(a.indexOf(h)!==-1){if(o)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var P=a.push(h)-1,b=Object.keys(h).sort(u&&u(h));for(g="",d=0;d<b.length;d++){var w=b[d],$=c(h[w]);!$||(g&&(g+=","),g+=JSON.stringify(w)+":"+$)}return a.splice(P,1),"{"+g+"}"}}(n)}});var Bi=ue((t$,Hf)=>{"use strict";Hf.exports=function(r,o,u){var a="",c=r.schema.$async===!0,h=r.util.schemaHasRulesExcept(r.schema,r.RULES.all,"$ref"),d=r.self._getId(r.schema);if(r.opts.strictKeywords){var g=r.util.schemaUnknownRules(r.schema,r.RULES.keywords);if(g){var P="unknown keyword: "+g;if(r.opts.strictKeywords==="log")r.logger.warn(P);else throw new Error(P)}}if(r.isTop&&(a+=" var validate = ",c&&(r.async=!0,a+="async "),a+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",d&&(r.opts.sourceCode||r.opts.processCode)&&(a+=" "+("/*# sourceURL="+d+" */")+" ")),typeof r.schema=="boolean"||!(h||r.schema.$ref)){var o="false schema",b=r.level,w=r.dataLevel,$=r.schema[o],m=r.schemaPath+r.util.getProperty(o),D=r.errSchemaPath+"/"+o,G=!r.opts.allErrors,ne,j="data"+(w||""),H="valid"+b;if(r.schema===!1){r.isTop?G=!0:a+=" var "+H+" = false; ";var O=O||[];O.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(ne||"false schema")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(D)+" , params: {} ",r.opts.messages!==!1&&(a+=" , message: 'boolean schema is false' "),r.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+r.schemaPath+" , data: "+j+" "),a+=" } "):a+=" {} ";var N=a;a=O.pop(),!r.compositeRule&&G?r.async?a+=" throw new ValidationError(["+N+"]); ":a+=" validate.errors = ["+N+"]; return false; ":a+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else r.isTop?c?a+=" return data; ":a+=" validate.errors = null; return true; ":a+=" var "+H+" = true; ";return r.isTop&&(a+=" }; return validate; "),a}if(r.isTop){var V=r.isTop,b=r.level=0,w=r.dataLevel=0,j="data";if(r.rootId=r.resolve.fullPath(r.self._getId(r.root.schema)),r.baseId=r.baseId||r.rootId,delete r.isTop,r.dataPathArr=[""],r.schema.default!==void 0&&r.opts.useDefaults&&r.opts.strictDefaults){var F="default is ignored in the schema root";if(r.opts.strictDefaults==="log")r.logger.warn(F);else throw new Error(F)}a+=" var vErrors = null; ",a+=" var errors = 0;     ",a+=" if (rootData === undefined) rootData = data; "}else{var b=r.level,w=r.dataLevel,j="data"+(w||"");if(d&&(r.baseId=r.resolve.url(r.baseId,d)),c&&!r.async)throw new Error("async schema in sync schema");a+=" var errs_"+b+" = errors;"}var H="valid"+b,G=!r.opts.allErrors,K="",ie="",ne,W=r.schema.type,re=Array.isArray(W);if(W&&r.opts.nullable&&r.schema.nullable===!0&&(re?W.indexOf("null")==-1&&(W=W.concat("null")):W!="null"&&(W=[W,"null"],re=!0)),re&&W.length==1&&(W=W[0],re=!1),r.schema.$ref&&h){if(r.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+r.errSchemaPath+'" (see option extendRefs)');r.opts.extendRefs!==!0&&(h=!1,r.logger.warn('$ref: keywords ignored in schema at path "'+r.errSchemaPath+'"'))}if(r.schema.$comment&&r.opts.$comment&&(a+=" "+r.RULES.all.$comment.code(r,"$comment")),W){if(r.opts.coerceTypes)var ae=r.util.coerceToTypes(r.opts.coerceTypes,W);var ee=r.RULES.types[W];if(ae||re||ee===!0||ee&&!lr(ee)){var m=r.schemaPath+".type",D=r.errSchemaPath+"/type",m=r.schemaPath+".type",D=r.errSchemaPath+"/type",z=re?"checkDataTypes":"checkDataType";if(a+=" if ("+r.util[z](W,j,r.opts.strictNumbers,!0)+") { ",ae){var B="dataType"+b,Z="coerced"+b;a+=" var "+B+" = typeof "+j+"; var "+Z+" = undefined; ",r.opts.coerceTypes=="array"&&(a+=" if ("+B+" == 'object' && Array.isArray("+j+") && "+j+".length == 1) { "+j+" = "+j+"[0]; "+B+" = typeof "+j+"; if ("+r.util.checkDataType(r.schema.type,j,r.opts.strictNumbers)+") "+Z+" = "+j+"; } "),a+=" if ("+Z+" !== undefined) ; ";var Te=ae;if(Te)for(var Ee,Oe=-1,_e=Te.length-1;Oe<_e;)Ee=Te[Oe+=1],Ee=="string"?a+=" else if ("+B+" == 'number' || "+B+" == 'boolean') "+Z+" = '' + "+j+"; else if ("+j+" === null) "+Z+" = ''; ":Ee=="number"||Ee=="integer"?(a+=" else if ("+B+" == 'boolean' || "+j+" === null || ("+B+" == 'string' && "+j+" && "+j+" == +"+j+" ",Ee=="integer"&&(a+=" && !("+j+" % 1)"),a+=")) "+Z+" = +"+j+"; "):Ee=="boolean"?a+=" else if ("+j+" === 'false' || "+j+" === 0 || "+j+" === null) "+Z+" = false; else if ("+j+" === 'true' || "+j+" === 1) "+Z+" = true; ":Ee=="null"?a+=" else if ("+j+" === '' || "+j+" === 0 || "+j+" === false) "+Z+" = null; ":r.opts.coerceTypes=="array"&&Ee=="array"&&(a+=" else if ("+B+" == 'string' || "+B+" == 'number' || "+B+" == 'boolean' || "+j+" == null) "+Z+" = ["+j+"]; ");a+=" else {   ";var O=O||[];O.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(ne||"type")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(D)+" , params: { type: '",re?a+=""+W.join(","):a+=""+W,a+="' } ",r.opts.messages!==!1&&(a+=" , message: 'should be ",re?a+=""+W.join(","):a+=""+W,a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+j+" "),a+=" } "):a+=" {} ";var N=a;a=O.pop(),!r.compositeRule&&G?r.async?a+=" throw new ValidationError(["+N+"]); ":a+=" validate.errors = ["+N+"]; return false; ":a+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } if ("+Z+" !== undefined) {  ";var le=w?"data"+(w-1||""):"parentData",Le=w?r.dataPathArr[w]:"parentDataProperty";a+=" "+j+" = "+Z+"; ",w||(a+="if ("+le+" !== undefined)"),a+=" "+le+"["+Le+"] = "+Z+"; } "}else{var O=O||[];O.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(ne||"type")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(D)+" , params: { type: '",re?a+=""+W.join(","):a+=""+W,a+="' } ",r.opts.messages!==!1&&(a+=" , message: 'should be ",re?a+=""+W.join(","):a+=""+W,a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+j+" "),a+=" } "):a+=" {} ";var N=a;a=O.pop(),!r.compositeRule&&G?r.async?a+=" throw new ValidationError(["+N+"]); ":a+=" validate.errors = ["+N+"]; return false; ":a+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}a+=" } "}}if(r.schema.$ref&&!h)a+=" "+r.RULES.all.$ref.code(r,"$ref")+" ",G&&(a+=" } if (errors === ",V?a+="0":a+="errs_"+b,a+=") { ",ie+="}");else{var ur=r.RULES;if(ur){for(var ee,Ve=-1,Pe=ur.length-1;Ve<Pe;)if(ee=ur[Ve+=1],lr(ee)){if(ee.type&&(a+=" if ("+r.util.checkDataType(ee.type,j,r.opts.strictNumbers)+") { "),r.opts.useDefaults){if(ee.type=="object"&&r.schema.properties){var $=r.schema.properties,Q=Object.keys($),q=Q;if(q)for(var J,fe=-1,ge=q.length-1;fe<ge;){J=q[fe+=1];var je=$[J];if(je.default!==void 0){var Se=j+r.util.getProperty(J);if(r.compositeRule){if(r.opts.strictDefaults){var F="default is ignored for: "+Se;if(r.opts.strictDefaults==="log")r.logger.warn(F);else throw new Error(F)}}else a+=" if ("+Se+" === undefined ",r.opts.useDefaults=="empty"&&(a+=" || "+Se+" === null || "+Se+" === '' "),a+=" ) "+Se+" = ",r.opts.useDefaults=="shared"?a+=" "+r.useDefault(je.default)+" ":a+=" "+JSON.stringify(je.default)+" ",a+="; "}}}else if(ee.type=="array"&&Array.isArray(r.schema.items)){var ze=r.schema.items;if(ze){for(var je,Oe=-1,He=ze.length-1;Oe<He;)if(je=ze[Oe+=1],je.default!==void 0){var Se=j+"["+Oe+"]";if(r.compositeRule){if(r.opts.strictDefaults){var F="default is ignored for: "+Se;if(r.opts.strictDefaults==="log")r.logger.warn(F);else throw new Error(F)}}else a+=" if ("+Se+" === undefined ",r.opts.useDefaults=="empty"&&(a+=" || "+Se+" === null || "+Se+" === '' "),a+=" ) "+Se+" = ",r.opts.useDefaults=="shared"?a+=" "+r.useDefault(je.default)+" ":a+=" "+JSON.stringify(je.default)+" ",a+="; "}}}}var Ne=ee.rules;if(Ne){for(var Zr,ct=-1,y=Ne.length-1;ct<y;)if(Zr=Ne[ct+=1],Nr(Zr)){var Dt=Zr.code(r,Zr.keyword,ee.type);Dt&&(a+=" "+Dt+" ",G&&(K+="}"))}}if(G&&(a+=" "+K+" ",K=""),ee.type&&(a+=" } ",W&&W===ee.type&&!ae)){a+=" else { ";var m=r.schemaPath+".type",D=r.errSchemaPath+"/type",O=O||[];O.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(ne||"type")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(D)+" , params: { type: '",re?a+=""+W.join(","):a+=""+W,a+="' } ",r.opts.messages!==!1&&(a+=" , message: 'should be ",re?a+=""+W.join(","):a+=""+W,a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+j+" "),a+=" } "):a+=" {} ";var N=a;a=O.pop(),!r.compositeRule&&G?r.async?a+=" throw new ValidationError(["+N+"]); ":a+=" validate.errors = ["+N+"]; return false; ":a+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } "}G&&(a+=" if (errors === ",V?a+="0":a+="errs_"+b,a+=") { ",ie+="}")}}}G&&(a+=" "+ie+" "),V?(c?(a+=" if (errors === 0) return data;           ",a+=" else throw new ValidationError(vErrors); "):(a+=" validate.errors = vErrors; ",a+=" return errors === 0;       "),a+=" }; return validate;"):a+=" var "+H+" = errors === errs_"+b+";";function lr(br){for(var Tr=br.rules,Ir=0;Ir<Tr.length;Ir++)if(Nr(Tr[Ir]))return!0}function Nr(br){return r.schema[br.keyword]!==void 0||br.implements&&Je(br)}function Je(br){for(var Tr=br.implements,Ir=0;Ir<Tr.length;Ir++)if(r.schema[Tr[Ir]]!==void 0)return!0}return a}});var Qf=ue((a$,Jf)=>{"use strict";var Ns=Rs(),Cs=Ea(),Kf=xs(),eE=Vi(),Wf=Bi(),rE=Cs.ucs2length,tE=$s(),aE=Kf.Validation;Jf.exports=Hi;function Hi(n,r,o,u){var a=this,c=this._opts,h=[void 0],d={},g=[],P={},b=[],w={},$=[];r=r||{schema:n,refVal:h,refs:d};var m=nE.call(this,n,r,u),D=this._compilations[m.index];if(m.compiling)return D.callValidate=F;var j=this._formats,O=this.RULES;try{var N=H(n,r,o,u);D.validate=N;var V=D.callValidate;return V&&(V.schema=N.schema,V.errors=null,V.refs=N.refs,V.refVal=N.refVal,V.root=N.root,V.$async=N.$async,c.sourceCode&&(V.source=N.source)),N}finally{sE.call(this,n,r,u)}function F(){var z=D.validate,B=z.apply(this,arguments);return F.errors=z.errors,B}function H(z,B,Z,Te){var Ee=!B||B&&B.schema==z;if(B.schema!=r.schema)return Hi.call(a,z,B,Z,Te);var Oe=z.$async===!0,_e=Wf({isTop:!0,schema:z,isRoot:Ee,baseId:Te,root:B,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Kf.MissingRef,RULES:O,validate:Wf,util:Cs,resolve:Ns,resolveRef:G,usePattern:re,useDefault:ae,useCustomRule:ee,opts:c,formats:j,logger:a.logger,self:a});_e=Ts(h,uE)+Ts(g,oE)+Ts(b,iE)+Ts($,lE)+_e,c.processCode&&(_e=c.processCode(_e,z));var le;try{var Le=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",_e);le=Le(a,O,j,r,h,b,$,tE,rE,aE),h[0]=le}catch(ur){throw a.logger.error("Error compiling schema, function code:",_e),ur}return le.schema=z,le.errors=null,le.refs=d,le.refVal=h,le.root=Ee?le:B,Oe&&(le.$async=!0),c.sourceCode===!0&&(le.source={code:_e,patterns:g,defaults:b}),le}function G(z,B,Z){B=Ns.url(z,B);var Te=d[B],Ee,Oe;if(Te!==void 0)return Ee=h[Te],Oe="refVal["+Te+"]",W(Ee,Oe);if(!Z&&r.refs){var _e=r.refs[B];if(_e!==void 0)return Ee=r.refVal[_e],Oe=K(B,Ee),W(Ee,Oe)}Oe=K(B);var le=Ns.call(a,H,r,B);if(le===void 0){var Le=o&&o[B];Le&&(le=Ns.inlineRef(Le,c.inlineRefs)?Le:Hi.call(a,Le,r,o,z))}if(le===void 0)ie(B);else return ne(B,le),W(le,Oe)}function K(z,B){var Z=h.length;return h[Z]=B,d[z]=Z,"refVal"+Z}function ie(z){delete d[z]}function ne(z,B){var Z=d[z];h[Z]=B}function W(z,B){return typeof z=="object"||typeof z=="boolean"?{code:B,schema:z,inline:!0}:{code:B,$async:z&&!!z.$async}}function re(z){var B=P[z];return B===void 0&&(B=P[z]=g.length,g[B]=z),"pattern"+B}function ae(z){switch(typeof z){case"boolean":case"number":return""+z;case"string":return Cs.toQuotedString(z);case"object":if(z===null)return"null";var B=eE(z),Z=w[B];return Z===void 0&&(Z=w[B]=b.length,b[Z]=z),"default"+Z}}function ee(z,B,Z,Te){if(a._opts.validateSchema!==!1){var Ee=z.definition.dependencies;if(Ee&&!Ee.every(function(q){return Object.prototype.hasOwnProperty.call(Z,q)}))throw new Error("parent schema must have all required keywords: "+Ee.join(","));var Oe=z.definition.validateSchema;if(Oe){var _e=Oe(B);if(!_e){var le="keyword schema is invalid: "+a.errorsText(Oe.errors);if(a._opts.validateSchema=="log")a.logger.error(le);else throw new Error(le)}}}var Le=z.definition.compile,ur=z.definition.inline,Ve=z.definition.macro,Pe;if(Le)Pe=Le.call(a,B,Z,Te);else if(Ve)Pe=Ve.call(a,B,Z,Te),c.validateSchema!==!1&&a.validateSchema(Pe,!0);else if(ur)Pe=ur.call(a,Te,z.keyword,B,Z);else if(Pe=z.definition.validate,!Pe)return;if(Pe===void 0)throw new Error('custom keyword "'+z.keyword+'"failed to compile');var Q=$.length;return $[Q]=Pe,{code:"customRule"+Q,validate:Pe}}}function nE(n,r,o){var u=Gf.call(this,n,r,o);return u>=0?{index:u,compiling:!0}:(u=this._compilations.length,this._compilations[u]={schema:n,root:r,baseId:o},{index:u,compiling:!1})}function sE(n,r,o){var u=Gf.call(this,n,r,o);u>=0&&this._compilations.splice(u,1)}function Gf(n,r,o){for(var u=0;u<this._compilations.length;u++){var a=this._compilations[u];if(a.schema==n&&a.root==r&&a.baseId==o)return u}return-1}function oE(n,r){return"var pattern"+n+" = new RegExp("+Cs.toQuotedString(r[n])+");"}function iE(n){return"var default"+n+" = defaults["+n+"];"}function uE(n,r){return r[n]===void 0?"":"var refVal"+n+" = refVal["+n+"];"}function lE(n){return"var customRule"+n+" = customRules["+n+"];"}function Ts(n,r){if(!n.length)return"";for(var o="",u=0;u<n.length;u++)o+=r(u,n);return o}});var Yf=ue((n$,Zf)=>{"use strict";var ks=Zf.exports=function(){this._cache={}};ks.prototype.put=function(r,o){this._cache[r]=o};ks.prototype.get=function(r){return this._cache[r]};ks.prototype.del=function(r){delete this._cache[r]};ks.prototype.clear=function(){this._cache={}}});var ch=ue((s$,lh)=>{"use strict";var cE=Ea(),fE=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,hE=[0,31,28,31,30,31,30,31,31,30,31,30,31],dE=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Xf=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,pE=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,mE=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,eh=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,rh=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,th=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,ah=/^(?:\/(?:[^~/]|~0|~1)*)*$/,nh=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,sh=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;lh.exports=Fs;function Fs(n){return n=n=="full"?"full":"fast",cE.copy(Fs[n])}Fs.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":eh,url:rh,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:Xf,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:uh,uuid:th,"json-pointer":ah,"json-pointer-uri-fragment":nh,"relative-json-pointer":sh};Fs.full={date:oh,time:ih,"date-time":gE,uri:bE,"uri-reference":mE,"uri-template":eh,url:rh,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:Xf,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:uh,uuid:th,"json-pointer":ah,"json-pointer-uri-fragment":nh,"relative-json-pointer":sh};function vE(n){return n%4===0&&(n%100!==0||n%400===0)}function oh(n){var r=n.match(fE);if(!r)return!1;var o=+r[1],u=+r[2],a=+r[3];return u>=1&&u<=12&&a>=1&&a<=(u==2&&vE(o)?29:hE[u])}function ih(n,r){var o=n.match(dE);if(!o)return!1;var u=o[1],a=o[2],c=o[3],h=o[5];return(u<=23&&a<=59&&c<=59||u==23&&a==59&&c==60)&&(!r||h)}var yE=/t|\s/i;function gE(n){var r=n.split(yE);return r.length==2&&oh(r[0])&&ih(r[1],!0)}var _E=/\/|:/;function bE(n){return _E.test(n)&&pE.test(n)}var EE=/[^\\]\\Z/;function uh(n){if(EE.test(n))return!1;try{return new RegExp(n),!0}catch(r){return!1}}});var hh=ue((o$,fh)=>{"use strict";fh.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.errSchemaPath+"/"+o,P=!r.opts.allErrors,b="data"+(h||""),w="valid"+c,$,m;if(d=="#"||d=="#/")r.isRoot?($=r.async,m="validate"):($=r.root.schema.$async===!0,m="root.refVal[0]");else{var D=r.resolveRef(r.baseId,d,r.isRoot);if(D===void 0){var j=r.MissingRefError.message(r.baseId,d);if(r.opts.missingRefs=="fail"){r.logger.error(j);var O=O||[];O.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(g)+" , params: { ref: '"+r.util.escapeQuotes(d)+"' } ",r.opts.messages!==!1&&(a+=" , message: 'can\\'t resolve reference "+r.util.escapeQuotes(d)+"' "),r.opts.verbose&&(a+=" , schema: "+r.util.toQuotedString(d)+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+b+" "),a+=" } "):a+=" {} ";var N=a;a=O.pop(),!r.compositeRule&&P?r.async?a+=" throw new ValidationError(["+N+"]); ":a+=" validate.errors = ["+N+"]; return false; ":a+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",P&&(a+=" if (false) { ")}else if(r.opts.missingRefs=="ignore")r.logger.warn(j),P&&(a+=" if (true) { ");else throw new r.MissingRefError(r.baseId,d,j)}else if(D.inline){var V=r.util.copy(r);V.level++;var F="valid"+V.level;V.schema=D.schema,V.schemaPath="",V.errSchemaPath=d;var H=r.validate(V).replace(/validate\.schema/g,D.code);a+=" "+H+" ",P&&(a+=" if ("+F+") { ")}else $=D.$async===!0||r.async&&D.$async!==!1,m=D.code}if(m){var O=O||[];O.push(a),a="",r.opts.passContext?a+=" "+m+".call(this, ":a+=" "+m+"( ",a+=" "+b+", (dataPath || '')",r.errorPath!='""'&&(a+=" + "+r.errorPath);var G=h?"data"+(h-1||""):"parentData",K=h?r.dataPathArr[h]:"parentDataProperty";a+=" , "+G+" , "+K+", rootData)  ";var ie=a;if(a=O.pop(),$){if(!r.async)throw new Error("async schema referenced by sync schema");P&&(a+=" var "+w+"; "),a+=" try { await "+ie+"; ",P&&(a+=" "+w+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",P&&(a+=" "+w+" = false; "),a+=" } ",P&&(a+=" if ("+w+") { ")}else a+=" if (!"+ie+") { if (vErrors === null) vErrors = "+m+".errors; else vErrors = vErrors.concat("+m+".errors); errors = vErrors.length; } ",P&&(a+=" else { ")}return a}});var ph=ue((i$,dh)=>{"use strict";dh.exports=function(r,o,u){var a=" ",c=r.schema[o],h=r.schemaPath+r.util.getProperty(o),d=r.errSchemaPath+"/"+o,g=!r.opts.allErrors,P=r.util.copy(r),b="";P.level++;var w="valid"+P.level,$=P.baseId,m=!0,D=c;if(D)for(var j,O=-1,N=D.length-1;O<N;)j=D[O+=1],(r.opts.strictKeywords?typeof j=="object"&&Object.keys(j).length>0||j===!1:r.util.schemaHasRules(j,r.RULES.all))&&(m=!1,P.schema=j,P.schemaPath=h+"["+O+"]",P.errSchemaPath=d+"/"+O,a+="  "+r.validate(P)+" ",P.baseId=$,g&&(a+=" if ("+w+") { ",b+="}"));return g&&(m?a+=" if (true) { ":a+=" "+b.slice(0,-1)+" "),a}});var vh=ue((u$,mh)=>{"use strict";mh.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w="data"+(h||""),$="valid"+c,m="errs__"+c,D=r.util.copy(r),j="";D.level++;var O="valid"+D.level,N=d.every(function(ne){return r.opts.strictKeywords?typeof ne=="object"&&Object.keys(ne).length>0||ne===!1:r.util.schemaHasRules(ne,r.RULES.all)});if(N){var V=D.baseId;a+=" var "+m+" = errors; var "+$+" = false;  ";var F=r.compositeRule;r.compositeRule=D.compositeRule=!0;var H=d;if(H)for(var G,K=-1,ie=H.length-1;K<ie;)G=H[K+=1],D.schema=G,D.schemaPath=g+"["+K+"]",D.errSchemaPath=P+"/"+K,a+="  "+r.validate(D)+" ",D.baseId=V,a+=" "+$+" = "+$+" || "+O+"; if (!"+$+") { ",j+="}";r.compositeRule=D.compositeRule=F,a+=" "+j+" if (!"+$+") {   var err =   ",r.createErrors!==!1?(a+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: {} ",r.opts.messages!==!1&&(a+=" , message: 'should match some schema in anyOf' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&b&&(r.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" } else {  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; } ",r.opts.allErrors&&(a+=" } ")}else b&&(a+=" if (true) { ");return a}});var gh=ue((l$,yh)=>{"use strict";yh.exports=function(r,o,u){var a=" ",c=r.schema[o],h=r.errSchemaPath+"/"+o,d=!r.opts.allErrors,g=r.util.toQuotedString(c);return r.opts.$comment===!0?a+=" console.log("+g+");":typeof r.opts.$comment=="function"&&(a+=" self._opts.$comment("+g+", "+r.util.toQuotedString(h)+", validate.root.schema);"),a}});var bh=ue((c$,_h)=>{"use strict";_h.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w="data"+(h||""),$="valid"+c,m=r.opts.$data&&d&&d.$data,D;m?(a+=" var schema"+c+" = "+r.util.getData(d.$data,h,r.dataPathArr)+"; ",D="schema"+c):D=d,m||(a+=" var schema"+c+" = validate.schema"+g+";"),a+="var "+$+" = equal("+w+", schema"+c+"); if (!"+$+") {   ";var j=j||[];j.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'const' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { allowedValue: schema"+c+" } ",r.opts.messages!==!1&&(a+=" , message: 'should be equal to constant' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var O=a;return a=j.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",b&&(a+=" else { "),a}});var Ph=ue((f$,Eh)=>{"use strict";Eh.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w="data"+(h||""),$="valid"+c,m="errs__"+c,D=r.util.copy(r),j="";D.level++;var O="valid"+D.level,N="i"+c,V=D.dataLevel=r.dataLevel+1,F="data"+V,H=r.baseId,G=r.opts.strictKeywords?typeof d=="object"&&Object.keys(d).length>0||d===!1:r.util.schemaHasRules(d,r.RULES.all);if(a+="var "+m+" = errors;var "+$+";",G){var K=r.compositeRule;r.compositeRule=D.compositeRule=!0,D.schema=d,D.schemaPath=g,D.errSchemaPath=P,a+=" var "+O+" = false; for (var "+N+" = 0; "+N+" < "+w+".length; "+N+"++) { ",D.errorPath=r.util.getPathExpr(r.errorPath,N,r.opts.jsonPointers,!0);var ie=w+"["+N+"]";D.dataPathArr[V]=N;var ne=r.validate(D);D.baseId=H,r.util.varOccurences(ne,F)<2?a+=" "+r.util.varReplace(ne,F,ie)+" ":a+=" var "+F+" = "+ie+"; "+ne+" ",a+=" if ("+O+") break; }  ",r.compositeRule=D.compositeRule=K,a+=" "+j+" if (!"+O+") {"}else a+=" if ("+w+".length == 0) {";var W=W||[];W.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: {} ",r.opts.messages!==!1&&(a+=" , message: 'should contain a valid item' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var re=a;return a=W.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+re+"]); ":a+=" validate.errors = ["+re+"]; return false; ":a+=" var err = "+re+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { ",G&&(a+="  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; } "),r.opts.allErrors&&(a+=" } "),a}});var $h=ue((h$,wh)=>{"use strict";wh.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w="data"+(h||""),$="errs__"+c,m=r.util.copy(r),D="";m.level++;var j="valid"+m.level,O={},N={},V=r.opts.ownProperties;for(K in d)if(K!="__proto__"){var F=d[K],H=Array.isArray(F)?N:O;H[K]=F}a+="var "+$+" = errors;";var G=r.errorPath;a+="var missing"+c+";";for(var K in N)if(H=N[K],H.length){if(a+=" if ( "+w+r.util.getProperty(K)+" !== undefined ",V&&(a+=" && Object.prototype.hasOwnProperty.call("+w+", '"+r.util.escapeQuotes(K)+"') "),b){a+=" && ( ";var ie=H;if(ie)for(var ne,W=-1,re=ie.length-1;W<re;){ne=ie[W+=1],W&&(a+=" || ");var ae=r.util.getProperty(ne),ee=w+ae;a+=" ( ( "+ee+" === undefined ",V&&(a+=" || ! Object.prototype.hasOwnProperty.call("+w+", '"+r.util.escapeQuotes(ne)+"') "),a+=") && (missing"+c+" = "+r.util.toQuotedString(r.opts.jsonPointers?ne:ae)+") ) "}a+=")) {  ";var z="missing"+c,B="' + "+z+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.opts.jsonPointers?r.util.getPathExpr(G,z,!0):G+" + "+z);var Z=Z||[];Z.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { property: '"+r.util.escapeQuotes(K)+"', missingProperty: '"+B+"', depsCount: "+H.length+", deps: '"+r.util.escapeQuotes(H.length==1?H[0]:H.join(", "))+"' } ",r.opts.messages!==!1&&(a+=" , message: 'should have ",H.length==1?a+="property "+r.util.escapeQuotes(H[0]):a+="properties "+r.util.escapeQuotes(H.join(", ")),a+=" when property "+r.util.escapeQuotes(K)+" is present' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var Te=a;a=Z.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+Te+"]); ":a+=" validate.errors = ["+Te+"]; return false; ":a+=" var err = "+Te+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var Ee=H;if(Ee)for(var ne,Oe=-1,_e=Ee.length-1;Oe<_e;){ne=Ee[Oe+=1];var ae=r.util.getProperty(ne),B=r.util.escapeQuotes(ne),ee=w+ae;r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(G,ne,r.opts.jsonPointers)),a+=" if ( "+ee+" === undefined ",V&&(a+=" || ! Object.prototype.hasOwnProperty.call("+w+", '"+r.util.escapeQuotes(ne)+"') "),a+=") {  var err =   ",r.createErrors!==!1?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { property: '"+r.util.escapeQuotes(K)+"', missingProperty: '"+B+"', depsCount: "+H.length+", deps: '"+r.util.escapeQuotes(H.length==1?H[0]:H.join(", "))+"' } ",r.opts.messages!==!1&&(a+=" , message: 'should have ",H.length==1?a+="property "+r.util.escapeQuotes(H[0]):a+="properties "+r.util.escapeQuotes(H.join(", ")),a+=" when property "+r.util.escapeQuotes(K)+" is present' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",b&&(D+="}",a+=" else { ")}r.errorPath=G;var le=m.baseId;for(var K in O){var F=O[K];(r.opts.strictKeywords?typeof F=="object"&&Object.keys(F).length>0||F===!1:r.util.schemaHasRules(F,r.RULES.all))&&(a+=" "+j+" = true; if ( "+w+r.util.getProperty(K)+" !== undefined ",V&&(a+=" && Object.prototype.hasOwnProperty.call("+w+", '"+r.util.escapeQuotes(K)+"') "),a+=") { ",m.schema=F,m.schemaPath=g+r.util.getProperty(K),m.errSchemaPath=P+"/"+r.util.escapeFragment(K),a+="  "+r.validate(m)+" ",m.baseId=le,a+=" }  ",b&&(a+=" if ("+j+") { ",D+="}"))}return b&&(a+="   "+D+" if ("+$+" == errors) {"),a}});var Oh=ue((d$,Sh)=>{"use strict";Sh.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w="data"+(h||""),$="valid"+c,m=r.opts.$data&&d&&d.$data,D;m?(a+=" var schema"+c+" = "+r.util.getData(d.$data,h,r.dataPathArr)+"; ",D="schema"+c):D=d;var j="i"+c,O="schema"+c;m||(a+=" var "+O+" = validate.schema"+g+";"),a+="var "+$+";",m&&(a+=" if (schema"+c+" === undefined) "+$+" = true; else if (!Array.isArray(schema"+c+")) "+$+" = false; else {"),a+=""+$+" = false;for (var "+j+"=0; "+j+"<"+O+".length; "+j+"++) if (equal("+w+", "+O+"["+j+"])) { "+$+" = true; break; }",m&&(a+="  }  "),a+=" if (!"+$+") {   ";var N=N||[];N.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { allowedValues: schema"+c+" } ",r.opts.messages!==!1&&(a+=" , message: 'should be equal to one of the allowed values' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var V=a;return a=N.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+V+"]); ":a+=" validate.errors = ["+V+"]; return false; ":a+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",b&&(a+=" else { "),a}});var Dh=ue((p$,Ih)=>{"use strict";Ih.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w="data"+(h||"");if(r.opts.format===!1)return b&&(a+=" if (true) { "),a;var $=r.opts.$data&&d&&d.$data,m;$?(a+=" var schema"+c+" = "+r.util.getData(d.$data,h,r.dataPathArr)+"; ",m="schema"+c):m=d;var D=r.opts.unknownFormats,j=Array.isArray(D);if($){var O="format"+c,N="isObject"+c,V="formatType"+c;a+=" var "+O+" = formats["+m+"]; var "+N+" = typeof "+O+" == 'object' && !("+O+" instanceof RegExp) && "+O+".validate; var "+V+" = "+N+" && "+O+".type || 'string'; if ("+N+") { ",r.async&&(a+=" var async"+c+" = "+O+".async; "),a+=" "+O+" = "+O+".validate; } if (  ",$&&(a+=" ("+m+" !== undefined && typeof "+m+" != 'string') || "),a+=" (",D!="ignore"&&(a+=" ("+m+" && !"+O+" ",j&&(a+=" && self._opts.unknownFormats.indexOf("+m+") == -1 "),a+=") || "),a+=" ("+O+" && "+V+" == '"+u+"' && !(typeof "+O+" == 'function' ? ",r.async?a+=" (async"+c+" ? await "+O+"("+w+") : "+O+"("+w+")) ":a+=" "+O+"("+w+") ",a+=" : "+O+".test("+w+"))))) {"}else{var O=r.formats[d];if(!O){if(D=="ignore")return r.logger.warn('unknown format "'+d+'" ignored in schema at path "'+r.errSchemaPath+'"'),b&&(a+=" if (true) { "),a;if(j&&D.indexOf(d)>=0)return b&&(a+=" if (true) { "),a;throw new Error('unknown format "'+d+'" is used in schema at path "'+r.errSchemaPath+'"')}var N=typeof O=="object"&&!(O instanceof RegExp)&&O.validate,V=N&&O.type||"string";if(N){var F=O.async===!0;O=O.validate}if(V!=u)return b&&(a+=" if (true) { "),a;if(F){if(!r.async)throw new Error("async format in sync schema");var H="formats"+r.util.getProperty(d)+".validate";a+=" if (!(await "+H+"("+w+"))) { "}else{a+=" if (! ";var H="formats"+r.util.getProperty(d);N&&(H+=".validate"),typeof O=="function"?a+=" "+H+"("+w+") ":a+=" "+H+".test("+w+") ",a+=") { "}}var G=G||[];G.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'format' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { format:  ",$?a+=""+m:a+=""+r.util.toQuotedString(d),a+="  } ",r.opts.messages!==!1&&(a+=` , message: 'should match format "`,$?a+="' + "+m+" + '":a+=""+r.util.escapeQuotes(d),a+=`"' `),r.opts.verbose&&(a+=" , schema:  ",$?a+="validate.schema"+g:a+=""+r.util.toQuotedString(d),a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var K=a;return a=G.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+K+"]); ":a+=" validate.errors = ["+K+"]; return false; ":a+=" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",b&&(a+=" else { "),a}});var jh=ue((m$,Ah)=>{"use strict";Ah.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w="data"+(h||""),$="valid"+c,m="errs__"+c,D=r.util.copy(r);D.level++;var j="valid"+D.level,O=r.schema.then,N=r.schema.else,V=O!==void 0&&(r.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:r.util.schemaHasRules(O,r.RULES.all)),F=N!==void 0&&(r.opts.strictKeywords?typeof N=="object"&&Object.keys(N).length>0||N===!1:r.util.schemaHasRules(N,r.RULES.all)),H=D.baseId;if(V||F){var G;D.createErrors=!1,D.schema=d,D.schemaPath=g,D.errSchemaPath=P,a+=" var "+m+" = errors; var "+$+" = true;  ";var K=r.compositeRule;r.compositeRule=D.compositeRule=!0,a+="  "+r.validate(D)+" ",D.baseId=H,D.createErrors=!0,a+="  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; }  ",r.compositeRule=D.compositeRule=K,V?(a+=" if ("+j+") {  ",D.schema=r.schema.then,D.schemaPath=r.schemaPath+".then",D.errSchemaPath=r.errSchemaPath+"/then",a+="  "+r.validate(D)+" ",D.baseId=H,a+=" "+$+" = "+j+"; ",V&&F?(G="ifClause"+c,a+=" var "+G+" = 'then'; "):G="'then'",a+=" } ",F&&(a+=" else { ")):a+=" if (!"+j+") { ",F&&(D.schema=r.schema.else,D.schemaPath=r.schemaPath+".else",D.errSchemaPath=r.errSchemaPath+"/else",a+="  "+r.validate(D)+" ",D.baseId=H,a+=" "+$+" = "+j+"; ",V&&F?(G="ifClause"+c,a+=" var "+G+" = 'else'; "):G="'else'",a+=" } "),a+=" if (!"+$+") {   var err =   ",r.createErrors!==!1?(a+=" { keyword: 'if' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { failingKeyword: "+G+" } ",r.opts.messages!==!1&&(a+=` , message: 'should match "' + `+G+` + '" schema' `),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&b&&(r.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" }   ",b&&(a+=" else { ")}else b&&(a+=" if (true) { ");return a}});var xh=ue((v$,Rh)=>{"use strict";Rh.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w="data"+(h||""),$="valid"+c,m="errs__"+c,D=r.util.copy(r),j="";D.level++;var O="valid"+D.level,N="i"+c,V=D.dataLevel=r.dataLevel+1,F="data"+V,H=r.baseId;if(a+="var "+m+" = errors;var "+$+";",Array.isArray(d)){var G=r.schema.additionalItems;if(G===!1){a+=" "+$+" = "+w+".length <= "+d.length+"; ";var K=P;P=r.errSchemaPath+"/additionalItems",a+="  if (!"+$+") {   ";var ie=ie||[];ie.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { limit: "+d.length+" } ",r.opts.messages!==!1&&(a+=" , message: 'should NOT have more than "+d.length+" items' "),r.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var ne=a;a=ie.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+ne+"]); ":a+=" validate.errors = ["+ne+"]; return false; ":a+=" var err = "+ne+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",P=K,b&&(j+="}",a+=" else { ")}var W=d;if(W){for(var re,ae=-1,ee=W.length-1;ae<ee;)if(re=W[ae+=1],r.opts.strictKeywords?typeof re=="object"&&Object.keys(re).length>0||re===!1:r.util.schemaHasRules(re,r.RULES.all)){a+=" "+O+" = true; if ("+w+".length > "+ae+") { ";var z=w+"["+ae+"]";D.schema=re,D.schemaPath=g+"["+ae+"]",D.errSchemaPath=P+"/"+ae,D.errorPath=r.util.getPathExpr(r.errorPath,ae,r.opts.jsonPointers,!0),D.dataPathArr[V]=ae;var B=r.validate(D);D.baseId=H,r.util.varOccurences(B,F)<2?a+=" "+r.util.varReplace(B,F,z)+" ":a+=" var "+F+" = "+z+"; "+B+" ",a+=" }  ",b&&(a+=" if ("+O+") { ",j+="}")}}if(typeof G=="object"&&(r.opts.strictKeywords?typeof G=="object"&&Object.keys(G).length>0||G===!1:r.util.schemaHasRules(G,r.RULES.all))){D.schema=G,D.schemaPath=r.schemaPath+".additionalItems",D.errSchemaPath=r.errSchemaPath+"/additionalItems",a+=" "+O+" = true; if ("+w+".length > "+d.length+") {  for (var "+N+" = "+d.length+"; "+N+" < "+w+".length; "+N+"++) { ",D.errorPath=r.util.getPathExpr(r.errorPath,N,r.opts.jsonPointers,!0);var z=w+"["+N+"]";D.dataPathArr[V]=N;var B=r.validate(D);D.baseId=H,r.util.varOccurences(B,F)<2?a+=" "+r.util.varReplace(B,F,z)+" ":a+=" var "+F+" = "+z+"; "+B+" ",b&&(a+=" if (!"+O+") break; "),a+=" } }  ",b&&(a+=" if ("+O+") { ",j+="}")}}else if(r.opts.strictKeywords?typeof d=="object"&&Object.keys(d).length>0||d===!1:r.util.schemaHasRules(d,r.RULES.all)){D.schema=d,D.schemaPath=g,D.errSchemaPath=P,a+="  for (var "+N+" = "+0+"; "+N+" < "+w+".length; "+N+"++) { ",D.errorPath=r.util.getPathExpr(r.errorPath,N,r.opts.jsonPointers,!0);var z=w+"["+N+"]";D.dataPathArr[V]=N;var B=r.validate(D);D.baseId=H,r.util.varOccurences(B,F)<2?a+=" "+r.util.varReplace(B,F,z)+" ":a+=" var "+F+" = "+z+"; "+B+" ",b&&(a+=" if (!"+O+") break; "),a+=" }"}return b&&(a+=" "+j+" if ("+m+" == errors) {"),a}});var Wi=ue((y$,Nh)=>{"use strict";Nh.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,H,w="data"+(h||""),$=r.opts.$data&&d&&d.$data,m;$?(a+=" var schema"+c+" = "+r.util.getData(d.$data,h,r.dataPathArr)+"; ",m="schema"+c):m=d;var D=o=="maximum",j=D?"exclusiveMaximum":"exclusiveMinimum",O=r.schema[j],N=r.opts.$data&&O&&O.$data,V=D?"<":">",F=D?">":"<",H=void 0;if(!($||typeof d=="number"||d===void 0))throw new Error(o+" must be number");if(!(N||O===void 0||typeof O=="number"||typeof O=="boolean"))throw new Error(j+" must be number or boolean");if(N){var G=r.util.getData(O.$data,h,r.dataPathArr),K="exclusive"+c,ie="exclType"+c,ne="exclIsNumber"+c,W="op"+c,re="' + "+W+" + '";a+=" var schemaExcl"+c+" = "+G+"; ",G="schemaExcl"+c,a+=" var "+K+"; var "+ie+" = typeof "+G+"; if ("+ie+" != 'boolean' && "+ie+" != 'undefined' && "+ie+" != 'number') { ";var H=j,ae=ae||[];ae.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(H||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: {} ",r.opts.messages!==!1&&(a+=" , message: '"+j+" should be boolean' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var ee=a;a=ae.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+ee+"]); ":a+=" validate.errors = ["+ee+"]; return false; ":a+=" var err = "+ee+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if ( ",$&&(a+=" ("+m+" !== undefined && typeof "+m+" != 'number') || "),a+=" "+ie+" == 'number' ? ( ("+K+" = "+m+" === undefined || "+G+" "+V+"= "+m+") ? "+w+" "+F+"= "+G+" : "+w+" "+F+" "+m+" ) : ( ("+K+" = "+G+" === true) ? "+w+" "+F+"= "+m+" : "+w+" "+F+" "+m+" ) || "+w+" !== "+w+") { var op"+c+" = "+K+" ? '"+V+"' : '"+V+"='; ",d===void 0&&(H=j,P=r.errSchemaPath+"/"+j,m=G,$=N)}else{var ne=typeof O=="number",re=V;if(ne&&$){var W="'"+re+"'";a+=" if ( ",$&&(a+=" ("+m+" !== undefined && typeof "+m+" != 'number') || "),a+=" ( "+m+" === undefined || "+O+" "+V+"= "+m+" ? "+w+" "+F+"= "+O+" : "+w+" "+F+" "+m+" ) || "+w+" !== "+w+") { "}else{ne&&d===void 0?(K=!0,H=j,P=r.errSchemaPath+"/"+j,m=O,F+="="):(ne&&(m=Math[D?"min":"max"](O,d)),O===(ne?m:!0)?(K=!0,H=j,P=r.errSchemaPath+"/"+j,F+="="):(K=!1,re+="="));var W="'"+re+"'";a+=" if ( ",$&&(a+=" ("+m+" !== undefined && typeof "+m+" != 'number') || "),a+=" "+w+" "+F+" "+m+" || "+w+" !== "+w+") { "}}H=H||o;var ae=ae||[];ae.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(H||"_limit")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { comparison: "+W+", limit: "+m+", exclusive: "+K+" } ",r.opts.messages!==!1&&(a+=" , message: 'should be "+re+" ",$?a+="' + "+m:a+=""+m+"'"),r.opts.verbose&&(a+=" , schema:  ",$?a+="validate.schema"+g:a+=""+d,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var ee=a;return a=ae.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+ee+"]); ":a+=" validate.errors = ["+ee+"]; return false; ":a+=" var err = "+ee+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",b&&(a+=" else { "),a}});var Ki=ue((g$,Th)=>{"use strict";Th.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,j,w="data"+(h||""),$=r.opts.$data&&d&&d.$data,m;if($?(a+=" var schema"+c+" = "+r.util.getData(d.$data,h,r.dataPathArr)+"; ",m="schema"+c):m=d,!($||typeof d=="number"))throw new Error(o+" must be number");var D=o=="maxItems"?">":"<";a+="if ( ",$&&(a+=" ("+m+" !== undefined && typeof "+m+" != 'number') || "),a+=" "+w+".length "+D+" "+m+") { ";var j=o,O=O||[];O.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(j||"_limitItems")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { limit: "+m+" } ",r.opts.messages!==!1&&(a+=" , message: 'should NOT have ",o=="maxItems"?a+="more":a+="fewer",a+=" than ",$?a+="' + "+m+" + '":a+=""+d,a+=" items' "),r.opts.verbose&&(a+=" , schema:  ",$?a+="validate.schema"+g:a+=""+d,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var N=a;return a=O.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+N+"]); ":a+=" validate.errors = ["+N+"]; return false; ":a+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",b&&(a+=" else { "),a}});var Gi=ue((_$,Ch)=>{"use strict";Ch.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,j,w="data"+(h||""),$=r.opts.$data&&d&&d.$data,m;if($?(a+=" var schema"+c+" = "+r.util.getData(d.$data,h,r.dataPathArr)+"; ",m="schema"+c):m=d,!($||typeof d=="number"))throw new Error(o+" must be number");var D=o=="maxLength"?">":"<";a+="if ( ",$&&(a+=" ("+m+" !== undefined && typeof "+m+" != 'number') || "),r.opts.unicode===!1?a+=" "+w+".length ":a+=" ucs2length("+w+") ",a+=" "+D+" "+m+") { ";var j=o,O=O||[];O.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(j||"_limitLength")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { limit: "+m+" } ",r.opts.messages!==!1&&(a+=" , message: 'should NOT be ",o=="maxLength"?a+="longer":a+="shorter",a+=" than ",$?a+="' + "+m+" + '":a+=""+d,a+=" characters' "),r.opts.verbose&&(a+=" , schema:  ",$?a+="validate.schema"+g:a+=""+d,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var N=a;return a=O.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+N+"]); ":a+=" validate.errors = ["+N+"]; return false; ":a+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",b&&(a+=" else { "),a}});var Ji=ue((b$,kh)=>{"use strict";kh.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,j,w="data"+(h||""),$=r.opts.$data&&d&&d.$data,m;if($?(a+=" var schema"+c+" = "+r.util.getData(d.$data,h,r.dataPathArr)+"; ",m="schema"+c):m=d,!($||typeof d=="number"))throw new Error(o+" must be number");var D=o=="maxProperties"?">":"<";a+="if ( ",$&&(a+=" ("+m+" !== undefined && typeof "+m+" != 'number') || "),a+=" Object.keys("+w+").length "+D+" "+m+") { ";var j=o,O=O||[];O.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(j||"_limitProperties")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { limit: "+m+" } ",r.opts.messages!==!1&&(a+=" , message: 'should NOT have ",o=="maxProperties"?a+="more":a+="fewer",a+=" than ",$?a+="' + "+m+" + '":a+=""+d,a+=" properties' "),r.opts.verbose&&(a+=" , schema:  ",$?a+="validate.schema"+g:a+=""+d,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var N=a;return a=O.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+N+"]); ":a+=" validate.errors = ["+N+"]; return false; ":a+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",b&&(a+=" else { "),a}});var Lh=ue((E$,Fh)=>{"use strict";Fh.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w="data"+(h||""),$=r.opts.$data&&d&&d.$data,m;if($?(a+=" var schema"+c+" = "+r.util.getData(d.$data,h,r.dataPathArr)+"; ",m="schema"+c):m=d,!($||typeof d=="number"))throw new Error(o+" must be number");a+="var division"+c+";if (",$&&(a+=" "+m+" !== undefined && ( typeof "+m+" != 'number' || "),a+=" (division"+c+" = "+w+" / "+m+", ",r.opts.multipleOfPrecision?a+=" Math.abs(Math.round(division"+c+") - division"+c+") > 1e-"+r.opts.multipleOfPrecision+" ":a+=" division"+c+" !== parseInt(division"+c+") ",a+=" ) ",$&&(a+="  )  "),a+=" ) {   ";var D=D||[];D.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { multipleOf: "+m+" } ",r.opts.messages!==!1&&(a+=" , message: 'should be multiple of ",$?a+="' + "+m:a+=""+m+"'"),r.opts.verbose&&(a+=" , schema:  ",$?a+="validate.schema"+g:a+=""+d,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var j=a;return a=D.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+j+"]); ":a+=" validate.errors = ["+j+"]; return false; ":a+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",b&&(a+=" else { "),a}});var Mh=ue((P$,zh)=>{"use strict";zh.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w="data"+(h||""),$="errs__"+c,m=r.util.copy(r);m.level++;var D="valid"+m.level;if(r.opts.strictKeywords?typeof d=="object"&&Object.keys(d).length>0||d===!1:r.util.schemaHasRules(d,r.RULES.all)){m.schema=d,m.schemaPath=g,m.errSchemaPath=P,a+=" var "+$+" = errors;  ";var j=r.compositeRule;r.compositeRule=m.compositeRule=!0,m.createErrors=!1;var O;m.opts.allErrors&&(O=m.opts.allErrors,m.opts.allErrors=!1),a+=" "+r.validate(m)+" ",m.createErrors=!0,O&&(m.opts.allErrors=O),r.compositeRule=m.compositeRule=j,a+=" if ("+D+") {   ";var N=N||[];N.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: {} ",r.opts.messages!==!1&&(a+=" , message: 'should NOT be valid' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var V=a;a=N.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+V+"]); ":a+=" validate.errors = ["+V+"]; return false; ":a+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  errors = "+$+"; if (vErrors !== null) { if ("+$+") vErrors.length = "+$+"; else vErrors = null; } ",r.opts.allErrors&&(a+=" } ")}else a+="  var err =   ",r.createErrors!==!1?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: {} ",r.opts.messages!==!1&&(a+=" , message: 'should NOT be valid' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",b&&(a+=" if (false) { ");return a}});var qh=ue((w$,Uh)=>{"use strict";Uh.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w="data"+(h||""),$="valid"+c,m="errs__"+c,D=r.util.copy(r),j="";D.level++;var O="valid"+D.level,N=D.baseId,V="prevValid"+c,F="passingSchemas"+c;a+="var "+m+" = errors , "+V+" = false , "+$+" = false , "+F+" = null; ";var H=r.compositeRule;r.compositeRule=D.compositeRule=!0;var G=d;if(G)for(var K,ie=-1,ne=G.length-1;ie<ne;)K=G[ie+=1],(r.opts.strictKeywords?typeof K=="object"&&Object.keys(K).length>0||K===!1:r.util.schemaHasRules(K,r.RULES.all))?(D.schema=K,D.schemaPath=g+"["+ie+"]",D.errSchemaPath=P+"/"+ie,a+="  "+r.validate(D)+" ",D.baseId=N):a+=" var "+O+" = true; ",ie&&(a+=" if ("+O+" && "+V+") { "+$+" = false; "+F+" = ["+F+", "+ie+"]; } else { ",j+="}"),a+=" if ("+O+") { "+$+" = "+V+" = true; "+F+" = "+ie+"; }";return r.compositeRule=D.compositeRule=H,a+=""+j+"if (!"+$+") {   var err =   ",r.createErrors!==!1?(a+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { passingSchemas: "+F+" } ",r.opts.messages!==!1&&(a+=" , message: 'should match exactly one schema in oneOf' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&b&&(r.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+="} else {  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; }",r.opts.allErrors&&(a+=" } "),a}});var Bh=ue(($$,Vh)=>{"use strict";Vh.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w="data"+(h||""),$=r.opts.$data&&d&&d.$data,m;$?(a+=" var schema"+c+" = "+r.util.getData(d.$data,h,r.dataPathArr)+"; ",m="schema"+c):m=d;var D=$?"(new RegExp("+m+"))":r.usePattern(d);a+="if ( ",$&&(a+=" ("+m+" !== undefined && typeof "+m+" != 'string') || "),a+=" !"+D+".test("+w+") ) {   ";var j=j||[];j.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { pattern:  ",$?a+=""+m:a+=""+r.util.toQuotedString(d),a+="  } ",r.opts.messages!==!1&&(a+=` , message: 'should match pattern "`,$?a+="' + "+m+" + '":a+=""+r.util.escapeQuotes(d),a+=`"' `),r.opts.verbose&&(a+=" , schema:  ",$?a+="validate.schema"+g:a+=""+r.util.toQuotedString(d),a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var O=a;return a=j.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",b&&(a+=" else { "),a}});var Wh=ue((S$,Hh)=>{"use strict";Hh.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w="data"+(h||""),$="errs__"+c,m=r.util.copy(r),D="";m.level++;var j="valid"+m.level,O="key"+c,N="idx"+c,V=m.dataLevel=r.dataLevel+1,F="data"+V,H="dataProperties"+c,G=Object.keys(d||{}).filter(Oe),K=r.schema.patternProperties||{},ie=Object.keys(K).filter(Oe),ne=r.schema.additionalProperties,W=G.length||ie.length,re=ne===!1,ae=typeof ne=="object"&&Object.keys(ne).length,ee=r.opts.removeAdditional,z=re||ae||ee,B=r.opts.ownProperties,Z=r.baseId,Te=r.schema.required;if(Te&&!(r.opts.$data&&Te.$data)&&Te.length<r.opts.loopRequired)var Ee=r.util.toHash(Te);function Oe(Cr){return Cr!=="__proto__"}if(a+="var "+$+" = errors;var "+j+" = true;",B&&(a+=" var "+H+" = undefined;"),z){if(B?a+=" "+H+" = "+H+" || Object.keys("+w+"); for (var "+N+"=0; "+N+"<"+H+".length; "+N+"++) { var "+O+" = "+H+"["+N+"]; ":a+=" for (var "+O+" in "+w+") { ",W){if(a+=" var isAdditional"+c+" = !(false ",G.length)if(G.length>8)a+=" || validate.schema"+g+".hasOwnProperty("+O+") ";else{var _e=G;if(_e)for(var le,Le=-1,ur=_e.length-1;Le<ur;)le=_e[Le+=1],a+=" || "+O+" == "+r.util.toQuotedString(le)+" "}if(ie.length){var Ve=ie;if(Ve)for(var Pe,Q=-1,q=Ve.length-1;Q<q;)Pe=Ve[Q+=1],a+=" || "+r.usePattern(Pe)+".test("+O+") "}a+=" ); if (isAdditional"+c+") { "}if(ee=="all")a+=" delete "+w+"["+O+"]; ";else{var J=r.errorPath,fe="' + "+O+" + '";if(r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(r.errorPath,O,r.opts.jsonPointers)),re)if(ee)a+=" delete "+w+"["+O+"]; ";else{a+=" "+j+" = false; ";var ge=P;P=r.errSchemaPath+"/additionalProperties";var je=je||[];je.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { additionalProperty: '"+fe+"' } ",r.opts.messages!==!1&&(a+=" , message: '",r.opts._errorDataPathProperty?a+="is an invalid additional property":a+="should NOT have additional properties",a+="' "),r.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var Se=a;a=je.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+Se+"]); ":a+=" validate.errors = ["+Se+"]; return false; ":a+=" var err = "+Se+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",P=ge,b&&(a+=" break; ")}else if(ae)if(ee=="failing"){a+=" var "+$+" = errors;  ";var ze=r.compositeRule;r.compositeRule=m.compositeRule=!0,m.schema=ne,m.schemaPath=r.schemaPath+".additionalProperties",m.errSchemaPath=r.errSchemaPath+"/additionalProperties",m.errorPath=r.opts._errorDataPathProperty?r.errorPath:r.util.getPathExpr(r.errorPath,O,r.opts.jsonPointers);var He=w+"["+O+"]";m.dataPathArr[V]=O;var Ne=r.validate(m);m.baseId=Z,r.util.varOccurences(Ne,F)<2?a+=" "+r.util.varReplace(Ne,F,He)+" ":a+=" var "+F+" = "+He+"; "+Ne+" ",a+=" if (!"+j+") { errors = "+$+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+w+"["+O+"]; }  ",r.compositeRule=m.compositeRule=ze}else{m.schema=ne,m.schemaPath=r.schemaPath+".additionalProperties",m.errSchemaPath=r.errSchemaPath+"/additionalProperties",m.errorPath=r.opts._errorDataPathProperty?r.errorPath:r.util.getPathExpr(r.errorPath,O,r.opts.jsonPointers);var He=w+"["+O+"]";m.dataPathArr[V]=O;var Ne=r.validate(m);m.baseId=Z,r.util.varOccurences(Ne,F)<2?a+=" "+r.util.varReplace(Ne,F,He)+" ":a+=" var "+F+" = "+He+"; "+Ne+" ",b&&(a+=" if (!"+j+") break; ")}r.errorPath=J}W&&(a+=" } "),a+=" }  ",b&&(a+=" if ("+j+") { ",D+="}")}var Zr=r.opts.useDefaults&&!r.compositeRule;if(G.length){var ct=G;if(ct)for(var le,y=-1,Dt=ct.length-1;y<Dt;){le=ct[y+=1];var lr=d[le];if(r.opts.strictKeywords?typeof lr=="object"&&Object.keys(lr).length>0||lr===!1:r.util.schemaHasRules(lr,r.RULES.all)){var Nr=r.util.getProperty(le),He=w+Nr,Je=Zr&&lr.default!==void 0;m.schema=lr,m.schemaPath=g+Nr,m.errSchemaPath=P+"/"+r.util.escapeFragment(le),m.errorPath=r.util.getPath(r.errorPath,le,r.opts.jsonPointers),m.dataPathArr[V]=r.util.toQuotedString(le);var Ne=r.validate(m);if(m.baseId=Z,r.util.varOccurences(Ne,F)<2){Ne=r.util.varReplace(Ne,F,He);var br=He}else{var br=F;a+=" var "+F+" = "+He+"; "}if(Je)a+=" "+Ne+" ";else{if(Ee&&Ee[le]){a+=" if ( "+br+" === undefined ",B&&(a+=" || ! Object.prototype.hasOwnProperty.call("+w+", '"+r.util.escapeQuotes(le)+"') "),a+=") { "+j+" = false; ";var J=r.errorPath,ge=P,Tr=r.util.escapeQuotes(le);r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(J,le,r.opts.jsonPointers)),P=r.errSchemaPath+"/required";var je=je||[];je.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { missingProperty: '"+Tr+"' } ",r.opts.messages!==!1&&(a+=" , message: '",r.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+Tr+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var Se=a;a=je.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+Se+"]); ":a+=" validate.errors = ["+Se+"]; return false; ":a+=" var err = "+Se+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",P=ge,r.errorPath=J,a+=" } else { "}else b?(a+=" if ( "+br+" === undefined ",B&&(a+=" || ! Object.prototype.hasOwnProperty.call("+w+", '"+r.util.escapeQuotes(le)+"') "),a+=") { "+j+" = true; } else { "):(a+=" if ("+br+" !== undefined ",B&&(a+=" &&   Object.prototype.hasOwnProperty.call("+w+", '"+r.util.escapeQuotes(le)+"') "),a+=" ) { ");a+=" "+Ne+" } "}}b&&(a+=" if ("+j+") { ",D+="}")}}if(ie.length){var Ir=ie;if(Ir)for(var Pe,At=-1,Yr=Ir.length-1;At<Yr;){Pe=Ir[At+=1];var lr=K[Pe];if(r.opts.strictKeywords?typeof lr=="object"&&Object.keys(lr).length>0||lr===!1:r.util.schemaHasRules(lr,r.RULES.all)){m.schema=lr,m.schemaPath=r.schemaPath+".patternProperties"+r.util.getProperty(Pe),m.errSchemaPath=r.errSchemaPath+"/patternProperties/"+r.util.escapeFragment(Pe),B?a+=" "+H+" = "+H+" || Object.keys("+w+"); for (var "+N+"=0; "+N+"<"+H+".length; "+N+"++) { var "+O+" = "+H+"["+N+"]; ":a+=" for (var "+O+" in "+w+") { ",a+=" if ("+r.usePattern(Pe)+".test("+O+")) { ",m.errorPath=r.util.getPathExpr(r.errorPath,O,r.opts.jsonPointers);var He=w+"["+O+"]";m.dataPathArr[V]=O;var Ne=r.validate(m);m.baseId=Z,r.util.varOccurences(Ne,F)<2?a+=" "+r.util.varReplace(Ne,F,He)+" ":a+=" var "+F+" = "+He+"; "+Ne+" ",b&&(a+=" if (!"+j+") break; "),a+=" } ",b&&(a+=" else "+j+" = true; "),a+=" }  ",b&&(a+=" if ("+j+") { ",D+="}")}}}return b&&(a+=" "+D+" if ("+$+" == errors) {"),a}});var Gh=ue((O$,Kh)=>{"use strict";Kh.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w="data"+(h||""),$="errs__"+c,m=r.util.copy(r),D="";m.level++;var j="valid"+m.level;if(a+="var "+$+" = errors;",r.opts.strictKeywords?typeof d=="object"&&Object.keys(d).length>0||d===!1:r.util.schemaHasRules(d,r.RULES.all)){m.schema=d,m.schemaPath=g,m.errSchemaPath=P;var O="key"+c,N="idx"+c,V="i"+c,F="' + "+O+" + '",H=m.dataLevel=r.dataLevel+1,G="data"+H,K="dataProperties"+c,ie=r.opts.ownProperties,ne=r.baseId;ie&&(a+=" var "+K+" = undefined; "),ie?a+=" "+K+" = "+K+" || Object.keys("+w+"); for (var "+N+"=0; "+N+"<"+K+".length; "+N+"++) { var "+O+" = "+K+"["+N+"]; ":a+=" for (var "+O+" in "+w+") { ",a+=" var startErrs"+c+" = errors; ";var W=O,re=r.compositeRule;r.compositeRule=m.compositeRule=!0;var ae=r.validate(m);m.baseId=ne,r.util.varOccurences(ae,G)<2?a+=" "+r.util.varReplace(ae,G,W)+" ":a+=" var "+G+" = "+W+"; "+ae+" ",r.compositeRule=m.compositeRule=re,a+=" if (!"+j+") { for (var "+V+"=startErrs"+c+"; "+V+"<errors; "+V+"++) { vErrors["+V+"].propertyName = "+O+"; }   var err =   ",r.createErrors!==!1?(a+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { propertyName: '"+F+"' } ",r.opts.messages!==!1&&(a+=" , message: 'property name \\'"+F+"\\' is invalid' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&b&&(r.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),b&&(a+=" break; "),a+=" } }"}return b&&(a+=" "+D+" if ("+$+" == errors) {"),a}});var Qh=ue((I$,Jh)=>{"use strict";Jh.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w="data"+(h||""),$="valid"+c,m=r.opts.$data&&d&&d.$data,D;m?(a+=" var schema"+c+" = "+r.util.getData(d.$data,h,r.dataPathArr)+"; ",D="schema"+c):D=d;var j="schema"+c;if(!m)if(d.length<r.opts.loopRequired&&r.schema.properties&&Object.keys(r.schema.properties).length){var O=[],N=d;if(N)for(var V,F=-1,H=N.length-1;F<H;){V=N[F+=1];var G=r.schema.properties[V];G&&(r.opts.strictKeywords?typeof G=="object"&&Object.keys(G).length>0||G===!1:r.util.schemaHasRules(G,r.RULES.all))||(O[O.length]=V)}}else var O=d;if(m||O.length){var K=r.errorPath,ie=m||O.length>=r.opts.loopRequired,ne=r.opts.ownProperties;if(b)if(a+=" var missing"+c+"; ",ie){m||(a+=" var "+j+" = validate.schema"+g+"; ");var W="i"+c,re="schema"+c+"["+W+"]",ae="' + "+re+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(K,re,r.opts.jsonPointers)),a+=" var "+$+" = true; ",m&&(a+=" if (schema"+c+" === undefined) "+$+" = true; else if (!Array.isArray(schema"+c+")) "+$+" = false; else {"),a+=" for (var "+W+" = 0; "+W+" < "+j+".length; "+W+"++) { "+$+" = "+w+"["+j+"["+W+"]] !== undefined ",ne&&(a+=" &&   Object.prototype.hasOwnProperty.call("+w+", "+j+"["+W+"]) "),a+="; if (!"+$+") break; } ",m&&(a+="  }  "),a+="  if (!"+$+") {   ";var ee=ee||[];ee.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { missingProperty: '"+ae+"' } ",r.opts.messages!==!1&&(a+=" , message: '",r.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var z=a;a=ee.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+z+"]); ":a+=" validate.errors = ["+z+"]; return false; ":a+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else{a+=" if ( ";var B=O;if(B)for(var Z,W=-1,Te=B.length-1;W<Te;){Z=B[W+=1],W&&(a+=" || ");var Ee=r.util.getProperty(Z),Oe=w+Ee;a+=" ( ( "+Oe+" === undefined ",ne&&(a+=" || ! Object.prototype.hasOwnProperty.call("+w+", '"+r.util.escapeQuotes(Z)+"') "),a+=") && (missing"+c+" = "+r.util.toQuotedString(r.opts.jsonPointers?Z:Ee)+") ) "}a+=") {  ";var re="missing"+c,ae="' + "+re+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.opts.jsonPointers?r.util.getPathExpr(K,re,!0):K+" + "+re);var ee=ee||[];ee.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { missingProperty: '"+ae+"' } ",r.opts.messages!==!1&&(a+=" , message: '",r.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var z=a;a=ee.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+z+"]); ":a+=" validate.errors = ["+z+"]; return false; ":a+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else if(ie){m||(a+=" var "+j+" = validate.schema"+g+"; ");var W="i"+c,re="schema"+c+"["+W+"]",ae="' + "+re+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(K,re,r.opts.jsonPointers)),m&&(a+=" if ("+j+" && !Array.isArray("+j+")) {  var err =   ",r.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { missingProperty: '"+ae+"' } ",r.opts.messages!==!1&&(a+=" , message: '",r.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+j+" !== undefined) { "),a+=" for (var "+W+" = 0; "+W+" < "+j+".length; "+W+"++) { if ("+w+"["+j+"["+W+"]] === undefined ",ne&&(a+=" || ! Object.prototype.hasOwnProperty.call("+w+", "+j+"["+W+"]) "),a+=") {  var err =   ",r.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { missingProperty: '"+ae+"' } ",r.opts.messages!==!1&&(a+=" , message: '",r.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",m&&(a+="  }  ")}else{var _e=O;if(_e)for(var Z,le=-1,Le=_e.length-1;le<Le;){Z=_e[le+=1];var Ee=r.util.getProperty(Z),ae=r.util.escapeQuotes(Z),Oe=w+Ee;r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(K,Z,r.opts.jsonPointers)),a+=" if ( "+Oe+" === undefined ",ne&&(a+=" || ! Object.prototype.hasOwnProperty.call("+w+", '"+r.util.escapeQuotes(Z)+"') "),a+=") {  var err =   ",r.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { missingProperty: '"+ae+"' } ",r.opts.messages!==!1&&(a+=" , message: '",r.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r.errorPath=K}else b&&(a+=" if (true) {");return a}});var Yh=ue((D$,Zh)=>{"use strict";Zh.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w="data"+(h||""),$="valid"+c,m=r.opts.$data&&d&&d.$data,D;if(m?(a+=" var schema"+c+" = "+r.util.getData(d.$data,h,r.dataPathArr)+"; ",D="schema"+c):D=d,(d||m)&&r.opts.uniqueItems!==!1){m&&(a+=" var "+$+"; if ("+D+" === false || "+D+" === undefined) "+$+" = true; else if (typeof "+D+" != 'boolean') "+$+" = false; else { "),a+=" var i = "+w+".length , "+$+" = true , j; if (i > 1) { ";var j=r.schema.items&&r.schema.items.type,O=Array.isArray(j);if(!j||j=="object"||j=="array"||O&&(j.indexOf("object")>=0||j.indexOf("array")>=0))a+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+w+"[i], "+w+"[j])) { "+$+" = false; break outer; } } } ";else{a+=" var itemIndices = {}, item; for (;i--;) { var item = "+w+"[i]; ";var N="checkDataType"+(O?"s":"");a+=" if ("+r.util[N](j,"item",r.opts.strictNumbers,!0)+") continue; ",O&&(a+=` if (typeof item == 'string') item = '"' + item; `),a+=" if (typeof itemIndices[item] == 'number') { "+$+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}a+=" } ",m&&(a+="  }  "),a+=" if (!"+$+") {   ";var V=V||[];V.push(a),a="",r.createErrors!==!1?(a+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { i: i, j: j } ",r.opts.messages!==!1&&(a+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),r.opts.verbose&&(a+=" , schema:  ",m?a+="validate.schema"+g:a+=""+d,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+w+" "),a+=" } "):a+=" {} ";var F=a;a=V.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+F+"]); ":a+=" validate.errors = ["+F+"]; return false; ":a+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",b&&(a+=" else { ")}else b&&(a+=" if (true) { ");return a}});var ed=ue((A$,Xh)=>{"use strict";Xh.exports={$ref:hh(),allOf:ph(),anyOf:vh(),$comment:gh(),const:bh(),contains:Ph(),dependencies:$h(),enum:Oh(),format:Dh(),if:jh(),items:xh(),maximum:Wi(),minimum:Wi(),maxItems:Ki(),minItems:Ki(),maxLength:Gi(),minLength:Gi(),maxProperties:Ji(),minProperties:Ji(),multipleOf:Lh(),not:Mh(),oneOf:qh(),pattern:Bh(),properties:Wh(),propertyNames:Gh(),required:Qh(),uniqueItems:Yh(),validate:Bi()}});var ad=ue((j$,td)=>{"use strict";var rd=ed(),Qi=Ea().toHash;td.exports=function(){var r=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],o=["type","$comment"],u=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],a=["number","integer","string","array","object","boolean","null"];return r.all=Qi(o),r.types=Qi(a),r.forEach(function(c){c.rules=c.rules.map(function(h){var d;if(typeof h=="object"){var g=Object.keys(h)[0];d=h[g],h=g,d.forEach(function(b){o.push(b),r.all[b]=!0})}o.push(h);var P=r.all[h]={keyword:h,code:rd[h],implements:d};return P}),r.all.$comment={keyword:"$comment",code:rd.$comment},c.type&&(r.types[c.type]=c)}),r.keywords=Qi(o.concat(u)),r.custom={},r}});var od=ue((R$,sd)=>{"use strict";var nd=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];sd.exports=function(n,r){for(var o=0;o<r.length;o++){n=JSON.parse(JSON.stringify(n));var u=r[o].split("/"),a=n,c;for(c=1;c<u.length;c++)a=a[u[c]];for(c=0;c<nd.length;c++){var h=nd[c],d=a[h];d&&(a[h]={anyOf:[d,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return n}});var ld=ue((x$,ud)=>{"use strict";var PE=xs().MissingRef;ud.exports=id;function id(n,r,o){var u=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof r=="function"&&(o=r,r=void 0);var a=c(n).then(function(){var d=u._addSchema(n,void 0,r);return d.validate||h(d)});return o&&a.then(function(d){o(null,d)},o),a;function c(d){var g=d.$schema;return g&&!u.getSchema(g)?id.call(u,{$ref:g},!0):Promise.resolve()}function h(d){try{return u._compile(d)}catch(P){if(P instanceof PE)return g(P);throw P}function g(P){var b=P.missingSchema;if(m(b))throw new Error("Schema "+b+" is loaded but "+P.missingRef+" cannot be resolved");var w=u._loadingSchemas[b];return w||(w=u._loadingSchemas[b]=u._opts.loadSchema(b),w.then($,$)),w.then(function(D){if(!m(b))return c(D).then(function(){m(b)||u.addSchema(D,b,void 0,r)})}).then(function(){return h(d)});function $(){delete u._loadingSchemas[b]}function m(D){return u._refs[D]||u._schemas[D]}}}}});var fd=ue((N$,cd)=>{"use strict";cd.exports=function(r,o,u){var a=" ",c=r.level,h=r.dataLevel,d=r.schema[o],g=r.schemaPath+r.util.getProperty(o),P=r.errSchemaPath+"/"+o,b=!r.opts.allErrors,w,$="data"+(h||""),m="valid"+c,D="errs__"+c,j=r.opts.$data&&d&&d.$data,O;j?(a+=" var schema"+c+" = "+r.util.getData(d.$data,h,r.dataPathArr)+"; ",O="schema"+c):O=d;var N=this,V="definition"+c,F=N.definition,H="",G,K,ie,ne,W;if(j&&F.$data){W="keywordValidate"+c;var re=F.validateSchema;a+=" var "+V+" = RULES.custom['"+o+"'].definition; var "+W+" = "+V+".validate;"}else{if(ne=r.useCustomRule(N,d,r.schema,r),!ne)return;O="validate.schema"+g,W=ne.code,G=F.compile,K=F.inline,ie=F.macro}var ae=W+".errors",ee="i"+c,z="ruleErr"+c,B=F.async;if(B&&!r.async)throw new Error("async keyword in sync schema");if(K||ie||(a+=""+ae+" = null;"),a+="var "+D+" = errors;var "+m+";",j&&F.$data&&(H+="}",a+=" if ("+O+" === undefined) { "+m+" = true; } else { ",re&&(H+="}",a+=" "+m+" = "+V+".validateSchema("+O+"); if ("+m+") { ")),K)F.statements?a+=" "+ne.validate+" ":a+=" "+m+" = "+ne.validate+"; ";else if(ie){var Z=r.util.copy(r),H="";Z.level++;var Te="valid"+Z.level;Z.schema=ne.validate,Z.schemaPath="";var Ee=r.compositeRule;r.compositeRule=Z.compositeRule=!0;var Oe=r.validate(Z).replace(/validate\.schema/g,W);r.compositeRule=Z.compositeRule=Ee,a+=" "+Oe}else{var _e=_e||[];_e.push(a),a="",a+="  "+W+".call( ",r.opts.passContext?a+="this":a+="self",G||F.schema===!1?a+=" , "+$+" ":a+=" , "+O+" , "+$+" , validate.schema"+r.schemaPath+" ",a+=" , (dataPath || '')",r.errorPath!='""'&&(a+=" + "+r.errorPath);var le=h?"data"+(h-1||""):"parentData",Le=h?r.dataPathArr[h]:"parentDataProperty";a+=" , "+le+" , "+Le+" , rootData )  ";var ur=a;a=_e.pop(),F.errors===!1?(a+=" "+m+" = ",B&&(a+="await "),a+=""+ur+"; "):B?(ae="customErrors"+c,a+=" var "+ae+" = null; try { "+m+" = await "+ur+"; } catch (e) { "+m+" = false; if (e instanceof ValidationError) "+ae+" = e.errors; else throw e; } "):a+=" "+ae+" = null; "+m+" = "+ur+"; "}if(F.modifying&&(a+=" if ("+le+") "+$+" = "+le+"["+Le+"];"),a+=""+H,F.valid)b&&(a+=" if (true) { ");else{a+=" if ( ",F.valid===void 0?(a+=" !",ie?a+=""+Te:a+=""+m):a+=" "+!F.valid+" ",a+=") { ",w=N.keyword;var _e=_e||[];_e.push(a),a="";var _e=_e||[];_e.push(a),a="",r.createErrors!==!1?(a+=" { keyword: '"+(w||"custom")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { keyword: '"+N.keyword+"' } ",r.opts.messages!==!1&&(a+=` , message: 'should pass "`+N.keyword+`" keyword validation' `),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+$+" "),a+=" } "):a+=" {} ";var Ve=a;a=_e.pop(),!r.compositeRule&&b?r.async?a+=" throw new ValidationError(["+Ve+"]); ":a+=" validate.errors = ["+Ve+"]; return false; ":a+=" var err = "+Ve+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var Pe=a;a=_e.pop(),K?F.errors?F.errors!="full"&&(a+="  for (var "+ee+"="+D+"; "+ee+"<errors; "+ee+"++) { var "+z+" = vErrors["+ee+"]; if ("+z+".dataPath === undefined) "+z+".dataPath = (dataPath || '') + "+r.errorPath+"; if ("+z+".schemaPath === undefined) { "+z+'.schemaPath = "'+P+'"; } ',r.opts.verbose&&(a+=" "+z+".schema = "+O+"; "+z+".data = "+$+"; "),a+=" } "):F.errors===!1?a+=" "+Pe+" ":(a+=" if ("+D+" == errors) { "+Pe+" } else {  for (var "+ee+"="+D+"; "+ee+"<errors; "+ee+"++) { var "+z+" = vErrors["+ee+"]; if ("+z+".dataPath === undefined) "+z+".dataPath = (dataPath || '') + "+r.errorPath+"; if ("+z+".schemaPath === undefined) { "+z+'.schemaPath = "'+P+'"; } ',r.opts.verbose&&(a+=" "+z+".schema = "+O+"; "+z+".data = "+$+"; "),a+=" } } "):ie?(a+="   var err =   ",r.createErrors!==!1?(a+=" { keyword: '"+(w||"custom")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(P)+" , params: { keyword: '"+N.keyword+"' } ",r.opts.messages!==!1&&(a+=` , message: 'should pass "`+N.keyword+`" keyword validation' `),r.opts.verbose&&(a+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+$+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&b&&(r.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; ")):F.errors===!1?a+=" "+Pe+" ":(a+=" if (Array.isArray("+ae+")) { if (vErrors === null) vErrors = "+ae+"; else vErrors = vErrors.concat("+ae+"); errors = vErrors.length;  for (var "+ee+"="+D+"; "+ee+"<errors; "+ee+"++) { var "+z+" = vErrors["+ee+"]; if ("+z+".dataPath === undefined) "+z+".dataPath = (dataPath || '') + "+r.errorPath+";  "+z+'.schemaPath = "'+P+'";  ',r.opts.verbose&&(a+=" "+z+".schema = "+O+"; "+z+".data = "+$+"; "),a+=" } } else { "+Pe+" } "),a+=" } ",b&&(a+=" else { ")}return a}});var Zi=ue((T$,wE)=>{wE.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var pd=ue((C$,dd)=>{"use strict";var hd=Zi();dd.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:hd.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:hd.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}});var vd=ue((k$,md)=>{"use strict";var $E=/^[a-z_$][a-z0-9_$-]*$/i,SE=fd(),OE=pd();md.exports={add:IE,get:DE,remove:AE,validate:Yi};function IE(n,r){var o=this.RULES;if(o.keywords[n])throw new Error("Keyword "+n+" is already defined");if(!$E.test(n))throw new Error("Keyword "+n+" is not a valid identifier");if(r){this.validateKeyword(r,!0);var u=r.type;if(Array.isArray(u))for(var a=0;a<u.length;a++)h(n,u[a],r);else h(n,u,r);var c=r.metaSchema;c&&(r.$data&&this._opts.$data&&(c={anyOf:[c,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),r.validateSchema=this.compile(c,!0))}o.keywords[n]=o.all[n]=!0;function h(d,g,P){for(var b,w=0;w<o.length;w++){var $=o[w];if($.type==g){b=$;break}}b||(b={type:g,rules:[]},o.push(b));var m={keyword:d,definition:P,custom:!0,code:SE,implements:P.implements};b.rules.push(m),o.custom[d]=m}return this}function DE(n){var r=this.RULES.custom[n];return r?r.definition:this.RULES.keywords[n]||!1}function AE(n){var r=this.RULES;delete r.keywords[n],delete r.all[n],delete r.custom[n];for(var o=0;o<r.length;o++)for(var u=r[o].rules,a=0;a<u.length;a++)if(u[a].keyword==n){u.splice(a,1);break}return this}function Yi(n,r){Yi.errors=null;var o=this._validateKeyword=this._validateKeyword||this.compile(OE,!0);if(o(n))return!0;if(Yi.errors=o.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(o.errors));return!1}});var yd=ue((F$,jE)=>{jE.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var bn=ue((L$,Od)=>{"use strict";var _d=Qf(),Pa=Rs(),RE=Yf(),bd=Fi(),xE=Vi(),NE=ch(),TE=ad(),Ed=od(),Pd=Ea();Od.exports=or;or.prototype.validate=kE;or.prototype.compile=FE;or.prototype.addSchema=LE;or.prototype.addMetaSchema=zE;or.prototype.validateSchema=ME;or.prototype.getSchema=qE;or.prototype.removeSchema=BE;or.prototype.addFormat=YE;or.prototype.errorsText=ZE;or.prototype._addSchema=HE;or.prototype._compile=WE;or.prototype.compileAsync=ld();var Ms=vd();or.prototype.addKeyword=Ms.add;or.prototype.getKeyword=Ms.get;or.prototype.removeKeyword=Ms.remove;or.prototype.validateKeyword=Ms.validate;var wd=xs();or.ValidationError=wd.Validation;or.MissingRefError=wd.MissingRef;or.$dataMetaSchema=Ed;var zs="http://json-schema.org/draft-07/schema",gd=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],CE=["/properties"];function or(n){if(!(this instanceof or))return new or(n);n=this._opts=Pd.copy(n)||{},nP(this),this._schemas={},this._refs={},this._fragments={},this._formats=NE(n.format),this._cache=n.cache||new RE,this._loadingSchemas={},this._compilations=[],this.RULES=TE(),this._getId=KE(n),n.loopRequired=n.loopRequired||1/0,n.errorDataPath=="property"&&(n._errorDataPathProperty=!0),n.serialize===void 0&&(n.serialize=xE),this._metaOpts=aP(this),n.formats&&rP(this),n.keywords&&tP(this),XE(this),typeof n.meta=="object"&&this.addMetaSchema(n.meta),n.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),eP(this)}function kE(n,r){var o;if(typeof n=="string"){if(o=this.getSchema(n),!o)throw new Error('no schema with key or ref "'+n+'"')}else{var u=this._addSchema(n);o=u.validate||this._compile(u)}var a=o(r);return o.$async!==!0&&(this.errors=o.errors),a}function FE(n,r){var o=this._addSchema(n,void 0,r);return o.validate||this._compile(o)}function LE(n,r,o,u){if(Array.isArray(n)){for(var a=0;a<n.length;a++)this.addSchema(n[a],void 0,o,u);return this}var c=this._getId(n);if(c!==void 0&&typeof c!="string")throw new Error("schema id must be string");return r=Pa.normalizeId(r||c),Sd(this,r),this._schemas[r]=this._addSchema(n,o,u,!0),this}function zE(n,r,o){return this.addSchema(n,r,o,!0),this}function ME(n,r){var o=n.$schema;if(o!==void 0&&typeof o!="string")throw new Error("$schema must be a string");if(o=o||this._opts.defaultMeta||UE(this),!o)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var u=this.validate(o,n);if(!u&&r){var a="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(a);else throw new Error(a)}return u}function UE(n){var r=n._opts.meta;return n._opts.defaultMeta=typeof r=="object"?n._getId(r)||r:n.getSchema(zs)?zs:void 0,n._opts.defaultMeta}function qE(n){var r=$d(this,n);switch(typeof r){case"object":return r.validate||this._compile(r);case"string":return this.getSchema(r);case"undefined":return VE(this,n)}}function VE(n,r){var o=Pa.schema.call(n,{schema:{}},r);if(o){var u=o.schema,a=o.root,c=o.baseId,h=_d.call(n,u,a,void 0,c);return n._fragments[r]=new bd({ref:r,fragment:!0,schema:u,root:a,baseId:c,validate:h}),h}}function $d(n,r){return r=Pa.normalizeId(r),n._schemas[r]||n._refs[r]||n._fragments[r]}function BE(n){if(n instanceof RegExp)return Ls(this,this._schemas,n),Ls(this,this._refs,n),this;switch(typeof n){case"undefined":return Ls(this,this._schemas),Ls(this,this._refs),this._cache.clear(),this;case"string":var r=$d(this,n);return r&&this._cache.del(r.cacheKey),delete this._schemas[n],delete this._refs[n],this;case"object":var o=this._opts.serialize,u=o?o(n):n;this._cache.del(u);var a=this._getId(n);a&&(a=Pa.normalizeId(a),delete this._schemas[a],delete this._refs[a])}return this}function Ls(n,r,o){for(var u in r){var a=r[u];!a.meta&&(!o||o.test(u))&&(n._cache.del(a.cacheKey),delete r[u])}}function HE(n,r,o,u){if(typeof n!="object"&&typeof n!="boolean")throw new Error("schema should be object or boolean");var a=this._opts.serialize,c=a?a(n):n,h=this._cache.get(c);if(h)return h;u=u||this._opts.addUsedSchema!==!1;var d=Pa.normalizeId(this._getId(n));d&&u&&Sd(this,d);var g=this._opts.validateSchema!==!1&&!r,P;g&&!(P=d&&d==Pa.normalizeId(n.$schema))&&this.validateSchema(n,!0);var b=Pa.ids.call(this,n),w=new bd({id:d,schema:n,localRefs:b,cacheKey:c,meta:o});return d[0]!="#"&&u&&(this._refs[d]=w),this._cache.put(c,w),g&&P&&this.validateSchema(n,!0),w}function WE(n,r){if(n.compiling)return n.validate=a,a.schema=n.schema,a.errors=null,a.root=r||a,n.schema.$async===!0&&(a.$async=!0),a;n.compiling=!0;var o;n.meta&&(o=this._opts,this._opts=this._metaOpts);var u;try{u=_d.call(this,n.schema,r,n.localRefs)}catch(c){throw delete n.validate,c}finally{n.compiling=!1,n.meta&&(this._opts=o)}return n.validate=u,n.refs=u.refs,n.refVal=u.refVal,n.root=u.root,u;function a(){var c=n.validate,h=c.apply(this,arguments);return a.errors=c.errors,h}}function KE(n){switch(n.schemaId){case"auto":return QE;case"id":return GE;default:return JE}}function GE(n){return n.$id&&this.logger.warn("schema $id ignored",n.$id),n.id}function JE(n){return n.id&&this.logger.warn("schema id ignored",n.id),n.$id}function QE(n){if(n.$id&&n.id&&n.$id!=n.id)throw new Error("schema $id is different from id");return n.$id||n.id}function ZE(n,r){if(n=n||this.errors,!n)return"No errors";r=r||{};for(var o=r.separator===void 0?", ":r.separator,u=r.dataVar===void 0?"data":r.dataVar,a="",c=0;c<n.length;c++){var h=n[c];h&&(a+=u+h.dataPath+" "+h.message+o)}return a.slice(0,-o.length)}function YE(n,r){return typeof r=="string"&&(r=new RegExp(r)),this._formats[n]=r,this}function XE(n){var r;if(n._opts.$data&&(r=yd(),n.addMetaSchema(r,r.$id,!0)),n._opts.meta!==!1){var o=Zi();n._opts.$data&&(o=Ed(o,CE)),n.addMetaSchema(o,zs,!0),n._refs["http://json-schema.org/schema"]=zs}}function eP(n){var r=n._opts.schemas;if(!!r)if(Array.isArray(r))n.addSchema(r);else for(var o in r)n.addSchema(r[o],o)}function rP(n){for(var r in n._opts.formats){var o=n._opts.formats[r];n.addFormat(r,o)}}function tP(n){for(var r in n._opts.keywords){var o=n._opts.keywords[r];n.addKeyword(r,o)}}function Sd(n,r){if(n._schemas[r]||n._refs[r])throw new Error('schema with key or id "'+r+'" already exists')}function aP(n){for(var r=Pd.copy(n._opts),o=0;o<gd.length;o++)delete r[gd[o]];return r}function nP(n){var r=n._opts.logger;if(r===!1)n.logger={log:Xi,warn:Xi,error:Xi};else{if(r===void 0&&(r=console),!(typeof r=="object"&&r.log&&r.warn&&r.error))throw new Error("logger must implement log, warn and error methods");n.logger=r}}function Xi(){}});var iu=ue((z$,Td)=>{"use strict";var sP=Object.create,Vs=Object.defineProperty,oP=Object.getOwnPropertyDescriptor,iP=Object.getOwnPropertyNames,uP=Object.getPrototypeOf,lP=Object.prototype.hasOwnProperty,qa=(n,r)=>{for(var o in r)Vs(n,o,{get:r[o],enumerable:!0})},Us=(n,r,o,u)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of iP(r))!lP.call(n,a)&&a!==o&&Vs(n,a,{get:()=>r[a],enumerable:!(u=oP(r,a))||u.enumerable});return n},En=(n,r,o)=>(Us(n,r,"default"),o&&Us(o,r,"default")),Pn=(n,r,o)=>(o=n!=null?sP(uP(n)):{},Us(r||!n||!n.__esModule?Vs(o,"default",{value:n,enumerable:!0}):o,n)),cP=n=>Us(Vs({},"__esModule",{value:!0}),n),Id={};qa(Id,{DashboardValidator:()=>Nd,Validator:()=>CP,checkDuplicateTokens:()=>Dd,checkInputsInStructure:()=>Ad,checkVisualizationsInStructure:()=>jd});Td.exports=cP(Id);var Rr={};qa(Rr,{default:()=>fP});var eu=Pn(tf());En(Rr,tf());var fP="default"in eu?eu.default:eu,hP=({WorkerClass:n,onMessage:r,postMessage:o})=>{let u=typeof Worker!="undefined",a=(0,Rr.useRef)(!0),c=(0,Rr.useCallback)(()=>{if(!(!a.current||!u))return a.current=!1,new n},[n,u]),h=(0,Rr.useRef)(c());(0,Rr.useEffect)(()=>{let P=h.current;return()=>{var b;(b=P==null?void 0:P.terminate)==null||b.call(P)}},[]);let d=(0,Rr.useRef)();d.current=r;let g=(0,Rr.useCallback)((...P)=>{var b;(b=d.current)==null||b.call(d,...P)},[]);return(0,Rr.useEffect)(()=>{let P=h.current;return u&&P&&P.addEventListener("message",g),()=>{u&&P&&P.removeEventListener("message",g)}},[g,u]),(0,Rr.useEffect)(()=>{u&&h.current&&o(h.current)},[u,o]),{enabled:u}};function dP(){let n=URL.createObjectURL(new Blob(['"use strict";var Wu=Object.create;var hn=Object.defineProperty,Bu=Object.defineProperties,Xu=Object.getOwnPropertyDescriptor,Yu=Object.getOwnPropertyDescriptors,Qu=Object.getOwnPropertyNames,Sa=Object.getOwnPropertySymbols,Zu=Object.getPrototypeOf,Pa=Object.prototype.hasOwnProperty,ec=Object.prototype.propertyIsEnumerable;var ba=(t,e,r)=>e in t?hn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Y=(t,e)=>{for(var r in e||(e={}))Pa.call(e,r)&&ba(t,r,e[r]);if(Sa)for(var r of Sa(e))ec.call(e,r)&&ba(t,r,e[r]);return t},ge=(t,e)=>Bu(t,Yu(e));var w=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var tc=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Qu(e))!Pa.call(t,s)&&s!==r&&hn(t,s,{get:()=>e[s],enumerable:!(n=Xu(e,s))||n.enumerable});return t};var Ke=(t,e,r)=>(r=t!=null?Wu(Zu(t)):{},tc(e||!t||!t.__esModule?hn(r,"default",{value:t,enumerable:!0}):r,t));var Nt=(t,e,r)=>new Promise((n,s)=>{var a=d=>{try{u(r.next(d))}catch(f){s(f)}},o=d=>{try{u(r.throw(d))}catch(f){s(f)}},u=d=>d.done?n(d.value):Promise.resolve(d.value).then(a,o);u((r=r.apply(t,e)).next())});var yn=w((Eh,Ia)=>{"use strict";var mn=Object.defineProperty,rc=Object.getOwnPropertyDescriptor,nc=Object.getOwnPropertyNames,sc=Object.prototype.hasOwnProperty,ac=(t,e)=>{for(var r in e)mn(t,r,{get:e[r],enumerable:!0})},oc=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of nc(e))!sc.call(t,s)&&s!==r&&mn(t,s,{get:()=>e[s],enumerable:!(n=rc(e,s))||n.enumerable});return t},ic=t=>oc(mn({},"__esModule",{value:!0}),t),Na={};ac(Na,{isEmpty:()=>cc,isEmptyArray:()=>Oa,isEmptyObject:()=>Ta});Ia.exports=ic(Na);var uc=t=>!!t&&!Array.isArray(t)&&typeof t=="object",Oa=t=>Array.isArray(t)&&t.filter(e=>e!==void 0).length===0,Ta=t=>uc(t)&&Object.keys(t).length===0,cc=t=>t===null||typeof t=="undefined"||typeof t=="string"&&!t||typeof t!="string"&&typeof t!="object"||Oa(t)||Ta(t)});var Tt=w(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.gettext=lc;Ot._=dc;Ot.setSharedTranslator=Ca;Ot.resetSharedTranslator=Da;var _n;function lc(){return _n.apply(void 0,arguments)}function dc(){return _n.apply(void 0,arguments)}function Ca(t){_n=t}function Da(){Ca(typeof window!="undefined"&&window.gettext||function(t){return t})}Da()});var Xa=w((Ch,Ba)=>{"use strict";var vn=Object.defineProperty,hc=Object.getOwnPropertyDescriptor,mc=Object.getOwnPropertyNames,yc=Object.prototype.hasOwnProperty,_c=(t,e)=>{for(var r in e)vn(t,r,{get:e[r],enumerable:!0})},vc=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of mc(e))!yc.call(t,s)&&s!==r&&vn(t,s,{get:()=>e[s],enumerable:!(n=hc(e,s))||n.enumerable});return t},gc=t=>vc(vn({},"__esModule",{value:!0}),t),Wa={};_c(Wa,{isPlainObject:()=>$c});Ba.exports=gc(Wa);var $c=t=>!!t&&!Array.isArray(t)&&typeof t=="object"});var Xt=w(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.regexpCode=F.getProperty=F.safeStringify=F.stringify=F.strConcat=F.addCodeArg=F.str=F._=F.nil=F._Code=F.Name=F.IDENTIFIER=F._CodeOrName=void 0;var Wt=class{};F._CodeOrName=Wt;F.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var it=class extends Wt{constructor(e){if(super(),!F.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};F.Name=it;var Se=class extends Wt{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e===\'""\'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,n)=>(n instanceof it&&(r[n.str]=(r[n.str]||0)+1),r),{})}};F._Code=Se;F.nil=new Se("");function Qa(t,...e){let r=[t[0]],n=0;for(;n<e.length;)En(r,e[n]),r.push(t[++n]);return new Se(r)}F._=Qa;var $n=new Se("+");function Za(t,...e){let r=[Bt(t[0])],n=0;for(;n<e.length;)r.push($n),En(r,e[n]),r.push($n,Bt(t[++n]));return Ec(r),new Se(r)}F.str=Za;function En(t,e){e instanceof Se?t.push(...e._items):e instanceof it?t.push(e):t.push(bc(e))}F.addCodeArg=En;function Ec(t){let e=1;for(;e<t.length-1;){if(t[e]===$n){let r=wc(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function wc(t,e){if(e===\'""\')return t;if(t===\'""\')return e;if(typeof t=="string")return e instanceof it||t[t.length-1]!==\'"\'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]===\'"\'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]===\'"\'&&!(t instanceof it))return`"${t}${e.slice(1)}`}function Sc(t,e){return e.emptyStr()?t:t.emptyStr()?e:Za`${t}${e}`}F.strConcat=Sc;function bc(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Bt(Array.isArray(t)?t.join(","):t)}function Pc(t){return new Se(Bt(t))}F.stringify=Pc;function Bt(t){return JSON.stringify(t).replace(/\\u2028/g,"\\\\u2028").replace(/\\u2029/g,"\\\\u2029")}F.safeStringify=Bt;function Nc(t){return typeof t=="string"&&F.IDENTIFIER.test(t)?new Se(`.${t}`):Qa`[${t}]`}F.getProperty=Nc;function Oc(t){return new Se(t.toString())}F.regexpCode=Oc});var Pn=w(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.ValueScope=ue.ValueScopeName=ue.Scope=ue.varKinds=ue.UsedValueState=void 0;var fe=Xt(),wn=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},Sn;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(Sn=ue.UsedValueState||(ue.UsedValueState={}));ue.varKinds={const:new fe.Name("const"),let:new fe.Name("let"),var:new fe.Name("var")};var Tr=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof fe.Name?e:this.name(e)}name(e){return new fe.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,n;if(((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};ue.Scope=Tr;var Ir=class extends fe.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:n}){this.value=e,this.scopePath=fe._`.${new fe.Name(r)}[${n}]`}};ue.ValueScopeName=Ir;var Tc=fe._`\\n`,bn=class extends Tr{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=ge(Y({},e),{_n:e.lines?Tc:fe.nil})}get(){return this._scope}name(e){return new Ir(e,this._newName(e))}value(e,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(e),{prefix:a}=s,o=(n=r.key)!==null&&n!==void 0?n:r.ref,u=this._values[a];if(u){let p=u.get(o);if(p)return p}else u=this._values[a]=new Map;u.set(o,s);let d=this._scope[a]||(this._scope[a]=[]),f=d.length;return d[f]=r.ref,s.setValue(r,{property:a,itemIndex:f}),s}getValue(e,r){let n=this._values[e];if(!!n)return n.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return fe._`${e}${n.scopePath}`})}scopeCode(e=this._values,r,n){return this._reduceValues(e,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(e,r,n={},s){let a=fe.nil;for(let o in e){let u=e[o];if(!u)continue;let d=n[o]=n[o]||new Map;u.forEach(f=>{if(d.has(f))return;d.set(f,Sn.Started);let p=r(f);if(p){let _=this.opts.es5?ue.varKinds.var:ue.varKinds.const;a=fe._`${a}${_} ${f} = ${p};${this.opts._n}`}else if(p=s==null?void 0:s(f))a=fe._`${a}${p}${this.opts._n}`;else throw new wn(f);d.set(f,Sn.Completed)})}return a}};ue.ValueScope=bn});var R=w(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.or=C.and=C.not=C.CodeGen=C.operators=C.varKinds=C.ValueScopeName=C.ValueScope=C.Scope=C.Name=C.regexpCode=C.stringify=C.getProperty=C.nil=C.strConcat=C.str=C._=void 0;var A=Xt(),be=Pn(),Xe=Xt();Object.defineProperty(C,"_",{enumerable:!0,get:function(){return Xe._}});Object.defineProperty(C,"str",{enumerable:!0,get:function(){return Xe.str}});Object.defineProperty(C,"strConcat",{enumerable:!0,get:function(){return Xe.strConcat}});Object.defineProperty(C,"nil",{enumerable:!0,get:function(){return Xe.nil}});Object.defineProperty(C,"getProperty",{enumerable:!0,get:function(){return Xe.getProperty}});Object.defineProperty(C,"stringify",{enumerable:!0,get:function(){return Xe.stringify}});Object.defineProperty(C,"regexpCode",{enumerable:!0,get:function(){return Xe.regexpCode}});Object.defineProperty(C,"Name",{enumerable:!0,get:function(){return Xe.Name}});var Ar=Pn();Object.defineProperty(C,"Scope",{enumerable:!0,get:function(){return Ar.Scope}});Object.defineProperty(C,"ValueScope",{enumerable:!0,get:function(){return Ar.ValueScope}});Object.defineProperty(C,"ValueScopeName",{enumerable:!0,get:function(){return Ar.ValueScopeName}});Object.defineProperty(C,"varKinds",{enumerable:!0,get:function(){return Ar.varKinds}});C.operators={GT:new A._Code(">"),GTE:new A._Code(">="),LT:new A._Code("<"),LTE:new A._Code("<="),EQ:new A._Code("==="),NEQ:new A._Code("!=="),NOT:new A._Code("!"),OR:new A._Code("||"),AND:new A._Code("&&"),ADD:new A._Code("+")};var He=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},Nn=class extends He{constructor(e,r,n){super(),this.varKind=e,this.name=r,this.rhs=n}render({es5:e,_n:r}){let n=e?be.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(e,r){if(!!e[this.name.str])return this.rhs&&(this.rhs=Ct(this.rhs,e,r)),this}get names(){return this.rhs instanceof A._CodeOrName?this.rhs.names:{}}},Cr=class extends He{constructor(e,r,n){super(),this.lhs=e,this.rhs=r,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof A.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Ct(this.rhs,e,r),this}get names(){let e=this.lhs instanceof A.Name?{}:Y({},this.lhs.names);return Rr(e,this.rhs)}},On=class extends Cr{constructor(e,r,n,s){super(e,n,s),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},Tn=class extends He{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},In=class extends He{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},Cn=class extends He{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},Dn=class extends He{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=Ct(this.code,e,r),this}get names(){return this.code instanceof A._CodeOrName?this.code.names:{}}},Yt=class extends He{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,n)=>r+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let n=e[r].optimizeNodes();Array.isArray(n)?e.splice(r,1,...n):n?e[r]=n:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:n}=this,s=n.length;for(;s--;){let a=n[s];a.optimizeNames(e,r)||(Ic(e,a.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>ct(e,r.names),{})}},Ge=class extends Yt{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Rn=class extends Yt{},It=class extends Ge{};It.kind="else";var Pe=class extends Ge{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new It(n):n}if(r)return e===!1?r instanceof Pe?r:r.nodes:this.nodes.length?this:new Pe(eo(e),r instanceof Pe?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=Ct(this.condition,e,r),this}get names(){let e=super.names;return Rr(e,this.condition),this.else&&ct(e,this.else.names),e}};Pe.kind="if";var ut=class extends Ge{};ut.kind="for";var An=class extends ut{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(!!super.optimizeNames(e,r))return this.iteration=Ct(this.iteration,e,r),this}get names(){return ct(super.names,this.iteration.names)}},jn=class extends ut{constructor(e,r,n,s){super(),this.varKind=e,this.name=r,this.from=n,this.to=s}render(e){let r=e.es5?be.varKinds.var:this.varKind,{name:n,from:s,to:a}=this;return`for(${r} ${n}=${s}; ${n}<${a}; ${n}++)`+super.render(e)}get names(){let e=Rr(super.names,this.from);return Rr(e,this.to)}},Dr=class extends ut{constructor(e,r,n,s){super(),this.loop=e,this.varKind=r,this.name=n,this.iterable=s}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(!!super.optimizeNames(e,r))return this.iterable=Ct(this.iterable,e,r),this}get names(){return ct(super.names,this.iterable.names)}},Qt=class extends Ge{constructor(e,r,n){super(),this.name=e,this.args=r,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};Qt.kind="func";var Zt=class extends Yt{render(e){return"return "+super.render(e)}};Zt.kind="return";var kn=class extends Ge{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var n,s;return super.optimizeNames(e,r),(n=this.catch)===null||n===void 0||n.optimizeNames(e,r),(s=this.finally)===null||s===void 0||s.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&ct(e,this.catch.names),this.finally&&ct(e,this.finally.names),e}},er=class extends Ge{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};er.kind="catch";var tr=class extends Ge{render(e){return"finally"+super.render(e)}};tr.kind="finally";var qn=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts=ge(Y({},r),{_n:r.lines?`\n`:""}),this._extScope=e,this._scope=new be.Scope({parent:e}),this._nodes=[new Rn]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let n=this._extScope.value(e,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,n,s){let a=this._scope.toName(r);return n!==void 0&&s&&(this._constants[a.str]=n),this._leafNode(new Nn(e,a,n)),a}const(e,r,n){return this._def(be.varKinds.const,e,r,n)}let(e,r,n){return this._def(be.varKinds.let,e,r,n)}var(e,r,n){return this._def(be.varKinds.var,e,r,n)}assign(e,r,n){return this._leafNode(new Cr(e,r,n))}add(e,r){return this._leafNode(new On(e,C.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==A.nil&&this._leafNode(new Dn(e)),this}object(...e){let r=["{"];for(let[n,s]of e)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),A.addCodeArg(r,s));return r.push("}"),new A._Code(r)}if(e,r,n){if(this._blockNode(new Pe(e)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error(\'CodeGen: "else" body without "then" body\');return this}elseIf(e){return this._elseNode(new Pe(e))}else(){return this._elseNode(new It)}endIf(){return this._endBlockNode(Pe,It)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new An(e),r)}forRange(e,r,n,s,a=this.opts.es5?be.varKinds.var:be.varKinds.let){let o=this._scope.toName(e);return this._for(new jn(a,o,r,n),()=>s(o))}forOf(e,r,n,s=be.varKinds.const){let a=this._scope.toName(e);if(this.opts.es5){let o=r instanceof A.Name?r:this.var("_arr",r);return this.forRange("_i",0,A._`${o}.length`,u=>{this.var(a,A._`${o}[${u}]`),n(a)})}return this._for(new Dr("of",s,a,r),()=>n(a))}forIn(e,r,n,s=this.opts.es5?be.varKinds.var:be.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,A._`Object.keys(${r})`,n);let a=this._scope.toName(e);return this._for(new Dr("in",s,a,r),()=>n(a))}endFor(){return this._endBlockNode(ut)}label(e){return this._leafNode(new Tn(e))}break(e){return this._leafNode(new In(e))}return(e){let r=new Zt;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error(\'CodeGen: "return" should have one node\');return this._endBlockNode(Zt)}try(e,r,n){if(!r&&!n)throw new Error(\'CodeGen: "try" without "catch" and "finally"\');let s=new kn;if(this._blockNode(s),this.code(e),r){let a=this.name("e");this._currNode=s.catch=new er(a),r(a)}return n&&(this._currNode=s.finally=new tr,this.code(n)),this._endBlockNode(er,tr)}throw(e){return this._leafNode(new Cn(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=A.nil,n,s){return this._blockNode(new Qt(e,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(Qt)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let n=this._currNode;if(n instanceof e||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof Pe))throw new Error(\'CodeGen: "else" without "if"\');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};C.CodeGen=qn;function ct(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function Rr(t,e){return e instanceof A._CodeOrName?ct(t,e.names):t}function Ct(t,e,r){if(t instanceof A.Name)return n(t);if(!s(t))return t;return new A._Code(t._items.reduce((a,o)=>(o instanceof A.Name&&(o=n(o)),o instanceof A._Code?a.push(...o._items):a.push(o),a),[]));function n(a){let o=r[a.str];return o===void 0||e[a.str]!==1?a:(delete e[a.str],o)}function s(a){return a instanceof A._Code&&a._items.some(o=>o instanceof A.Name&&e[o.str]===1&&r[o.str]!==void 0)}}function Ic(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function eo(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:A._`!${Mn(t)}`}C.not=eo;var Cc=to(C.operators.AND);function Dc(...t){return t.reduce(Cc)}C.and=Dc;var Rc=to(C.operators.OR);function Ac(...t){return t.reduce(Rc)}C.or=Ac;function to(t){return(e,r)=>e===A.nil?r:r===A.nil?e:A._`${Mn(e)} ${t} ${Mn(r)}`}function Mn(t){return t instanceof A.Name?t:A._`(${t})`}});var V=w(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.checkStrictMode=D.getErrorPath=D.Type=D.useFunc=D.setEvaluated=D.evaluatedPropsToName=D.mergeEvaluated=D.eachItem=D.unescapeJsonPointer=D.escapeJsonPointer=D.escapeFragment=D.unescapeFragment=D.schemaRefOrVal=D.schemaHasRulesButRef=D.schemaHasRules=D.checkUnknownRules=D.alwaysValidSchema=D.toHash=void 0;var G=R(),jc=Xt();function kc(t){let e={};for(let r of t)e[r]=!0;return e}D.toHash=kc;function qc(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(so(t,e),!ao(e,t.self.RULES.all))}D.alwaysValidSchema=qc;function so(t,e=t.schema){let{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;let s=n.RULES.keywords;for(let a in e)s[a]||co(t,`unknown keyword: "${a}"`)}D.checkUnknownRules=so;function ao(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}D.schemaHasRules=ao;function Mc(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}D.schemaHasRulesButRef=Mc;function Vc({topSchemaRef:t,schemaPath:e},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return G._`${r}`}return G._`${t}${e}${G.getProperty(n)}`}D.schemaRefOrVal=Vc;function Uc(t){return oo(decodeURIComponent(t))}D.unescapeFragment=Uc;function Fc(t){return encodeURIComponent(Vn(t))}D.escapeFragment=Fc;function Vn(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\\//g,"~1")}D.escapeJsonPointer=Vn;function oo(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}D.unescapeJsonPointer=oo;function Lc(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}D.eachItem=Lc;function ro({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(s,a,o,u)=>{let d=o===void 0?a:o instanceof G.Name?(a instanceof G.Name?t(s,a,o):e(s,a,o),o):a instanceof G.Name?(e(s,o,a),a):r(a,o);return u===G.Name&&!(d instanceof G.Name)?n(s,d):d}}D.mergeEvaluated={props:ro({mergeNames:(t,e,r)=>t.if(G._`${r} !== true && ${e} !== undefined`,()=>{t.if(G._`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,G._`${r} || {}`).code(G._`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if(G._`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,G._`${r} || {}`),Un(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:Y(Y({},t),e),resultToName:io}),items:ro({mergeNames:(t,e,r)=>t.if(G._`${r} !== true && ${e} !== undefined`,()=>t.assign(r,G._`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if(G._`${r} !== true`,()=>t.assign(r,e===!0?!0:G._`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function io(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",G._`{}`);return e!==void 0&&Un(t,r,e),r}D.evaluatedPropsToName=io;function Un(t,e,r){Object.keys(r).forEach(n=>t.assign(G._`${e}${G.getProperty(n)}`,!0))}D.setEvaluated=Un;var no={};function xc(t,e){return t.scopeValue("func",{ref:e,code:no[e.code]||(no[e.code]=new jc._Code(e.code))})}D.useFunc=xc;var uo;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(uo=D.Type||(D.Type={}));function zc(t,e,r){if(t instanceof G.Name){let n=e===uo.Num;return r?n?G._`"[" + ${t} + "]"`:G._`"[\'" + ${t} + "\']"`:n?G._`"/" + ${t}`:G._`"/" + ${t}.replace(/~/g, "~0").replace(/\\\\//g, "~1")`}return r?G.getProperty(t).toString():"/"+Vn(t)}D.getErrorPath=zc;function co(t,e,r=t.opts.strictSchema){if(!!r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}D.checkStrictMode=co});var Je=w(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});var oe=R(),Kc={data:new oe.Name("data"),valCxt:new oe.Name("valCxt"),instancePath:new oe.Name("instancePath"),parentData:new oe.Name("parentData"),parentDataProperty:new oe.Name("parentDataProperty"),rootData:new oe.Name("rootData"),dynamicAnchors:new oe.Name("dynamicAnchors"),vErrors:new oe.Name("vErrors"),errors:new oe.Name("errors"),this:new oe.Name("this"),self:new oe.Name("self"),scope:new oe.Name("scope"),json:new oe.Name("json"),jsonPos:new oe.Name("jsonPos"),jsonLen:new oe.Name("jsonLen"),jsonPart:new oe.Name("jsonPart")};Fn.default=Kc});var rr=w(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.extendErrors=ie.resetErrorsCount=ie.reportExtraError=ie.reportError=ie.keyword$DataError=ie.keywordError=void 0;var k=R(),jr=V(),ce=Je();ie.keywordError={message:({keyword:t})=>k.str`should pass "${t}" keyword validation`};ie.keyword$DataError={message:({keyword:t,schemaType:e})=>e?k.str`"${t}" keyword must be ${e} ($data)`:k.str`"${t}" keyword is invalid ($data)`};function Hc(t,e=ie.keywordError,r,n){let{it:s}=t,{gen:a,compositeRule:o,allErrors:u}=s,d=po(t,e,r);(n!=null?n:o||u)?lo(a,d):fo(s,k._`[${d}]`)}ie.reportError=Hc;function Gc(t,e=ie.keywordError,r){let{it:n}=t,{gen:s,compositeRule:a,allErrors:o}=n,u=po(t,e,r);lo(s,u),a||o||fo(n,ce.default.vErrors)}ie.reportExtraError=Gc;function Jc(t,e){t.assign(ce.default.errors,e),t.if(k._`${ce.default.vErrors} !== null`,()=>t.if(e,()=>t.assign(k._`${ce.default.vErrors}.length`,e),()=>t.assign(ce.default.vErrors,null)))}ie.resetErrorsCount=Jc;function Wc({gen:t,keyword:e,schemaValue:r,data:n,errsCount:s,it:a}){if(s===void 0)throw new Error("ajv implementation error");let o=t.name("err");t.forRange("i",s,ce.default.errors,u=>{t.const(o,k._`${ce.default.vErrors}[${u}]`),t.if(k._`${o}.instancePath === undefined`,()=>t.assign(k._`${o}.instancePath`,k.strConcat(ce.default.instancePath,a.errorPath))),t.assign(k._`${o}.schemaPath`,k.str`${a.errSchemaPath}/${e}`),a.opts.verbose&&(t.assign(k._`${o}.schema`,r),t.assign(k._`${o}.data`,n))})}ie.extendErrors=Wc;function lo(t,e){let r=t.const("err",e);t.if(k._`${ce.default.vErrors} === null`,()=>t.assign(ce.default.vErrors,k._`[${r}]`),k._`${ce.default.vErrors}.push(${r})`),t.code(k._`${ce.default.errors}++`)}function fo(t,e){let{gen:r,validateName:n,schemaEnv:s}=t;s.$async?r.throw(k._`new ${t.ValidationError}(${e})`):(r.assign(k._`${n}.errors`,e),r.return(!1))}var lt={keyword:new k.Name("keyword"),schemaPath:new k.Name("schemaPath"),params:new k.Name("params"),propertyName:new k.Name("propertyName"),message:new k.Name("message"),schema:new k.Name("schema"),parentSchema:new k.Name("parentSchema")};function po(t,e,r){let{createErrors:n}=t.it;return n===!1?k._`{}`:Bc(t,e,r)}function Bc(t,e,r={}){let{gen:n,it:s}=t,a=[Xc(s,r),Yc(t,r)];return Qc(t,e,a),n.object(...a)}function Xc({errorPath:t},{instancePath:e}){let r=e?k.str`${t}${jr.getErrorPath(e,jr.Type.Str)}`:t;return[ce.default.instancePath,k.strConcat(ce.default.instancePath,r)]}function Yc({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:n}){let s=n?e:k.str`${e}/${t}`;return r&&(s=k.str`${s}${jr.getErrorPath(r,jr.Type.Str)}`),[lt.schemaPath,s]}function Qc(t,{params:e,message:r},n){let{keyword:s,data:a,schemaValue:o,it:u}=t,{opts:d,propertyName:f,topSchemaRef:p,schemaPath:_}=u;n.push([lt.keyword,s],[lt.params,typeof e=="function"?e(t):e||k._`{}`]),d.messages&&n.push([lt.message,typeof r=="function"?r(t):r]),d.verbose&&n.push([lt.schema,o],[lt.parentSchema,k._`${p}${_}`],[ce.default.data,a]),f&&n.push([lt.propertyName,f])}});var mo=w(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.boolOrEmptySchema=Dt.topBoolOrEmptySchema=void 0;var Zc=rr(),el=R(),tl=Je(),rl={message:"boolean schema is false"};function nl(t){let{gen:e,schema:r,validateName:n}=t;r===!1?ho(t,!1):typeof r=="object"&&r.$async===!0?e.return(tl.default.data):(e.assign(el._`${n}.errors`,null),e.return(!0))}Dt.topBoolOrEmptySchema=nl;function sl(t,e){let{gen:r,schema:n}=t;n===!1?(r.var(e,!1),ho(t)):r.var(e,!0)}Dt.boolOrEmptySchema=sl;function ho(t,e){let{gen:r,data:n}=t,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};Zc.reportError(s,rl,void 0,e)}});var Ln=w(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.getRules=Rt.isJSONType=void 0;var al=["string","number","integer","boolean","null","object","array"],ol=new Set(al);function il(t){return typeof t=="string"&&ol.has(t)}Rt.isJSONType=il;function ul(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:ge(Y({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Rt.getRules=ul});var xn=w(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.shouldUseRule=Ye.shouldUseGroup=Ye.schemaHasRulesForType=void 0;function cl({schema:t,self:e},r){let n=e.RULES.types[r];return n&&n!==!0&&yo(t,n)}Ye.schemaHasRulesForType=cl;function yo(t,e){return e.rules.some(r=>_o(t,r))}Ye.shouldUseGroup=yo;function _o(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}Ye.shouldUseRule=_o});var sr=w(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.reportTypeError=ne.checkDataTypes=ne.checkDataType=ne.coerceAndCheckDataType=ne.getJSONTypes=ne.getSchemaTypes=ne.DataType=void 0;var ll=Ln(),dl=xn(),fl=rr(),O=R(),vo=V(),nr;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(nr=ne.DataType||(ne.DataType={}));function pl(t){let e=go(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error(\'"nullable" cannot be used without "type"\');t.nullable===!0&&e.push("null")}return e}ne.getSchemaTypes=pl;function go(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(ll.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}ne.getJSONTypes=go;function hl(t,e){let{gen:r,data:n,opts:s}=t,a=ml(e,s.coerceTypes),o=e.length>0&&!(a.length===0&&e.length===1&&dl.schemaHasRulesForType(t,e[0]));if(o){let u=Kn(e,n,s.strictNumbers,nr.Wrong);r.if(u,()=>{a.length?yl(t,e,a):Hn(t)})}return o}ne.coerceAndCheckDataType=hl;var $o=new Set(["string","number","integer","boolean","null"]);function ml(t,e){return e?t.filter(r=>$o.has(r)||e==="array"&&r==="array"):[]}function yl(t,e,r){let{gen:n,data:s,opts:a}=t,o=n.let("dataType",O._`typeof ${s}`),u=n.let("coerced",O._`undefined`);a.coerceTypes==="array"&&n.if(O._`${o} == \'object\' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,O._`${s}[0]`).assign(o,O._`typeof ${s}`).if(Kn(e,s,a.strictNumbers),()=>n.assign(u,s))),n.if(O._`${u} !== undefined`);for(let f of r)($o.has(f)||f==="array"&&a.coerceTypes==="array")&&d(f);n.else(),Hn(t),n.endIf(),n.if(O._`${u} !== undefined`,()=>{n.assign(s,u),_l(t,u)});function d(f){switch(f){case"string":n.elseIf(O._`${o} == "number" || ${o} == "boolean"`).assign(u,O._`"" + ${s}`).elseIf(O._`${s} === null`).assign(u,O._`""`);return;case"number":n.elseIf(O._`${o} == "boolean" || ${s} === null\n              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(u,O._`+${s}`);return;case"integer":n.elseIf(O._`${o} === "boolean" || ${s} === null\n              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(u,O._`+${s}`);return;case"boolean":n.elseIf(O._`${s} === "false" || ${s} === 0 || ${s} === null`).assign(u,!1).elseIf(O._`${s} === "true" || ${s} === 1`).assign(u,!0);return;case"null":n.elseIf(O._`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(u,null);return;case"array":n.elseIf(O._`${o} === "string" || ${o} === "number"\n              || ${o} === "boolean" || ${s} === null`).assign(u,O._`[${s}]`)}}}function _l({gen:t,parentData:e,parentDataProperty:r},n){t.if(O._`${e} !== undefined`,()=>t.assign(O._`${e}[${r}]`,n))}function zn(t,e,r,n=nr.Correct){let s=n===nr.Correct?O.operators.EQ:O.operators.NEQ,a;switch(t){case"null":return O._`${e} ${s} null`;case"array":a=O._`Array.isArray(${e})`;break;case"object":a=O._`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":a=o(O._`!(${e} % 1) && !isNaN(${e})`);break;case"number":a=o();break;default:return O._`typeof ${e} ${s} ${t}`}return n===nr.Correct?a:O.not(a);function o(u=O.nil){return O.and(O._`typeof ${e} == "number"`,u,r?O._`isFinite(${e})`:O.nil)}}ne.checkDataType=zn;function Kn(t,e,r,n){if(t.length===1)return zn(t[0],e,r,n);let s,a=vo.toHash(t);if(a.array&&a.object){let o=O._`typeof ${e} != "object"`;s=a.null?o:O._`!${e} || ${o}`,delete a.null,delete a.array,delete a.object}else s=O.nil;a.number&&delete a.integer;for(let o in a)s=O.and(s,zn(o,e,r,n));return s}ne.checkDataTypes=Kn;var vl={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?O._`{type: ${t}}`:O._`{type: ${e}}`};function Hn(t){let e=gl(t);fl.reportError(e,vl)}ne.reportTypeError=Hn;function gl(t){let{gen:e,data:r,schema:n}=t,s=vo.schemaRefOrVal(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:t}}});var wo=w(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.assignDefaults=void 0;var At=R(),$l=V();function El(t,e){let{properties:r,items:n}=t.schema;if(e==="object"&&r)for(let s in r)Eo(t,s,r[s].default);else e==="array"&&Array.isArray(n)&&n.forEach((s,a)=>Eo(t,a,s.default))}kr.assignDefaults=El;function Eo(t,e,r){let{gen:n,compositeRule:s,data:a,opts:o}=t;if(r===void 0)return;let u=At._`${a}${At.getProperty(e)}`;if(s){$l.checkStrictMode(t,`default is ignored for: ${u}`);return}let d=At._`${u} === undefined`;o.useDefaults==="empty"&&(d=At._`${d} || ${u} === null || ${u} === ""`),n.if(d,At._`${u} = ${At.stringify(r)}`)}});var Ee=w(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.validateUnion=x.validateArray=x.usePattern=x.callValidateCode=x.schemaProperties=x.allSchemaProperties=x.noPropertyInData=x.propertyInData=x.isOwnProperty=x.hasPropFunc=x.reportMissingProp=x.checkMissingProp=x.checkReportMissingProp=void 0;var W=R(),Gn=V(),Qe=Je();function wl(t,e){let{gen:r,data:n,it:s}=t;r.if(Wn(r,n,e,s.opts.ownProperties),()=>{t.setParams({missingProperty:W._`${e}`},!0),t.error()})}x.checkReportMissingProp=wl;function Sl({gen:t,data:e,it:{opts:r}},n,s){return W.or(...n.map(a=>W.and(Wn(t,e,a,r.ownProperties),W._`${s} = ${a}`)))}x.checkMissingProp=Sl;function bl(t,e){t.setParams({missingProperty:e},!0),t.error()}x.reportMissingProp=bl;function So(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:W._`Object.prototype.hasOwnProperty`})}x.hasPropFunc=So;function Jn(t,e,r){return W._`${So(t)}.call(${e}, ${r})`}x.isOwnProperty=Jn;function Pl(t,e,r,n){let s=W._`${e}${W.getProperty(r)} !== undefined`;return n?W._`${s} && ${Jn(t,e,r)}`:s}x.propertyInData=Pl;function Wn(t,e,r,n){let s=W._`${e}${W.getProperty(r)} === undefined`;return n?W.or(s,W.not(Jn(t,e,r))):s}x.noPropertyInData=Wn;function bo(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}x.allSchemaProperties=bo;function Nl(t,e){return bo(e).filter(r=>!Gn.alwaysValidSchema(t,e[r]))}x.schemaProperties=Nl;function Ol({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:o},u,d,f){let p=f?W._`${t}, ${e}, ${n}${s}`:e,_=[[Qe.default.instancePath,W.strConcat(Qe.default.instancePath,a)],[Qe.default.parentData,o.parentData],[Qe.default.parentDataProperty,o.parentDataProperty],[Qe.default.rootData,Qe.default.rootData]];o.opts.dynamicRef&&_.push([Qe.default.dynamicAnchors,Qe.default.dynamicAnchors]);let $=W._`${p}, ${r.object(..._)}`;return d!==W.nil?W._`${u}.call(${d}, ${$})`:W._`${u}(${$})`}x.callValidateCode=Ol;function Tl({gen:t,it:{opts:e}},r){let n=e.unicodeRegExp?"u":"";return t.scopeValue("pattern",{key:r,ref:new RegExp(r,n),code:W._`new RegExp(${r}, ${n})`})}x.usePattern=Tl;function Il(t){let{gen:e,data:r,keyword:n,it:s}=t,a=e.name("valid");if(s.allErrors){let u=e.let("valid",!0);return o(()=>e.assign(u,!1)),u}return e.var(a,!0),o(()=>e.break()),a;function o(u){let d=e.const("len",W._`${r}.length`);e.forRange("i",0,d,f=>{t.subschema({keyword:n,dataProp:f,dataPropType:Gn.Type.Num},a),e.if(W.not(a),u)})}}x.validateArray=Il;function Cl(t){let{gen:e,schema:r,keyword:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(d=>Gn.alwaysValidSchema(s,d))&&!s.opts.unevaluated)return;let o=e.let("valid",!1),u=e.name("_valid");e.block(()=>r.forEach((d,f)=>{let p=t.subschema({keyword:n,schemaProp:f,compositeRule:!0},u);e.assign(o,W._`${o} || ${u}`),t.mergeValidEvaluated(p,u)||e.if(W.not(o))})),t.result(o,()=>t.reset(),()=>t.error(!0))}x.validateUnion=Cl});var Oo=w(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.validateKeywordUsage=qe.validSchemaType=qe.funcKeywordCode=qe.macroKeywordCode=void 0;var le=R(),dt=Je(),Dl=Ee(),Rl=rr();function Al(t,e){let{gen:r,keyword:n,schema:s,parentSchema:a,it:o}=t,u=e.macro.call(o.self,s,a,o),d=No(r,n,u);o.opts.validateSchema!==!1&&o.self.validateSchema(u,!0);let f=r.name("valid");t.subschema({schema:u,schemaPath:le.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:d,compositeRule:!0},f),t.pass(f,()=>t.error(!0))}qe.macroKeywordCode=Al;function jl(t,e){var r;let{gen:n,keyword:s,schema:a,parentSchema:o,$data:u,it:d}=t;ql(d,e);let f=!u&&e.compile?e.compile.call(d.self,a,o,d):e.validate,p=No(n,s,f),_=n.let("valid");t.block$data(_,$),t.ok((r=e.valid)!==null&&r!==void 0?r:_);function $(){if(e.errors===!1)E(),e.modifying&&Po(t),S(()=>t.error());else{let g=e.async?v():y();e.modifying&&Po(t),S(()=>kl(t,g))}}function v(){let g=n.let("ruleErrs",null);return n.try(()=>E(le._`await `),T=>n.assign(_,!1).if(le._`${T} instanceof ${d.ValidationError}`,()=>n.assign(g,le._`${T}.errors`),()=>n.throw(T))),g}function y(){let g=le._`${p}.errors`;return n.assign(g,null),E(le.nil),g}function E(g=e.async?le._`await `:le.nil){let T=d.opts.passContext?dt.default.this:dt.default.self,re=!("compile"in e&&!u||e.schema===!1);n.assign(_,le._`${g}${Dl.callValidateCode(t,p,T,re)}`,e.modifying)}function S(g){var T;n.if(le.not((T=e.valid)!==null&&T!==void 0?T:_),g)}}qe.funcKeywordCode=jl;function Po(t){let{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,le._`${n.parentData}[${n.parentDataProperty}]`))}function kl(t,e){let{gen:r}=t;r.if(le._`Array.isArray(${e})`,()=>{r.assign(dt.default.vErrors,le._`${dt.default.vErrors} === null ? ${e} : ${dt.default.vErrors}.concat(${e})`).assign(dt.default.errors,le._`${dt.default.vErrors}.length`),Rl.extendErrors(t)},()=>t.error())}function ql({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function No(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:le.stringify(r)})}function Ml(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t=="undefined")}qe.validSchemaType=Ml;function Vl({schema:t,opts:e,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");let o=s.dependencies;if(o!=null&&o.some(u=>!Object.prototype.hasOwnProperty.call(t,u)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(t[a])){let d=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(d);else throw new Error(d)}}qe.validateKeywordUsage=Vl});var Io=w(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.extendSubschemaMode=Ze.extendSubschemaData=Ze.getSubschema=void 0;var Me=R(),To=V();function Ul(t,{keyword:e,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:o}){if(e!==void 0&&n!==void 0)throw new Error(\'both "keyword" and "schema" passed, only one allowed\');if(e!==void 0){let u=t.schema[e];return r===void 0?{schema:u,schemaPath:Me._`${t.schemaPath}${Me.getProperty(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:u[r],schemaPath:Me._`${t.schemaPath}${Me.getProperty(e)}${Me.getProperty(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${To.escapeFragment(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||o===void 0)throw new Error(\'"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"\');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:a}}throw new Error(\'either "keyword" or "schema" must be passed\')}Ze.getSubschema=Ul;function Fl(t,e,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error(\'both "data" and "dataProp" passed, only one allowed\');let{gen:u}=e;if(r!==void 0){let{errorPath:f,dataPathArr:p,opts:_}=e,$=u.let("data",Me._`${e.data}${Me.getProperty(r)}`,!0);d($),t.errorPath=Me.str`${f}${To.getErrorPath(r,n,_.jsPropertySyntax)}`,t.parentDataProperty=Me._`${r}`,t.dataPathArr=[...p,t.parentDataProperty]}if(s!==void 0){let f=s instanceof Me.Name?s:u.let("data",s,!0);d(f),o!==void 0&&(t.propertyName=o)}a&&(t.dataTypes=a);function d(f){t.data=f,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,f]}}Ze.extendSubschemaData=Fl;function Ll(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(t.compositeRule=n),s!==void 0&&(t.createErrors=s),a!==void 0&&(t.allErrors=a),t.jtdDiscriminator=e,t.jtdMetadata=r}Ze.extendSubschemaMode=Ll});var Bn=w((Yh,Co)=>{"use strict";Co.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var o=a[s];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}});var Ro=w((Qh,Do)=>{"use strict";var et=Do.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};qr(e,n,s,t,"",t)};et.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};et.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};et.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};et.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function qr(t,e,r,n,s,a,o,u,d,f){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,a,o,u,d,f);for(var p in n){var _=n[p];if(Array.isArray(_)){if(p in et.arrayKeywords)for(var $=0;$<_.length;$++)qr(t,e,r,_[$],s+"/"+p+"/"+$,a,s,p,n,$)}else if(p in et.propsKeywords){if(_&&typeof _=="object")for(var v in _)qr(t,e,r,_[v],s+"/"+p+"/"+xl(v),a,s,p,n,v)}else(p in et.keywords||t.allKeys&&!(p in et.skipKeywords))&&qr(t,e,r,_,s+"/"+p,a,s,p,n)}r(n,s,a,o,u,d,f)}}function xl(t){return t.replace(/~/g,"~0").replace(/\\//g,"~1")}});var Xn=w((Mr,Ao)=>{(function(t,e){typeof Mr=="object"&&typeof Ao!="undefined"?e(Mr):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(Mr,function(t){"use strict";function e(){for(var c=arguments.length,i=Array(c),l=0;l<c;l++)i[l]=arguments[l];if(i.length>1){i[0]=i[0].slice(0,-1);for(var m=i.length-1,h=1;h<m;++h)i[h]=i[h].slice(1,-1);return i[m]=i[m].slice(1),i.join("")}else return i[0]}function r(c){return"(?:"+c+")"}function n(c){return c===void 0?"undefined":c===null?"null":Object.prototype.toString.call(c).split(" ").pop().split("]").shift().toLowerCase()}function s(c){return c.toUpperCase()}function a(c){return c!=null?c instanceof Array?c:typeof c.length!="number"||c.split||c.setInterval||c.call?[c]:Array.prototype.slice.call(c):[]}function o(c,i){var l=c;if(i)for(var m in i)l[m]=i[m];return l}function u(c){var i="[A-Za-z]",l="[\\\\x0D]",m="[0-9]",h="[\\\\x22]",b=e(m,"[A-Fa-f]"),I="[\\\\x0A]",q="[\\\\x20]",U=r(r("%[EFef]"+b+"%"+b+b+"%"+b+b)+"|"+r("%[89A-Fa-f]"+b+"%"+b+b)+"|"+r("%"+b+b)),Z="[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]",j="[\\\\!\\\\$\\\\&\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]",B=e(Z,j),ee=c?"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]":"[]",J=c?"[\\\\uE000-\\\\uF8FF]":"[]",M=e(i,m,"[\\\\-\\\\.\\\\_\\\\~]",ee),X=r(i+e(i,m,"[\\\\+\\\\-\\\\.]")+"*"),L=r(r(U+"|"+e(M,j,"[\\\\:]"))+"*"),st=r(r("25[0-5]")+"|"+r("2[0-4]"+m)+"|"+r("1"+m+m)+"|"+r("[1-9]"+m)+"|"+m),me=r(r("25[0-5]")+"|"+r("2[0-4]"+m)+"|"+r("1"+m+m)+"|"+r("0?[1-9]"+m)+"|0?0?"+m),_e=r(me+"\\\\."+me+"\\\\."+me+"\\\\."+me),H=r(b+"{1,4}"),ye=r(r(H+"\\\\:"+H)+"|"+_e),ve=r(r(H+"\\\\:")+"{6}"+ye),ke=r("\\\\:\\\\:"+r(H+"\\\\:")+"{5}"+ye),at=r(r(H)+"?\\\\:\\\\:"+r(H+"\\\\:")+"{4}"+ye),Le=r(r(r(H+"\\\\:")+"{0,1}"+H)+"?\\\\:\\\\:"+r(H+"\\\\:")+"{3}"+ye),xt=r(r(r(H+"\\\\:")+"{0,2}"+H)+"?\\\\:\\\\:"+r(H+"\\\\:")+"{2}"+ye),Sr=r(r(r(H+"\\\\:")+"{0,3}"+H)+"?\\\\:\\\\:"+H+"\\\\:"+ye),br=r(r(r(H+"\\\\:")+"{0,4}"+H)+"?\\\\:\\\\:"+ye),$t=r(r(r(H+"\\\\:")+"{0,5}"+H)+"?\\\\:\\\\:"+H),Et=r(r(r(H+"\\\\:")+"{0,6}"+H)+"?\\\\:\\\\:"),xe=r([ve,ke,at,Le,xt,Sr,br,$t,Et].join("|")),wt=r(r(M+"|"+U)+"+"),fn=r(xe+"\\\\%25"+wt),ot=r(xe+r("\\\\%25|\\\\%(?!"+b+"{2})")+wt),Lu=r("[vV]"+b+"+\\\\."+e(M,j,"[\\\\:]")+"+"),xu=r("\\\\["+r(ot+"|"+xe+"|"+Lu)+"\\\\]"),ga=r(r(U+"|"+e(M,j))+"*"),zt=r(xu+"|"+_e+"(?!"+ga+")|"+ga),Kt=r(m+"*"),$a=r(r(L+"@")+"?"+zt+r("\\\\:"+Kt)+"?"),Ht=r(U+"|"+e(M,j,"[\\\\:\\\\@]")),zu=r(Ht+"*"),Ea=r(Ht+"+"),Ku=r(r(U+"|"+e(M,j,"[\\\\@]"))+"+"),ze=r(r("\\\\/"+zu)+"*"),St=r("\\\\/"+r(Ea+ze)+"?"),pn=r(Ku+ze),Pr=r(Ea+ze),bt="(?!"+Ht+")",fh=r(ze+"|"+St+"|"+pn+"|"+Pr+"|"+bt),Pt=r(r(Ht+"|"+e("[\\\\/\\\\?]",J))+"*"),Gt=r(r(Ht+"|[\\\\/\\\\?]")+"*"),wa=r(r("\\\\/\\\\/"+$a+ze)+"|"+St+"|"+Pr+"|"+bt),Hu=r(X+"\\\\:"+wa+r("\\\\?"+Pt)+"?"+r("\\\\#"+Gt)+"?"),Gu=r(r("\\\\/\\\\/"+$a+ze)+"|"+St+"|"+pn+"|"+bt),Ju=r(Gu+r("\\\\?"+Pt)+"?"+r("\\\\#"+Gt)+"?"),ph=r(Hu+"|"+Ju),hh=r(X+"\\\\:"+wa+r("\\\\?"+Pt)+"?"),mh="^("+X+")\\\\:"+r(r("\\\\/\\\\/("+r("("+L+")@")+"?("+zt+")"+r("\\\\:("+Kt+")")+"?)")+"?("+ze+"|"+St+"|"+Pr+"|"+bt+")")+r("\\\\?("+Pt+")")+"?"+r("\\\\#("+Gt+")")+"?$",yh="^(){0}"+r(r("\\\\/\\\\/("+r("("+L+")@")+"?("+zt+")"+r("\\\\:("+Kt+")")+"?)")+"?("+ze+"|"+St+"|"+pn+"|"+bt+")")+r("\\\\?("+Pt+")")+"?"+r("\\\\#("+Gt+")")+"?$",_h="^("+X+")\\\\:"+r(r("\\\\/\\\\/("+r("("+L+")@")+"?("+zt+")"+r("\\\\:("+Kt+")")+"?)")+"?("+ze+"|"+St+"|"+Pr+"|"+bt+")")+r("\\\\?("+Pt+")")+"?$",vh="^"+r("\\\\#("+Gt+")")+"?$",gh="^"+r("("+L+")@")+"?("+zt+")"+r("\\\\:("+Kt+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",i,m,"[\\\\+\\\\-\\\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\\\%\\\\:]",M,j),"g"),NOT_HOST:new RegExp(e("[^\\\\%\\\\[\\\\]\\\\:]",M,j),"g"),NOT_PATH:new RegExp(e("[^\\\\%\\\\/\\\\:\\\\@]",M,j),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\\\%\\\\/\\\\@]",M,j),"g"),NOT_QUERY:new RegExp(e("[^\\\\%]",M,j,"[\\\\:\\\\@\\\\/\\\\?]",J),"g"),NOT_FRAGMENT:new RegExp(e("[^\\\\%]",M,j,"[\\\\:\\\\@\\\\/\\\\?]"),"g"),ESCAPE:new RegExp(e("[^]",M,j),"g"),UNRESERVED:new RegExp(M,"g"),OTHER_CHARS:new RegExp(e("[^\\\\%]",M,B),"g"),PCT_ENCODED:new RegExp(U,"g"),IPV4ADDRESS:new RegExp("^("+_e+")$"),IPV6ADDRESS:new RegExp("^\\\\[?("+xe+")"+r(r("\\\\%25|\\\\%(?!"+b+"{2})")+"("+wt+")")+"?\\\\]?$")}}var d=u(!1),f=u(!0),p=function(){function c(i,l){var m=[],h=!0,b=!1,I=void 0;try{for(var q=i[Symbol.iterator](),U;!(h=(U=q.next()).done)&&(m.push(U.value),!(l&&m.length===l));h=!0);}catch(Z){b=!0,I=Z}finally{try{!h&&q.return&&q.return()}finally{if(b)throw I}}return m}return function(i,l){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return c(i,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(c){if(Array.isArray(c)){for(var i=0,l=Array(c.length);i<c.length;i++)l[i]=c[i];return l}else return Array.from(c)},$=2147483647,v=36,y=1,E=26,S=38,g=700,T=72,re=128,z="-",K=/^xn--/,de=/[^\\0-\\x7E]/,Be=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,wr={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},an=v-y,Ce=Math.floor,on=String.fromCharCode;function nt(c){throw new RangeError(wr[c])}function yu(c,i){for(var l=[],m=c.length;m--;)l[m]=i(c[m]);return l}function ra(c,i){var l=c.split("@"),m="";l.length>1&&(m=l[0]+"@",c=l[1]),c=c.replace(Be,".");var h=c.split("."),b=yu(h,i).join(".");return m+b}function na(c){for(var i=[],l=0,m=c.length;l<m;){var h=c.charCodeAt(l++);if(h>=55296&&h<=56319&&l<m){var b=c.charCodeAt(l++);(b&64512)==56320?i.push(((h&1023)<<10)+(b&1023)+65536):(i.push(h),l--)}else i.push(h)}return i}var _u=function(i){return String.fromCodePoint.apply(String,_(i))},vu=function(i){return i-48<10?i-22:i-65<26?i-65:i-97<26?i-97:v},sa=function(i,l){return i+22+75*(i<26)-((l!=0)<<5)},aa=function(i,l,m){var h=0;for(i=m?Ce(i/g):i>>1,i+=Ce(i/l);i>an*E>>1;h+=v)i=Ce(i/an);return Ce(h+(an+1)*i/(i+S))},oa=function(i){var l=[],m=i.length,h=0,b=re,I=T,q=i.lastIndexOf(z);q<0&&(q=0);for(var U=0;U<q;++U)i.charCodeAt(U)>=128&&nt("not-basic"),l.push(i.charCodeAt(U));for(var Z=q>0?q+1:0;Z<m;){for(var j=h,B=1,ee=v;;ee+=v){Z>=m&&nt("invalid-input");var J=vu(i.charCodeAt(Z++));(J>=v||J>Ce(($-h)/B))&&nt("overflow"),h+=J*B;var M=ee<=I?y:ee>=I+E?E:ee-I;if(J<M)break;var X=v-M;B>Ce($/X)&&nt("overflow"),B*=X}var L=l.length+1;I=aa(h-j,L,j==0),Ce(h/L)>$-b&&nt("overflow"),b+=Ce(h/L),h%=L,l.splice(h++,0,b)}return String.fromCodePoint.apply(String,l)},ia=function(i){var l=[];i=na(i);var m=i.length,h=re,b=0,I=T,q=!0,U=!1,Z=void 0;try{for(var j=i[Symbol.iterator](),B;!(q=(B=j.next()).done);q=!0){var ee=B.value;ee<128&&l.push(on(ee))}}catch(ot){U=!0,Z=ot}finally{try{!q&&j.return&&j.return()}finally{if(U)throw Z}}var J=l.length,M=J;for(J&&l.push(z);M<m;){var X=$,L=!0,st=!1,me=void 0;try{for(var _e=i[Symbol.iterator](),H;!(L=(H=_e.next()).done);L=!0){var ye=H.value;ye>=h&&ye<X&&(X=ye)}}catch(ot){st=!0,me=ot}finally{try{!L&&_e.return&&_e.return()}finally{if(st)throw me}}var ve=M+1;X-h>Ce(($-b)/ve)&&nt("overflow"),b+=(X-h)*ve,h=X;var ke=!0,at=!1,Le=void 0;try{for(var xt=i[Symbol.iterator](),Sr;!(ke=(Sr=xt.next()).done);ke=!0){var br=Sr.value;if(br<h&&++b>$&&nt("overflow"),br==h){for(var $t=b,Et=v;;Et+=v){var xe=Et<=I?y:Et>=I+E?E:Et-I;if($t<xe)break;var wt=$t-xe,fn=v-xe;l.push(on(sa(xe+wt%fn,0))),$t=Ce(wt/fn)}l.push(on(sa($t,0))),I=aa(b,ve,M==J),b=0,++M}}}catch(ot){at=!0,Le=ot}finally{try{!ke&&xt.return&&xt.return()}finally{if(at)throw Le}}++b,++h}return l.join("")},gu=function(i){return ra(i,function(l){return K.test(l)?oa(l.slice(4).toLowerCase()):l})},$u=function(i){return ra(i,function(l){return de.test(l)?"xn--"+ia(l):l})},yt={version:"2.1.0",ucs2:{decode:na,encode:_u},decode:oa,encode:ia,toASCII:$u,toUnicode:gu},De={};function Re(c){var i=c.charCodeAt(0),l=void 0;return i<16?l="%0"+i.toString(16).toUpperCase():i<128?l="%"+i.toString(16).toUpperCase():i<2048?l="%"+(i>>6|192).toString(16).toUpperCase()+"%"+(i&63|128).toString(16).toUpperCase():l="%"+(i>>12|224).toString(16).toUpperCase()+"%"+(i>>6&63|128).toString(16).toUpperCase()+"%"+(i&63|128).toString(16).toUpperCase(),l}function _t(c){for(var i="",l=0,m=c.length;l<m;){var h=parseInt(c.substr(l+1,2),16);if(h<128)i+=String.fromCharCode(h),l+=3;else if(h>=194&&h<224){if(m-l>=6){var b=parseInt(c.substr(l+4,2),16);i+=String.fromCharCode((h&31)<<6|b&63)}else i+=c.substr(l,6);l+=6}else if(h>=224){if(m-l>=9){var I=parseInt(c.substr(l+4,2),16),q=parseInt(c.substr(l+7,2),16);i+=String.fromCharCode((h&15)<<12|(I&63)<<6|q&63)}else i+=c.substr(l,9);l+=9}else i+=c.substr(l,3),l+=3}return i}function un(c,i){function l(m){var h=_t(m);return h.match(i.UNRESERVED)?h:m}return c.scheme&&(c.scheme=String(c.scheme).replace(i.PCT_ENCODED,l).toLowerCase().replace(i.NOT_SCHEME,"")),c.userinfo!==void 0&&(c.userinfo=String(c.userinfo).replace(i.PCT_ENCODED,l).replace(i.NOT_USERINFO,Re).replace(i.PCT_ENCODED,s)),c.host!==void 0&&(c.host=String(c.host).replace(i.PCT_ENCODED,l).toLowerCase().replace(i.NOT_HOST,Re).replace(i.PCT_ENCODED,s)),c.path!==void 0&&(c.path=String(c.path).replace(i.PCT_ENCODED,l).replace(c.scheme?i.NOT_PATH:i.NOT_PATH_NOSCHEME,Re).replace(i.PCT_ENCODED,s)),c.query!==void 0&&(c.query=String(c.query).replace(i.PCT_ENCODED,l).replace(i.NOT_QUERY,Re).replace(i.PCT_ENCODED,s)),c.fragment!==void 0&&(c.fragment=String(c.fragment).replace(i.PCT_ENCODED,l).replace(i.NOT_FRAGMENT,Re).replace(i.PCT_ENCODED,s)),c}function cn(c){return c.replace(/^0*(.*)/,"$1")||"0"}function ln(c,i){var l=c.match(i.IPV4ADDRESS)||[],m=p(l,2),h=m[1];return h?h.split(".").map(cn).join("."):c}function ua(c,i){var l=c.match(i.IPV6ADDRESS)||[],m=p(l,3),h=m[1],b=m[2];if(h){for(var I=h.toLowerCase().split("::").reverse(),q=p(I,2),U=q[0],Z=q[1],j=Z?Z.split(":").map(cn):[],B=U.split(":").map(cn),ee=i.IPV4ADDRESS.test(B[B.length-1]),J=ee?7:8,M=B.length-J,X=Array(J),L=0;L<J;++L)X[L]=j[L]||B[M+L]||"";ee&&(X[J-1]=ln(X[J-1],i));var st=X.reduce(function(ve,ke,at){if(!ke||ke==="0"){var Le=ve[ve.length-1];Le&&Le.index+Le.length===at?Le.length++:ve.push({index:at,length:1})}return ve},[]),me=st.sort(function(ve,ke){return ke.length-ve.length})[0],_e=void 0;if(me&&me.length>1){var H=X.slice(0,me.index),ye=X.slice(me.index+me.length);_e=H.join(":")+"::"+ye.join(":")}else _e=X.join(":");return b&&(_e+="%"+b),_e}else return c}var Eu=/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i,wu="".match(/(){0}/)[1]===void 0;function Ue(c){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l={},m=i.iri!==!1?f:d;i.reference==="suffix"&&(c=(i.scheme?i.scheme+":":"")+"//"+c);var h=c.match(Eu);if(h){wu?(l.scheme=h[1],l.userinfo=h[3],l.host=h[4],l.port=parseInt(h[5],10),l.path=h[6]||"",l.query=h[7],l.fragment=h[8],isNaN(l.port)&&(l.port=h[5])):(l.scheme=h[1]||void 0,l.userinfo=c.indexOf("@")!==-1?h[3]:void 0,l.host=c.indexOf("//")!==-1?h[4]:void 0,l.port=parseInt(h[5],10),l.path=h[6]||"",l.query=c.indexOf("?")!==-1?h[7]:void 0,l.fragment=c.indexOf("#")!==-1?h[8]:void 0,isNaN(l.port)&&(l.port=c.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/)?h[4]:void 0)),l.host&&(l.host=ua(ln(l.host,m),m)),l.scheme===void 0&&l.userinfo===void 0&&l.host===void 0&&l.port===void 0&&!l.path&&l.query===void 0?l.reference="same-document":l.scheme===void 0?l.reference="relative":l.fragment===void 0?l.reference="absolute":l.reference="uri",i.reference&&i.reference!=="suffix"&&i.reference!==l.reference&&(l.error=l.error||"URI is not a "+i.reference+" reference.");var b=De[(i.scheme||l.scheme||"").toLowerCase()];if(!i.unicodeSupport&&(!b||!b.unicodeSupport)){if(l.host&&(i.domainHost||b&&b.domainHost))try{l.host=yt.toASCII(l.host.replace(m.PCT_ENCODED,_t).toLowerCase())}catch(I){l.error=l.error||"Host\'s domain name can not be converted to ASCII via punycode: "+I}un(l,d)}else un(l,m);b&&b.parse&&b.parse(l,i)}else l.error=l.error||"URI can not be parsed.";return l}function Su(c,i){var l=i.iri!==!1?f:d,m=[];return c.userinfo!==void 0&&(m.push(c.userinfo),m.push("@")),c.host!==void 0&&m.push(ua(ln(String(c.host),l),l).replace(l.IPV6ADDRESS,function(h,b,I){return"["+b+(I?"%25"+I:"")+"]"})),typeof c.port=="number"&&(m.push(":"),m.push(c.port.toString(10))),m.length?m.join(""):void 0}var ca=/^\\.\\.?\\//,la=/^\\/\\.(\\/|$)/,da=/^\\/\\.\\.(\\/|$)/,bu=/^\\/?(?:.|\\n)*?(?=\\/|$)/;function vt(c){for(var i=[];c.length;)if(c.match(ca))c=c.replace(ca,"");else if(c.match(la))c=c.replace(la,"/");else if(c.match(da))c=c.replace(da,"/"),i.pop();else if(c==="."||c==="..")c="";else{var l=c.match(bu);if(l){var m=l[0];c=c.slice(m.length),i.push(m)}else throw new Error("Unexpected dot segment condition")}return i.join("")}function Ae(c){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.iri?f:d,m=[],h=De[(i.scheme||c.scheme||"").toLowerCase()];if(h&&h.serialize&&h.serialize(c,i),c.host&&!l.IPV6ADDRESS.test(c.host)){if(i.domainHost||h&&h.domainHost)try{c.host=i.iri?yt.toUnicode(c.host):yt.toASCII(c.host.replace(l.PCT_ENCODED,_t).toLowerCase())}catch(q){c.error=c.error||"Host\'s domain name can not be converted to "+(i.iri?"Unicode":"ASCII")+" via punycode: "+q}}un(c,l),i.reference!=="suffix"&&c.scheme&&(m.push(c.scheme),m.push(":"));var b=Su(c,i);if(b!==void 0&&(i.reference!=="suffix"&&m.push("//"),m.push(b),c.path&&c.path.charAt(0)!=="/"&&m.push("/")),c.path!==void 0){var I=c.path;!i.absolutePath&&(!h||!h.absolutePath)&&(I=vt(I)),b===void 0&&(I=I.replace(/^\\/\\//,"/%2F")),m.push(I)}return c.query!==void 0&&(m.push("?"),m.push(c.query)),c.fragment!==void 0&&(m.push("#"),m.push(c.fragment)),m.join("")}function fa(c,i){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=arguments[3],h={};return m||(c=Ue(Ae(c,l),l),i=Ue(Ae(i,l),l)),l=l||{},!l.tolerant&&i.scheme?(h.scheme=i.scheme,h.userinfo=i.userinfo,h.host=i.host,h.port=i.port,h.path=vt(i.path||""),h.query=i.query):(i.userinfo!==void 0||i.host!==void 0||i.port!==void 0?(h.userinfo=i.userinfo,h.host=i.host,h.port=i.port,h.path=vt(i.path||""),h.query=i.query):(i.path?(i.path.charAt(0)==="/"?h.path=vt(i.path):((c.userinfo!==void 0||c.host!==void 0||c.port!==void 0)&&!c.path?h.path="/"+i.path:c.path?h.path=c.path.slice(0,c.path.lastIndexOf("/")+1)+i.path:h.path=i.path,h.path=vt(h.path)),h.query=i.query):(h.path=c.path,i.query!==void 0?h.query=i.query:h.query=c.query),h.userinfo=c.userinfo,h.host=c.host,h.port=c.port),h.scheme=c.scheme),h.fragment=i.fragment,h}function Pu(c,i,l){var m=o({scheme:"null"},l);return Ae(fa(Ue(c,m),Ue(i,m),m,!0),m)}function Nu(c,i){return typeof c=="string"?c=Ae(Ue(c,i),i):n(c)==="object"&&(c=Ue(Ae(c,i),i)),c}function Ou(c,i,l){return typeof c=="string"?c=Ae(Ue(c,l),l):n(c)==="object"&&(c=Ae(c,l)),typeof i=="string"?i=Ae(Ue(i,l),l):n(i)==="object"&&(i=Ae(i,l)),c===i}function Tu(c,i){return c&&c.toString().replace(!i||!i.iri?d.ESCAPE:f.ESCAPE,Re)}function Fe(c,i){return c&&c.toString().replace(!i||!i.iri?d.PCT_ENCODED:f.PCT_ENCODED,_t)}var Lt={scheme:"http",domainHost:!0,parse:function(i,l){return i.host||(i.error=i.error||"HTTP URIs must have a host."),i},serialize:function(i,l){return(i.port===(String(i.scheme).toLowerCase()!=="https"?80:443)||i.port==="")&&(i.port=void 0),i.path||(i.path="/"),i}},pa={scheme:"https",domainHost:Lt.domainHost,parse:Lt.parse,serialize:Lt.serialize},Iu={},Cu=!0,ha="[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~"+(Cu?"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF":"")+"]",je="[0-9A-Fa-f]",Du=r(r("%[EFef]"+je+"%"+je+je+"%"+je+je)+"|"+r("%[89A-Fa-f]"+je+"%"+je+je)+"|"+r("%"+je+je)),Ru="[A-Za-z0-9\\\\!\\\\$\\\\%\\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]",Au="[\\\\!\\\\$\\\\%\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]",ju=e(Au,\'[\\\\"\\\\\\\\]\'),ku="[\\\\!\\\\$\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]",qu=new RegExp(ha,"g"),gt=new RegExp(Du,"g"),Mu=new RegExp(e("[^]",Ru,"[\\\\.]",\'[\\\\"]\',ju),"g"),ma=new RegExp(e("[^]",ha,ku),"g"),Vu=ma;function dn(c){var i=_t(c);return i.match(qu)?i:c}var ya={scheme:"mailto",parse:function(i,l){var m=i,h=m.to=m.path?m.path.split(","):[];if(m.path=void 0,m.query){for(var b=!1,I={},q=m.query.split("&"),U=0,Z=q.length;U<Z;++U){var j=q[U].split("=");switch(j[0]){case"to":for(var B=j[1].split(","),ee=0,J=B.length;ee<J;++ee)h.push(B[ee]);break;case"subject":m.subject=Fe(j[1],l);break;case"body":m.body=Fe(j[1],l);break;default:b=!0,I[Fe(j[0],l)]=Fe(j[1],l);break}}b&&(m.headers=I)}m.query=void 0;for(var M=0,X=h.length;M<X;++M){var L=h[M].split("@");if(L[0]=Fe(L[0]),l.unicodeSupport)L[1]=Fe(L[1],l).toLowerCase();else try{L[1]=yt.toASCII(Fe(L[1],l).toLowerCase())}catch(st){m.error=m.error||"Email address\'s domain name can not be converted to ASCII via punycode: "+st}h[M]=L.join("@")}return m},serialize:function(i,l){var m=i,h=a(i.to);if(h){for(var b=0,I=h.length;b<I;++b){var q=String(h[b]),U=q.lastIndexOf("@"),Z=q.slice(0,U).replace(gt,dn).replace(gt,s).replace(Mu,Re),j=q.slice(U+1);try{j=l.iri?yt.toUnicode(j):yt.toASCII(Fe(j,l).toLowerCase())}catch(M){m.error=m.error||"Email address\'s domain name can not be converted to "+(l.iri?"Unicode":"ASCII")+" via punycode: "+M}h[b]=Z+"@"+j}m.path=h.join(",")}var B=i.headers=i.headers||{};i.subject&&(B.subject=i.subject),i.body&&(B.body=i.body);var ee=[];for(var J in B)B[J]!==Iu[J]&&ee.push(J.replace(gt,dn).replace(gt,s).replace(ma,Re)+"="+B[J].replace(gt,dn).replace(gt,s).replace(Vu,Re));return ee.length&&(m.query=ee.join("&")),m}},Uu=/^([^\\:]+)\\:(.*)/,_a={scheme:"urn",parse:function(i,l){var m=i.path&&i.path.match(Uu),h=i;if(m){var b=l.scheme||h.scheme||"urn",I=m[1].toLowerCase(),q=m[2],U=b+":"+(l.nid||I),Z=De[U];h.nid=I,h.nss=q,h.path=void 0,Z&&(h=Z.parse(h,l))}else h.error=h.error||"URN can not be parsed.";return h},serialize:function(i,l){var m=l.scheme||i.scheme||"urn",h=i.nid,b=m+":"+(l.nid||h),I=De[b];I&&(i=I.serialize(i,l));var q=i,U=i.nss;return q.path=(h||l.nid)+":"+U,q}},Fu=/^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/,va={scheme:"urn:uuid",parse:function(i,l){var m=i;return m.uuid=m.nss,m.nss=void 0,!l.tolerant&&(!m.uuid||!m.uuid.match(Fu))&&(m.error=m.error||"UUID is not valid."),m},serialize:function(i,l){var m=i;return m.nss=(i.uuid||"").toLowerCase(),m}};De[Lt.scheme]=Lt,De[pa.scheme]=pa,De[ya.scheme]=ya,De[_a.scheme]=_a,De[va.scheme]=va,t.SCHEMES=De,t.pctEncChar=Re,t.pctDecChars=_t,t.parse=Ue,t.removeDotSegments=vt,t.serialize=Ae,t.resolveComponents=fa,t.resolve=Pu,t.normalize=Nu,t.equal=Ou,t.escapeComponent=Tu,t.unescapeComponent=Fe,Object.defineProperty(t,"__esModule",{value:!0})})});var ar=w(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.getSchemaRefs=pe.resolveUrl=pe.normalizeId=pe._getFullPath=pe.getFullPath=pe.inlineRef=void 0;var zl=V(),Kl=Bn(),Hl=Ro(),Vr=Xn(),Gl=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Jl(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Yn(t):e?jo(t)<=e:!1}pe.inlineRef=Jl;var Wl=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Yn(t){for(let e in t){if(Wl.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(Yn)||typeof r=="object"&&Yn(r))return!0}return!1}function jo(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!Gl.has(r)&&(typeof t[r]=="object"&&zl.eachItem(t[r],n=>e+=jo(n)),e===1/0))return 1/0}return e}function ko(t="",e){e!==!1&&(t=jt(t));let r=Vr.parse(t);return qo(r)}pe.getFullPath=ko;function qo(t){return Vr.serialize(t).split("#")[0]+"#"}pe._getFullPath=qo;var Bl=/#\\/?$/;function jt(t){return t?t.replace(Bl,""):""}pe.normalizeId=jt;function Xl(t,e){return e=jt(e),Vr.resolve(t,e)}pe.resolveUrl=Xl;var Yl=/^[a-z_][-a-z0-9._]*$/i;function Ql(t){if(typeof t=="boolean")return{};let{schemaId:e}=this.opts,r=jt(t[e]),n={"":r},s=ko(r,!1),a={},o=new Set;return Hl(t,{allKeys:!0},(f,p,_,$)=>{if($===void 0)return;let v=s+p,y=n[$];typeof f[e]=="string"&&(y=E.call(this,f[e])),S.call(this,f.$anchor),S.call(this,f.$dynamicAnchor),n[p]=y;function E(g){if(g=jt(y?Vr.resolve(y,g):g),o.has(g))throw d(g);o.add(g);let T=this.refs[g];return typeof T=="string"&&(T=this.refs[T]),typeof T=="object"?u(f,T.schema,g):g!==jt(v)&&(g[0]==="#"?(u(f,a[g],g),a[g]=f):this.refs[g]=v),g}function S(g){if(typeof g=="string"){if(!Yl.test(g))throw new Error(`invalid anchor "${g}"`);E.call(this,`#${g}`)}}}),a;function u(f,p,_){if(p!==void 0&&!Kl(f,p))throw d(_)}function d(f){return new Error(`reference "${f}" resolves to more than one schema`)}}pe.getSchemaRefs=Ql});var ur=w(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.getData=tt.KeywordCxt=tt.validateFunctionCode=void 0;var xo=mo(),Mo=sr(),Zn=xn(),Ur=sr(),Zl=wo(),ir=Oo(),Qn=Io(),P=R(),N=Je(),ed=ar(),We=V(),or=rr();function td(t){if(Ho(t)&&(Go(t),Ko(t))){sd(t);return}zo(t,()=>xo.topBoolOrEmptySchema(t))}tt.validateFunctionCode=td;function zo({gen:t,validateName:e,schema:r,schemaEnv:n,opts:s},a){s.code.es5?t.func(e,P._`${N.default.data}, ${N.default.valCxt}`,n.$async,()=>{t.code(P._`"use strict"; ${Vo(r,s)}`),nd(t,s),t.code(a)}):t.func(e,P._`${N.default.data}, ${rd(s)}`,n.$async,()=>t.code(Vo(r,s)).code(a))}function rd(t){return P._`{${N.default.instancePath}="", ${N.default.parentData}, ${N.default.parentDataProperty}, ${N.default.rootData}=${N.default.data}${t.dynamicRef?P._`, ${N.default.dynamicAnchors}={}`:P.nil}}={}`}function nd(t,e){t.if(N.default.valCxt,()=>{t.var(N.default.instancePath,P._`${N.default.valCxt}.${N.default.instancePath}`),t.var(N.default.parentData,P._`${N.default.valCxt}.${N.default.parentData}`),t.var(N.default.parentDataProperty,P._`${N.default.valCxt}.${N.default.parentDataProperty}`),t.var(N.default.rootData,P._`${N.default.valCxt}.${N.default.rootData}`),e.dynamicRef&&t.var(N.default.dynamicAnchors,P._`${N.default.valCxt}.${N.default.dynamicAnchors}`)},()=>{t.var(N.default.instancePath,P._`""`),t.var(N.default.parentData,P._`undefined`),t.var(N.default.parentDataProperty,P._`undefined`),t.var(N.default.rootData,N.default.data),e.dynamicRef&&t.var(N.default.dynamicAnchors,P._`{}`)})}function sd(t){let{schema:e,opts:r,gen:n}=t;zo(t,()=>{r.$comment&&e.$comment&&Wo(t),cd(t),n.let(N.default.vErrors,null),n.let(N.default.errors,0),r.unevaluated&&ad(t),Jo(t),fd(t)})}function ad(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",P._`${r}.evaluated`),e.if(P._`${t.evaluated}.dynamicProps`,()=>e.assign(P._`${t.evaluated}.props`,P._`undefined`)),e.if(P._`${t.evaluated}.dynamicItems`,()=>e.assign(P._`${t.evaluated}.items`,P._`undefined`))}function Vo(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?P._`/*# sourceURL=${r} */`:P.nil}function od(t,e){if(Ho(t)&&(Go(t),Ko(t))){id(t,e);return}xo.boolOrEmptySchema(t,e)}function Ko({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function Ho(t){return typeof t.schema!="boolean"}function id(t,e){let{schema:r,gen:n,opts:s}=t;s.$comment&&r.$comment&&Wo(t),ld(t),dd(t);let a=n.const("_errs",N.default.errors);Jo(t,a),n.var(e,P._`${a} === ${N.default.errors}`)}function Go(t){We.checkUnknownRules(t),ud(t)}function Jo(t,e){if(t.opts.jtd)return Uo(t,[],!1,e);let r=Mo.getSchemaTypes(t.schema),n=Mo.coerceAndCheckDataType(t,r);Uo(t,r,!n,e)}function ud(t){let{schema:e,errSchemaPath:r,opts:n,self:s}=t;e.$ref&&n.ignoreKeywordsWithRef&&We.schemaHasRulesButRef(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function cd(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&We.checkStrictMode(t,"default is ignored in the schema root")}function ld(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=ed.resolveUrl(t.baseId,e))}function dd(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Wo({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:s}){let a=r.$comment;if(s.$comment===!0)t.code(P._`${N.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){let o=P.str`${n}/$comment`,u=t.scopeValue("root",{ref:e.root});t.code(P._`${N.default.self}.opts.$comment(${a}, ${o}, ${u}.schema)`)}}function fd(t){let{gen:e,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=t;r.$async?e.if(P._`${N.default.errors} === 0`,()=>e.return(N.default.data),()=>e.throw(P._`new ${s}(${N.default.vErrors})`)):(e.assign(P._`${n}.errors`,N.default.vErrors),a.unevaluated&&pd(t),e.return(P._`${N.default.errors} === 0`))}function pd({gen:t,evaluated:e,props:r,items:n}){r instanceof P.Name&&t.assign(P._`${e}.props`,r),n instanceof P.Name&&t.assign(P._`${e}.items`,n)}function Uo(t,e,r,n){let{gen:s,schema:a,data:o,allErrors:u,opts:d,self:f}=t,{RULES:p}=f;if(a.$ref&&(d.ignoreKeywordsWithRef||!We.schemaHasRulesButRef(a,p))){s.block(()=>Bo(t,"$ref",p.all.$ref.definition));return}d.jtd||hd(t,e),s.block(()=>{for(let $ of p.rules)_($);_(p.post)});function _($){!Zn.shouldUseGroup(a,$)||($.type?(s.if(Ur.checkDataType($.type,o,d.strictNumbers)),Fo(t,$),e.length===1&&e[0]===$.type&&r&&(s.else(),Ur.reportTypeError(t)),s.endIf()):Fo(t,$),u||s.if(P._`${N.default.errors} === ${n||0}`))}}function Fo(t,e){let{gen:r,schema:n,opts:{useDefaults:s}}=t;s&&Zl.assignDefaults(t,e.type),r.block(()=>{for(let a of e.rules)Zn.shouldUseRule(n,a)&&Bo(t,a.keyword,a.definition,e.type)})}function hd(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(md(t,e),t.opts.allowUnionTypes||yd(t,e),_d(t,t.dataTypes))}function md(t,e){if(!!e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Lo(t.dataTypes,r)||es(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),t.dataTypes=t.dataTypes.filter(r=>Lo(e,r))}}function yd(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&es(t,"use allowUnionTypes to allow union type keyword")}function _d(t,e){let r=t.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&Zn.shouldUseRule(t.schema,s)){let{type:a}=s.definition;a.length&&!a.some(o=>vd(e,o))&&es(t,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function vd(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Lo(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function es(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,We.checkStrictMode(t,e,t.opts.strictTypes)}var Fr=class{constructor(e,r,n){if(ir.validateKeywordUsage(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=We.schemaRefOrVal(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Xo(this.$data,e));else if(this.schemaCode=this.schemaValue,!ir.validSchemaType(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",N.default.errors))}result(e,r,n){this.gen.if(P.not(e)),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.result(e,void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail(P._`${r} !== undefined && (${P.or(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?or.reportExtraError:or.reportError)(this,this.def.error,r)}$dataError(){or.reportError(this,this.def.$dataError||or.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error(\'add "trackErrors" to keyword definition\');or.resetErrorsCount(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=P.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=P.nil,r=P.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:a,def:o}=this;n.if(P.or(P._`${s} === undefined`,r)),e!==P.nil&&n.assign(e,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==P.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:n,def:s,it:a}=this;return P.or(o(),u());function o(){if(n.length){if(!(r instanceof P.Name))throw new Error("ajv implementation error");let d=Array.isArray(n)?n:[n];return P._`${Ur.checkDataTypes(d,r,a.opts.strictNumbers,Ur.DataType.Wrong)}`}return P.nil}function u(){if(s.validateSchema){let d=e.scopeValue("validate$data",{ref:s.validateSchema});return P._`!${d}(${r})`}return P.nil}}subschema(e,r){let n=Qn.getSubschema(this.it,e);Qn.extendSubschemaData(n,this.it,e),Qn.extendSubschemaMode(n,e);let s=ge(Y(Y({},this.it),n),{items:void 0,props:void 0});return od(s,r),s}mergeEvaluated(e,r){let{it:n,gen:s}=this;!n.opts.unevaluated||(n.props!==!0&&e.props!==void 0&&(n.props=We.mergeEvaluated.props(s,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=We.mergeEvaluated.items(s,e.items,n.items,r)))}mergeValidEvaluated(e,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(e,P.Name)),!0}};tt.KeywordCxt=Fr;function Bo(t,e,r,n){let s=new Fr(t,r,e);"code"in r?r.code(s,n):s.$data&&r.validate?ir.funcKeywordCode(s,r):"macro"in r?ir.macroKeywordCode(s,r):(r.compile||r.validate)&&ir.funcKeywordCode(s,r)}var gd=/^\\/(?:[^~]|~0|~1)*$/,$d=/^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;function Xo(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let s,a;if(t==="")return N.default.rootData;if(t[0]==="/"){if(!gd.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);s=t,a=N.default.rootData}else{let f=$d.exec(t);if(!f)throw new Error(`Invalid JSON-pointer: ${t}`);let p=+f[1];if(s=f[2],s==="#"){if(p>=e)throw new Error(d("property/index",p));return n[e-p]}if(p>e)throw new Error(d("data",p));if(a=r[e-p],!s)return a}let o=a,u=s.split("/");for(let f of u)f&&(a=P._`${a}${P.getProperty(We.unescapeJsonPointer(f))}`,o=P._`${o} && ${a}`);return o;function d(f,p){return`Cannot access ${f} ${p} levels up, current level is ${e}`}}tt.getData=Xo});var ns=w(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});var ts=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};rs.default=ts});var is=w(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});var ss=ar(),as=class extends Error{constructor(e,r,n){super(n||`can\'t resolve reference ${r} from id ${e}`),this.missingRef=ss.resolveUrl(e,r),this.missingSchema=ss.normalizeId(ss.getFullPath(this.missingRef))}};os.default=as});var ls=w(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.resolveSchema=we.getCompilingSchema=we.resolveRef=we.compileSchema=we.SchemaEnv=void 0;var Ne=R(),Ed=ns(),ft=Je(),Oe=ar(),Yo=V(),wd=ur(),Sd=Xn(),kt=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:Oe.normalizeId(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};we.SchemaEnv=kt;function cs(t){let e=Qo.call(this,t);if(e)return e;let r=Oe.getFullPath(t.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new Ne.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a}),u;t.$async&&(u=o.scopeValue("Error",{ref:Ed.default,code:Ne._`require("ajv/dist/runtime/validation_error").default`}));let d=o.scopeName("validate");t.validateName=d;let f={gen:o,allErrors:this.opts.allErrors,data:ft.default.data,parentData:ft.default.parentData,parentDataProperty:ft.default.parentDataProperty,dataNames:[ft.default.data],dataPathArr:[Ne.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:Ne.stringify(t.schema)}:{ref:t.schema}),validateName:d,ValidationError:u,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Ne.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:Ne._`""`,opts:this.opts,self:this},p;try{this._compilations.add(t),wd.validateFunctionCode(f),o.optimize(this.opts.code.optimize);let _=o.toString();p=`${o.scopeRefs(ft.default.scope)}return ${_}`,this.opts.code.process&&(p=this.opts.code.process(p,t));let v=new Function(`${ft.default.self}`,`${ft.default.scope}`,p)(this,this.scope.get());if(this.scope.value(d,{ref:v}),v.errors=null,v.schema=t.schema,v.schemaEnv=t,t.$async&&(v.$async=!0),this.opts.code.source===!0&&(v.source={validateName:d,validateCode:_,scopeValues:o._values}),this.opts.unevaluated){let{props:y,items:E}=f;v.evaluated={props:y instanceof Ne.Name?void 0:y,items:E instanceof Ne.Name?void 0:E,dynamicProps:y instanceof Ne.Name,dynamicItems:E instanceof Ne.Name},v.source&&(v.source.evaluated=Ne.stringify(v.evaluated))}return t.validate=v,t}catch(_){throw delete t.validate,delete t.validateName,p&&this.logger.error("Error compiling schema, function code:",p),_}finally{this._compilations.delete(t)}}we.compileSchema=cs;function bd(t,e,r){var n;r=Oe.resolveUrl(e,r);let s=t.refs[r];if(s)return s;let a=Od.call(this,t,r);if(a===void 0){let o=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:u}=this.opts;o&&(a=new kt({schema:o,schemaId:u,root:t,baseId:e}))}if(a!==void 0)return t.refs[r]=Pd.call(this,a)}we.resolveRef=bd;function Pd(t){return Oe.inlineRef(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:cs.call(this,t)}function Qo(t){for(let e of this._compilations)if(Nd(e,t))return e}we.getCompilingSchema=Qo;function Nd(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function Od(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Lr.call(this,t,e)}function Lr(t,e){let r=Sd.parse(e),n=Oe._getFullPath(r),s=Oe.getFullPath(t.baseId);if(Object.keys(t.schema).length>0&&n===s)return us.call(this,r,t);let a=Oe.normalizeId(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){let u=Lr.call(this,t,o);return typeof(u==null?void 0:u.schema)!="object"?void 0:us.call(this,r,u)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||cs.call(this,o),a===Oe.normalizeId(e)){let{schema:u}=o,{schemaId:d}=this.opts,f=u[d];return f&&(s=Oe.resolveUrl(s,f)),new kt({schema:u,schemaId:d,root:t,baseId:s})}return us.call(this,r,o)}}we.resolveSchema=Lr;var Td=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function us(t,{baseId:e,schema:r,root:n}){var s;if(((s=t.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let u of t.fragment.slice(1).split("/")){if(typeof r=="boolean"||(r=r[Yo.unescapeFragment(u)],r===void 0))return;let d=typeof r=="object"&&r[this.opts.schemaId];!Td.has(u)&&d&&(e=Oe.resolveUrl(e,d))}let a;if(typeof r!="boolean"&&r.$ref&&!Yo.schemaHasRulesButRef(r,this.RULES)){let u=Oe.resolveUrl(e,r.$ref);a=Lr.call(this,n,u)}let{schemaId:o}=this.opts;if(a=a||new kt({schema:r,schemaId:o,root:n,baseId:e}),a.schema!==a.root.schema)return a}});var Zo=w((am,Id)=>{Id.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var oi=w(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.CodeGen=se.Name=se.nil=se.stringify=se.str=se._=se.KeywordCxt=void 0;var Cd=ur();Object.defineProperty(se,"KeywordCxt",{enumerable:!0,get:function(){return Cd.KeywordCxt}});var qt=R();Object.defineProperty(se,"_",{enumerable:!0,get:function(){return qt._}});Object.defineProperty(se,"str",{enumerable:!0,get:function(){return qt.str}});Object.defineProperty(se,"stringify",{enumerable:!0,get:function(){return qt.stringify}});Object.defineProperty(se,"nil",{enumerable:!0,get:function(){return qt.nil}});Object.defineProperty(se,"Name",{enumerable:!0,get:function(){return qt.Name}});Object.defineProperty(se,"CodeGen",{enumerable:!0,get:function(){return qt.CodeGen}});var Dd=ns(),si=is(),Rd=Ln(),cr=ls(),Ad=R(),lr=ar(),xr=sr(),fs=V(),ei=Zo(),jd=["removeAdditional","useDefaults","coerceTypes"],kd=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),qd={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:\'"nullable" keyword is supported by default.\',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:\'"uniqueItems" keyword is always validated.\',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Md={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:\'"minLength"/"maxLength" account for unicode characters by default.\'},ti=200;function Vd(t){var e,r,n,s,a,o,u,d,f,p,_,$,v,y,E,S,g,T,re,z,K;let de=t.strict,Be=(e=t.code)===null||e===void 0?void 0:e.optimize,wr=Be===!0||Be===void 0?1:Be||0;return{strictSchema:(n=(r=t.strictSchema)!==null&&r!==void 0?r:de)!==null&&n!==void 0?n:!0,strictNumbers:(a=(s=t.strictNumbers)!==null&&s!==void 0?s:de)!==null&&a!==void 0?a:!0,strictTypes:(u=(o=t.strictTypes)!==null&&o!==void 0?o:de)!==null&&u!==void 0?u:"log",strictTuples:(f=(d=t.strictTuples)!==null&&d!==void 0?d:de)!==null&&f!==void 0?f:"log",strictRequired:(_=(p=t.strictRequired)!==null&&p!==void 0?p:de)!==null&&_!==void 0?_:!1,code:t.code?ge(Y({},t.code),{optimize:wr}):{optimize:wr},loopRequired:($=t.loopRequired)!==null&&$!==void 0?$:ti,loopEnum:(v=t.loopEnum)!==null&&v!==void 0?v:ti,meta:(y=t.meta)!==null&&y!==void 0?y:!0,messages:(E=t.messages)!==null&&E!==void 0?E:!0,inlineRefs:(S=t.inlineRefs)!==null&&S!==void 0?S:!0,schemaId:(g=t.schemaId)!==null&&g!==void 0?g:"$id",addUsedSchema:(T=t.addUsedSchema)!==null&&T!==void 0?T:!0,validateSchema:(re=t.validateSchema)!==null&&re!==void 0?re:!0,validateFormats:(z=t.validateFormats)!==null&&z!==void 0?z:!0,unicodeRegExp:(K=t.unicodeRegExp)!==null&&K!==void 0?K:!0}}var dr=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=Y(Y({},e),Vd(e));let{es5:r,lines:n}=this.opts.code;this.scope=new Ad.ValueScope({scope:{},prefixes:kd,es5:r,lines:n}),this.logger=Kd(e.logger);let s=e.validateFormats;e.validateFormats=!1,this.RULES=Rd.getRules(),ri.call(this,qd,e,"NOT SUPPORTED"),ri.call(this,Md,e,"DEPRECATED","warn"),this._metaOpts=xd.call(this),e.formats&&Fd.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&Ld.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Ud.call(this),e.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:n}=this.opts,s=ei;n==="id"&&(s=Y({},ei),s.id=s.$id,delete s.$id),r&&e&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(e,r){let n=this._addSchema(e,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,e,r);function s(p,_){return Nt(this,null,function*(){yield a.call(this,p.$schema);let $=this._addSchema(p,_);return $.validate||o.call(this,$)})}function a(p){return Nt(this,null,function*(){p&&!this.getSchema(p)&&(yield s.call(this,{$ref:p},!0))})}function o(p){return Nt(this,null,function*(){try{return this._compileSchemaEnv(p)}catch(_){if(!(_ instanceof si.default))throw _;return u.call(this,_),yield d.call(this,_.missingSchema),o.call(this,p)}})}function u({missingSchema:p,missingRef:_}){if(this.refs[p])throw new Error(`AnySchema ${p} is loaded but ${_} cannot be resolved`)}function d(p){return Nt(this,null,function*(){let _=yield f.call(this,p);this.refs[p]||(yield a.call(this,_.$schema)),this.refs[p]||this.addSchema(_,p,r)})}function f(p){return Nt(this,null,function*(){let _=this._loading[p];if(_)return _;try{return yield this._loading[p]=n(p)}finally{delete this._loading[p]}})}}addSchema(e,r,n,s=this.opts.validateSchema){if(Array.isArray(e)){for(let o of e)this.addSchema(o,void 0,n,s);return this}let a;if(typeof e=="object"){let{schemaId:o}=this.opts;if(a=e[o],a!==void 0&&typeof a!="string")throw new Error(`schema ${o} must be string`)}return r=lr.normalizeId(r||a),this._checkUnique(r),this.schemas[r]=this._addSchema(e,n,r,s,!0),this}addMetaSchema(e,r,n=this.opts.validateSchema){return this.addSchema(e,r,!0,n),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,e);if(!s&&r){let a="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(a);else throw new Error(a)}return s}getSchema(e){let r;for(;typeof(r=ni.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:n}=this.opts,s=new cr.SchemaEnv({schema:{},schemaId:n});if(r=cr.resolveSchema.call(this,s,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=ni.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let n=e[this.opts.schemaId];return n&&(n=lr.normalizeId(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let n;if(typeof e=="string")n=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof e=="object"&&r===void 0){if(r=e,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Gd.call(this,n,r),!r)return fs.eachItem(n,a=>ds.call(this,a)),this;Wd.call(this,r);let s=ge(Y({},r),{type:xr.getJSONTypes(r.type),schemaType:xr.getJSONTypes(r.schemaType)});return fs.eachItem(n,s.type.length===0?a=>ds.call(this,a,s):a=>s.type.forEach(o=>ds.call(this,a,s,o))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let n of r.rules){let s=n.rules.findIndex(a=>a.keyword===e);s>=0&&n.rules.splice(s,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,a)=>s+r+a)}$dataMetaSchema(e,r){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let s of r){let a=s.split("/").slice(1),o=e;for(let u of a)o=o[u];for(let u in n){let d=n[u];if(typeof d!="object")continue;let{$data:f}=d.definition,p=o[u];f&&p&&(o[u]=ai(p))}}return e}_removeAllSchemas(e,r){for(let n in e){let s=e[n];(!r||r.test(n))&&(typeof s=="string"?delete e[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete e[n]))}}_addSchema(e,r,n,s=this.opts.validateSchema,a=this.opts.addUsedSchema){let o,{schemaId:u}=this.opts;if(typeof e=="object")o=e[u];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let d=this._cache.get(e);if(d!==void 0)return d;let f=lr.getSchemaRefs.call(this,e);return n=lr.normalizeId(o||n),d=new cr.SchemaEnv({schema:e,schemaId:u,meta:r,baseId:n,localRefs:f}),this._cache.set(d.schema,d),a&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=d),s&&this.validateSchema(e,!0),d}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):cr.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{cr.compileSchema.call(this,e)}finally{this.opts=r}}};se.default=dr;dr.ValidationError=Dd.default;dr.MissingRefError=si.default;function ri(t,e,r,n="error"){for(let s in t){let a=s;a in e&&this.logger[n](`${r}: option ${s}. ${t[a]}`)}}function ni(t){return t=lr.normalizeId(t),this.schemas[t]||this.refs[t]}function Ud(){let t=this.opts.schemas;if(!!t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function Fd(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function Ld(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function xd(){let t=Y({},this.opts);for(let e of jd)delete t[e];return t}var zd={log(){},warn(){},error(){}};function Kd(t){if(t===!1)return zd;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var Hd=/^[a-z_$][a-z0-9_$:-]*$/i;function Gd(t,e){let{RULES:r}=this;if(fs.eachItem(t,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!Hd.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error(\'$data keyword must have "code" or "validate" function\')}function ds(t,e,r){var n;let s=e==null?void 0:e.post;if(r&&s)throw new Error(\'keyword with "post" flag cannot have "type"\');let{RULES:a}=this,o=s?a.post:a.rules.find(({type:d})=>d===r);if(o||(o={type:r,rules:[]},a.rules.push(o)),a.keywords[t]=!0,!e)return;let u={keyword:t,definition:ge(Y({},e),{type:xr.getJSONTypes(e.type),schemaType:xr.getJSONTypes(e.schemaType)})};e.before?Jd.call(this,o,u,e.before):o.rules.push(u),a.all[t]=u,(n=e.implements)===null||n===void 0||n.forEach(d=>this.addKeyword(d))}function Jd(t,e,r){let n=t.rules.findIndex(s=>s.keyword===r);n>=0?t.rules.splice(n,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function Wd(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=ai(e)),t.validateSchema=this.compile(e,!0))}var Bd={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ai(t){return{anyOf:[t,Bd]}}});var ii=w(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});var Xd={keyword:"id",code(){throw new Error(\'NOT SUPPORTED: keyword "id", use "$id" for schema ID\')}};ps.default=Xd});var di=w(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.callRef=pt.getValidate=void 0;var Yd=is(),ui=Ee(),he=R(),Mt=Je(),ci=ls(),zr=V(),Qd={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:n}=t,{baseId:s,schemaEnv:a,validateName:o,opts:u,self:d}=n,{root:f}=a;if((r==="#"||r==="#/")&&s===f.baseId)return _();let p=ci.resolveRef.call(d,f,s,r);if(p===void 0)throw new Yd.default(s,r);if(p instanceof ci.SchemaEnv)return $(p);return v(p);function _(){if(a===f)return Kr(t,o,a,a.$async);let y=e.scopeValue("root",{ref:f});return Kr(t,he._`${y}.validate`,f,f.$async)}function $(y){let E=li(t,y);Kr(t,E,y,y.$async)}function v(y){let E=e.scopeValue("schema",u.code.source===!0?{ref:y,code:he.stringify(y)}:{ref:y}),S=e.name("valid"),g=t.subschema({schema:y,dataTypes:[],schemaPath:he.nil,topSchemaRef:E,errSchemaPath:r},S);t.mergeEvaluated(g),t.ok(S)}}};function li(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):he._`${r.scopeValue("wrapper",{ref:e})}.validate`}pt.getValidate=li;function Kr(t,e,r,n){let{gen:s,it:a}=t,{allErrors:o,schemaEnv:u,opts:d}=a,f=d.passContext?Mt.default.this:he.nil;n?p():_();function p(){if(!u.$async)throw new Error("async schema referenced by sync schema");let y=s.let("valid");s.try(()=>{s.code(he._`await ${ui.callValidateCode(t,e,f)}`),v(e),o||s.assign(y,!0)},E=>{s.if(he._`!(${E} instanceof ${a.ValidationError})`,()=>s.throw(E)),$(E),o||s.assign(y,!1)}),t.ok(y)}function _(){t.result(ui.callValidateCode(t,e,f),()=>v(e),()=>$(e))}function $(y){let E=he._`${y}.errors`;s.assign(Mt.default.vErrors,he._`${Mt.default.vErrors} === null ? ${E} : ${Mt.default.vErrors}.concat(${E})`),s.assign(Mt.default.errors,he._`${Mt.default.vErrors}.length`)}function v(y){var E;if(!a.opts.unevaluated)return;let S=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(a.props!==!0)if(S&&!S.dynamicProps)S.props!==void 0&&(a.props=zr.mergeEvaluated.props(s,S.props,a.props));else{let g=s.var("props",he._`${y}.evaluated.props`);a.props=zr.mergeEvaluated.props(s,g,a.props,he.Name)}if(a.items!==!0)if(S&&!S.dynamicItems)S.items!==void 0&&(a.items=zr.mergeEvaluated.items(s,S.items,a.items));else{let g=s.var("items",he._`${y}.evaluated.items`);a.items=zr.mergeEvaluated.items(s,g,a.items,he.Name)}}}pt.callRef=Kr;pt.default=Qd});var fi=w(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});var Zd=ii(),ef=di(),tf=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Zd.default,ef.default];hs.default=tf});var pi=w(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});var Hr=R(),rt=Hr.operators,Gr={maximum:{okStr:"<=",ok:rt.LTE,fail:rt.GT},minimum:{okStr:">=",ok:rt.GTE,fail:rt.LT},exclusiveMaximum:{okStr:"<",ok:rt.LT,fail:rt.GTE},exclusiveMinimum:{okStr:">",ok:rt.GT,fail:rt.LTE}},rf={message:({keyword:t,schemaCode:e})=>Hr.str`must be ${Gr[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>Hr._`{comparison: ${Gr[t].okStr}, limit: ${e}}`},nf={keyword:Object.keys(Gr),type:"number",schemaType:"number",$data:!0,error:rf,code(t){let{keyword:e,data:r,schemaCode:n}=t;t.fail$data(Hr._`${r} ${Gr[e].fail} ${n} || isNaN(${r})`)}};ms.default=nf});var hi=w(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});var fr=R(),sf={message:({schemaCode:t})=>fr.str`must be multiple of ${t}`,params:({schemaCode:t})=>fr._`{multipleOf: ${t}}`},af={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:sf,code(t){let{gen:e,data:r,schemaCode:n,it:s}=t,a=s.opts.multipleOfPrecision,o=e.let("res"),u=a?fr._`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:fr._`${o} !== parseInt(${o})`;t.fail$data(fr._`(${n} === 0 || (${o} = ${r}/${n}, ${u}))`)}};ys.default=af});var yi=w(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});function mi(t){let e=t.length,r=0,n=0,s;for(;n<e;)r++,s=t.charCodeAt(n++),s>=55296&&s<=56319&&n<e&&(s=t.charCodeAt(n),(s&64512)===56320&&n++);return r}_s.default=mi;mi.code=\'require("ajv/dist/runtime/ucs2length").default\'});var _i=w(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});var ht=R(),of=V(),uf=yi(),cf={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return ht.str`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>ht._`{limit: ${t}}`},lf={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:cf,code(t){let{keyword:e,data:r,schemaCode:n,it:s}=t,a=e==="maxLength"?ht.operators.GT:ht.operators.LT,o=s.opts.unicode===!1?ht._`${r}.length`:ht._`${of.useFunc(t.gen,uf.default)}(${r})`;t.fail$data(ht._`${o} ${a} ${n}`)}};vs.default=lf});var vi=w(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});var df=Ee(),Jr=R(),ff={message:({schemaCode:t})=>Jr.str`must match pattern "${t}"`,params:({schemaCode:t})=>Jr._`{pattern: ${t}}`},pf={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:ff,code(t){let{data:e,$data:r,schema:n,schemaCode:s,it:a}=t,o=a.opts.unicodeRegExp?"u":"",u=r?Jr._`(new RegExp(${s}, ${o}))`:df.usePattern(t,n);t.fail$data(Jr._`!${u}.test(${e})`)}};gs.default=pf});var gi=w($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});var pr=R(),hf={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return pr.str`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>pr._`{limit: ${t}}`},mf={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:hf,code(t){let{keyword:e,data:r,schemaCode:n}=t,s=e==="maxProperties"?pr.operators.GT:pr.operators.LT;t.fail$data(pr._`Object.keys(${r}).length ${s} ${n}`)}};$s.default=mf});var $i=w(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});var hr=Ee(),mr=R(),yf=V(),_f={message:({params:{missingProperty:t}})=>mr.str`must have required property \'${t}\'`,params:({params:{missingProperty:t}})=>mr._`{missingProperty: ${t}}`},vf={keyword:"required",type:"object",schemaType:"array",$data:!0,error:_f,code(t){let{gen:e,schema:r,schemaCode:n,data:s,$data:a,it:o}=t,{opts:u}=o;if(!a&&r.length===0)return;let d=r.length>=u.loopRequired;if(o.allErrors?f():p(),u.strictRequired){let v=t.parentSchema.properties,{definedProperties:y}=t.it;for(let E of r)if((v==null?void 0:v[E])===void 0&&!y.has(E)){let S=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${E}" is not defined at "${S}" (strictRequired)`;yf.checkStrictMode(o,g,o.opts.strictRequired)}}function f(){if(d||a)t.block$data(mr.nil,_);else for(let v of r)hr.checkReportMissingProp(t,v)}function p(){let v=e.let("missing");if(d||a){let y=e.let("valid",!0);t.block$data(y,()=>$(v,y)),t.ok(y)}else e.if(hr.checkMissingProp(t,r,v)),hr.reportMissingProp(t,v),e.else()}function _(){e.forOf("prop",n,v=>{t.setParams({missingProperty:v}),e.if(hr.noPropertyInData(e,s,v,u.ownProperties),()=>t.error())})}function $(v,y){t.setParams({missingProperty:v}),e.forOf(v,n,()=>{e.assign(y,hr.propertyInData(e,s,v,u.ownProperties)),e.if(mr.not(y),()=>{t.error(),e.break()})},mr.nil)}}};Es.default=vf});var Ei=w(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});var yr=R(),gf={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return yr.str`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>yr._`{limit: ${t}}`},$f={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:gf,code(t){let{keyword:e,data:r,schemaCode:n}=t,s=e==="maxItems"?yr.operators.GT:yr.operators.LT;t.fail$data(yr._`${r}.length ${s} ${n}`)}};ws.default=$f});var Wr=w(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});var wi=Bn();wi.code=\'require("ajv/dist/runtime/equal").default\';Ss.default=wi});var Si=w(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});var bs=sr(),ae=R(),Ef=V(),wf=Wr(),Sf={message:({params:{i:t,j:e}})=>ae.str`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>ae._`{i: ${t}, j: ${e}}`},bf={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Sf,code(t){let{gen:e,data:r,$data:n,schema:s,parentSchema:a,schemaCode:o,it:u}=t;if(!n&&!s)return;let d=e.let("valid"),f=a.items?bs.getSchemaTypes(a.items):[];t.block$data(d,p,ae._`${o} === false`),t.ok(d);function p(){let y=e.let("i",ae._`${r}.length`),E=e.let("j");t.setParams({i:y,j:E}),e.assign(d,!0),e.if(ae._`${y} > 1`,()=>(_()?$:v)(y,E))}function _(){return f.length>0&&!f.some(y=>y==="object"||y==="array")}function $(y,E){let S=e.name("item"),g=bs.checkDataTypes(f,S,u.opts.strictNumbers,bs.DataType.Wrong),T=e.const("indices",ae._`{}`);e.for(ae._`;${y}--;`,()=>{e.let(S,ae._`${r}[${y}]`),e.if(g,ae._`continue`),f.length>1&&e.if(ae._`typeof ${S} == "string"`,ae._`${S} += "_"`),e.if(ae._`typeof ${T}[${S}] == "number"`,()=>{e.assign(E,ae._`${T}[${S}]`),t.error(),e.assign(d,!1).break()}).code(ae._`${T}[${S}] = ${y}`)})}function v(y,E){let S=Ef.useFunc(e,wf.default),g=e.name("outer");e.label(g).for(ae._`;${y}--;`,()=>e.for(ae._`${E} = ${y}; ${E}--;`,()=>e.if(ae._`${S}(${r}[${y}], ${r}[${E}])`,()=>{t.error(),e.assign(d,!1).break(g)})))}}};Ps.default=bf});var bi=w(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});var Ns=R(),Pf=V(),Nf=Wr(),Of={message:"must be equal to constant",params:({schemaCode:t})=>Ns._`{allowedValue: ${t}}`},Tf={keyword:"const",$data:!0,error:Of,code(t){let{gen:e,data:r,$data:n,schemaCode:s,schema:a}=t;n||a&&typeof a=="object"?t.fail$data(Ns._`!${Pf.useFunc(e,Nf.default)}(${r}, ${s})`):t.fail(Ns._`${a} !== ${r}`)}};Os.default=Tf});var Pi=w(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});var _r=R(),If=V(),Cf=Wr(),Df={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>_r._`{allowedValues: ${t}}`},Rf={keyword:"enum",schemaType:"array",$data:!0,error:Df,code(t){let{gen:e,data:r,$data:n,schema:s,schemaCode:a,it:o}=t;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let u=s.length>=o.opts.loopEnum,d=If.useFunc(e,Cf.default),f;if(u||n)f=e.let("valid"),t.block$data(f,p);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let $=e.const("vSchema",a);f=_r.or(...s.map((v,y)=>_($,y)))}t.pass(f);function p(){e.assign(f,!1),e.forOf("v",a,$=>e.if(_r._`${d}(${r}, ${$})`,()=>e.assign(f,!0).break()))}function _($,v){let y=s[v];return typeof y=="object"&&y!==null?_r._`${d}(${r}, ${$}[${v}])`:_r._`${r} === ${y}`}}};Ts.default=Rf});var Ni=w(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});var Af=pi(),jf=hi(),kf=_i(),qf=vi(),Mf=gi(),Vf=$i(),Uf=Ei(),Ff=Si(),Lf=bi(),xf=Pi(),zf=[Af.default,jf.default,kf.default,qf.default,Mf.default,Vf.default,Uf.default,Ff.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Lf.default,xf.default];Is.default=zf});var Ds=w(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.validateAdditionalItems=void 0;var mt=R(),Cs=V(),Kf={message:({params:{len:t}})=>mt.str`must NOT have more than ${t} items`,params:({params:{len:t}})=>mt._`{limit: ${t}}`},Hf={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Kf,code(t){let{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){Cs.checkStrictMode(r,\'"additionalItems" is ignored when "items" is not an array of schemas\');return}Oi(t,n)}};function Oi(t,e){let{gen:r,schema:n,data:s,keyword:a,it:o}=t;o.items=!0;let u=r.const("len",mt._`${s}.length`);if(n===!1)t.setParams({len:e.length}),t.pass(mt._`${u} <= ${e.length}`);else if(typeof n=="object"&&!Cs.alwaysValidSchema(o,n)){let f=r.var("valid",mt._`${u} <= ${e.length}`);r.if(mt.not(f),()=>d(f)),t.ok(f)}function d(f){r.forRange("i",e.length,u,p=>{t.subschema({keyword:a,dataProp:p,dataPropType:Cs.Type.Num},f),o.allErrors||r.if(mt.not(f),()=>r.break())})}}vr.validateAdditionalItems=Oi;vr.default=Hf});var Rs=w(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.validateTuple=void 0;var Ti=R(),Br=V(),Gf=Ee(),Jf={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return Ii(t,"additionalItems",e);r.items=!0,!Br.alwaysValidSchema(r,e)&&t.ok(Gf.validateArray(t))}};function Ii(t,e,r=t.schema){let{gen:n,parentSchema:s,data:a,keyword:o,it:u}=t;p(s),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=Br.mergeEvaluated.items(n,r.length,u.items));let d=n.name("valid"),f=n.const("len",Ti._`${a}.length`);r.forEach((_,$)=>{Br.alwaysValidSchema(u,_)||(n.if(Ti._`${f} > ${$}`,()=>t.subschema({keyword:o,schemaProp:$,dataProp:$},d)),t.ok(d))});function p(_){let{opts:$,errSchemaPath:v}=u,y=r.length,E=y===_.minItems&&(y===_.maxItems||_[e]===!1);if($.strictTuples&&!E){let S=`"${o}" is ${y}-tuple, but minItems or maxItems/${e} are not specified or different at path "${v}"`;Br.checkStrictMode(u,S,$.strictTuples)}}}gr.validateTuple=Ii;gr.default=Jf});var Ci=w(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});var Wf=Rs(),Bf={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>Wf.validateTuple(t,"items")};As.default=Bf});var Ri=w(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});var Di=R(),Xf=V(),Yf=Ee(),Qf=Ds(),Zf={message:({params:{len:t}})=>Di.str`must NOT have more than ${t} items`,params:({params:{len:t}})=>Di._`{limit: ${t}}`},ep={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Zf,code(t){let{schema:e,parentSchema:r,it:n}=t,{prefixItems:s}=r;n.items=!0,!Xf.alwaysValidSchema(n,e)&&(s?Qf.validateAdditionalItems(t,s):t.ok(Yf.validateArray(t)))}};js.default=ep});var Ai=w(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});var Te=R(),Xr=V(),tp={message:({params:{min:t,max:e}})=>e===void 0?Te.str`must contain at least ${t} valid item(s)`:Te.str`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?Te._`{minContains: ${t}}`:Te._`{minContains: ${t}, maxContains: ${e}}`},rp={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:tp,code(t){let{gen:e,schema:r,parentSchema:n,data:s,it:a}=t,o,u,{minContains:d,maxContains:f}=n;a.opts.next?(o=d===void 0?1:d,u=f):o=1;let p=e.const("len",Te._`${s}.length`);if(t.setParams({min:o,max:u}),u===void 0&&o===0){Xr.checkStrictMode(a,\'"minContains" == 0 without "maxContains": "contains" keyword ignored\');return}if(u!==void 0&&o>u){Xr.checkStrictMode(a,\'"minContains" > "maxContains" is always invalid\'),t.fail();return}if(Xr.alwaysValidSchema(a,r)){let y=Te._`${p} >= ${o}`;u!==void 0&&(y=Te._`${y} && ${p} <= ${u}`),t.pass(y);return}a.items=!0;let _=e.name("valid");if(u===void 0&&o===1)$(_,()=>e.if(_,()=>e.break()));else{e.let(_,!1);let y=e.name("_valid"),E=e.let("count",0);$(y,()=>e.if(y,()=>v(E)))}t.result(_,()=>t.reset());function $(y,E){e.forRange("i",0,p,S=>{t.subschema({keyword:"contains",dataProp:S,dataPropType:Xr.Type.Num,compositeRule:!0},y),E()})}function v(y){e.code(Te._`${y}++`),u===void 0?e.if(Te._`${y} >= ${o}`,()=>e.assign(_,!0).break()):(e.if(Te._`${y} > ${u}`,()=>e.assign(_,!1).break()),o===1?e.assign(_,!0):e.if(Te._`${y} >= ${o}`,()=>e.assign(_,!0)))}}};ks.default=rp});var qi=w(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.validateSchemaDeps=Ve.validatePropertyDeps=Ve.error=void 0;var qs=R(),np=V(),$r=Ee();Ve.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let n=e===1?"property":"properties";return qs.str`must have ${n} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:n}})=>qs._`{property: ${t},\n    missingProperty: ${n},\n    depsCount: ${e},\n    deps: ${r}}`};var sp={keyword:"dependencies",type:"object",schemaType:"object",error:Ve.error,code(t){let[e,r]=ap(t);ji(t,e),ki(t,r)}};function ap({schema:t}){let e={},r={};for(let n in t){if(n==="__proto__")continue;let s=Array.isArray(t[n])?e:r;s[n]=t[n]}return[e,r]}function ji(t,e=t.schema){let{gen:r,data:n,it:s}=t;if(Object.keys(e).length===0)return;let a=r.let("missing");for(let o in e){let u=e[o];if(u.length===0)continue;let d=$r.propertyInData(r,n,o,s.opts.ownProperties);t.setParams({property:o,depsCount:u.length,deps:u.join(", ")}),s.allErrors?r.if(d,()=>{for(let f of u)$r.checkReportMissingProp(t,f)}):(r.if(qs._`${d} && (${$r.checkMissingProp(t,u,a)})`),$r.reportMissingProp(t,a),r.else())}}Ve.validatePropertyDeps=ji;function ki(t,e=t.schema){let{gen:r,data:n,keyword:s,it:a}=t,o=r.name("valid");for(let u in e)np.alwaysValidSchema(a,e[u])||(r.if($r.propertyInData(r,n,u,a.opts.ownProperties),()=>{let d=t.subschema({keyword:s,schemaProp:u},o);t.mergeValidEvaluated(d,o)},()=>r.var(o,!0)),t.ok(o))}Ve.validateSchemaDeps=ki;Ve.default=sp});var Vi=w(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});var Mi=R(),op=V(),ip={message:"property name must be valid",params:({params:t})=>Mi._`{propertyName: ${t.propertyName}}`},up={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:ip,code(t){let{gen:e,schema:r,data:n,it:s}=t;if(op.alwaysValidSchema(s,r))return;let a=e.name("valid");e.forIn("key",n,o=>{t.setParams({propertyName:o}),t.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),e.if(Mi.not(a),()=>{t.error(!0),s.allErrors||e.break()})}),t.ok(a)}};Ms.default=up});var Us=w(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});var Yr=Ee(),Ie=R(),cp=Je(),Qr=V(),lp={message:"must NOT have additional properties",params:({params:t})=>Ie._`{additionalProperty: ${t.additionalProperty}}`},dp={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:lp,code(t){let{gen:e,schema:r,parentSchema:n,data:s,errsCount:a,it:o}=t;if(!a)throw new Error("ajv implementation error");let{allErrors:u,opts:d}=o;if(o.props=!0,d.removeAdditional!=="all"&&Qr.alwaysValidSchema(o,r))return;let f=Yr.allSchemaProperties(n.properties),p=Yr.allSchemaProperties(n.patternProperties);_(),t.ok(Ie._`${a} === ${cp.default.errors}`);function _(){e.forIn("key",s,S=>{!f.length&&!p.length?y(S):e.if($(S),()=>y(S))})}function $(S){let g;if(f.length>8){let T=Qr.schemaRefOrVal(o,n.properties,"properties");g=Yr.isOwnProperty(e,T,S)}else f.length?g=Ie.or(...f.map(T=>Ie._`${S} === ${T}`)):g=Ie.nil;return p.length&&(g=Ie.or(g,...p.map(T=>Ie._`${Yr.usePattern(t,T)}.test(${S})`))),Ie.not(g)}function v(S){e.code(Ie._`delete ${s}[${S}]`)}function y(S){if(d.removeAdditional==="all"||d.removeAdditional&&r===!1){v(S);return}if(r===!1){t.setParams({additionalProperty:S}),t.error(),u||e.break();return}if(typeof r=="object"&&!Qr.alwaysValidSchema(o,r)){let g=e.name("valid");d.removeAdditional==="failing"?(E(S,g,!1),e.if(Ie.not(g),()=>{t.reset(),v(S)})):(E(S,g),u||e.if(Ie.not(g),()=>e.break()))}}function E(S,g,T){let re={keyword:"additionalProperties",dataProp:S,dataPropType:Qr.Type.Str};T===!1&&Object.assign(re,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(re,g)}}};Vs.default=dp});var Li=w(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});var fp=ur(),Ui=Ee(),Fs=V(),Fi=Us(),pp={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:n,data:s,it:a}=t;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Fi.default.code(new fp.KeywordCxt(a,Fi.default,"additionalProperties"));let o=Ui.allSchemaProperties(r);for(let _ of o)a.definedProperties.add(_);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=Fs.mergeEvaluated.props(e,Fs.toHash(o),a.props));let u=o.filter(_=>!Fs.alwaysValidSchema(a,r[_]));if(u.length===0)return;let d=e.name("valid");for(let _ of u)f(_)?p(_):(e.if(Ui.propertyInData(e,s,_,a.opts.ownProperties)),p(_),a.allErrors||e.else().var(d,!0),e.endIf()),t.it.definedProperties.add(_),t.ok(d);function f(_){return a.opts.useDefaults&&!a.compositeRule&&r[_].default!==void 0}function p(_){t.subschema({keyword:"properties",schemaProp:_,dataProp:_},d)}}};Ls.default=pp});var Ki=w(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});var xi=Ee(),Zr=R(),hp=V(),zi=V(),mp={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:n,parentSchema:s,it:a}=t,{opts:o}=a,u=xi.schemaProperties(a,r);if(u.length===0)return;let d=o.strictSchema&&!o.allowMatchingProperties&&s.properties,f=e.name("valid");a.props!==!0&&!(a.props instanceof Zr.Name)&&(a.props=zi.evaluatedPropsToName(e,a.props));let{props:p}=a;_();function _(){for(let y of u)d&&$(y),a.allErrors?v(y):(e.var(f,!0),v(y),e.if(f))}function $(y){for(let E in d)new RegExp(y).test(E)&&hp.checkStrictMode(a,`property ${E} matches pattern ${y} (use allowMatchingProperties)`)}function v(y){e.forIn("key",n,E=>{e.if(Zr._`${xi.usePattern(t,y)}.test(${E})`,()=>{t.subschema({keyword:"patternProperties",schemaProp:y,dataProp:E,dataPropType:zi.Type.Str},f),a.opts.unevaluated&&p!==!0?e.assign(Zr._`${p}[${E}]`,!0):a.allErrors||e.if(Zr.not(f),()=>e.break())})})}}};xs.default=mp});var Hi=w(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});var yp=V(),_p={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:n}=t;if(yp.alwaysValidSchema(n,r)){t.fail();return}let s=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),t.result(s,()=>t.error(),()=>t.reset())},error:{message:"must NOT be valid"}};zs.default=_p});var Gi=w(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});var vp=Ee(),gp={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:vp.validateUnion,error:{message:"must match a schema in anyOf"}};Ks.default=gp});var Ji=w(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});var en=R(),$p=V(),Ep={message:"must match exactly one schema in oneOf",params:({params:t})=>en._`{passingSchemas: ${t.passing}}`},wp={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ep,code(t){let{gen:e,schema:r,parentSchema:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let a=r,o=e.let("valid",!1),u=e.let("passing",null),d=e.name("_valid");t.setParams({passing:u}),e.block(f),t.result(o,()=>t.reset(),()=>t.error(!0));function f(){a.forEach((p,_)=>{let $;$p.alwaysValidSchema(s,p)?e.var(d,!0):$=t.subschema({keyword:"oneOf",schemaProp:_,compositeRule:!0},d),_>0&&e.if(en._`${d} && ${o}`).assign(o,!1).assign(u,en._`[${u}, ${_}]`).else(),e.if(d,()=>{e.assign(o,!0),e.assign(u,_),$&&t.mergeEvaluated($,en.Name)})})}}};Hs.default=wp});var Wi=w(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});var Sp=V(),bp={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=e.name("valid");r.forEach((a,o)=>{if(Sp.alwaysValidSchema(n,a))return;let u=t.subschema({keyword:"allOf",schemaProp:o},s);t.ok(s),t.mergeEvaluated(u)})}};Gs.default=bp});var Yi=w(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});var tn=R(),Xi=V(),Pp={message:({params:t})=>tn.str`must match "${t.ifClause}" schema`,params:({params:t})=>tn._`{failingKeyword: ${t.ifClause}}`},Np={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Pp,code(t){let{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&Xi.checkStrictMode(n,\'"if" without "then" and "else" is ignored\');let s=Bi(n,"then"),a=Bi(n,"else");if(!s&&!a)return;let o=e.let("valid",!0),u=e.name("_valid");if(d(),t.reset(),s&&a){let p=e.let("ifClause");t.setParams({ifClause:p}),e.if(u,f("then",p),f("else",p))}else s?e.if(u,f("then")):e.if(tn.not(u),f("else"));t.pass(o,()=>t.error(!0));function d(){let p=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);t.mergeEvaluated(p)}function f(p,_){return()=>{let $=t.subschema({keyword:p},u);e.assign(o,u),t.mergeValidEvaluated($,o),_?e.assign(_,tn._`${p}`):t.setParams({ifClause:p})}}}};function Bi(t,e){let r=t.schema[e];return r!==void 0&&!Xi.alwaysValidSchema(t,r)}Js.default=Np});var Qi=w(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});var Op=V(),Tp={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&Op.checkStrictMode(r,`"${t}" without "if" is ignored`)}};Ws.default=Tp});var Zi=w(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});var Ip=Ds(),Cp=Ci(),Dp=Rs(),Rp=Ri(),Ap=Ai(),jp=qi(),kp=Vi(),qp=Us(),Mp=Li(),Vp=Ki(),Up=Hi(),Fp=Gi(),Lp=Ji(),xp=Wi(),zp=Yi(),Kp=Qi();function Hp(t=!1){let e=[Up.default,Fp.default,Lp.default,xp.default,zp.default,Kp.default,kp.default,qp.default,jp.default,Mp.default,Vp.default];return t?e.push(Cp.default,Rp.default):e.push(Ip.default,Dp.default),e.push(Ap.default),e}Bs.default=Hp});var eu=w(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});var Q=R(),Gp={message:({schemaCode:t})=>Q.str`must match format "${t}"`,params:({schemaCode:t})=>Q._`{format: ${t}}`},Jp={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Gp,code(t,e){let{gen:r,data:n,$data:s,schema:a,schemaCode:o,it:u}=t,{opts:d,errSchemaPath:f,schemaEnv:p,self:_}=u;if(!d.validateFormats)return;s?$():v();function $(){let y=r.scopeValue("formats",{ref:_.formats,code:d.code.formats}),E=r.const("fDef",Q._`${y}[${o}]`),S=r.let("fType"),g=r.let("format");r.if(Q._`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(S,Q._`${E}.type || "string"`).assign(g,Q._`${E}.validate`),()=>r.assign(S,Q._`"string"`).assign(g,E)),t.fail$data(Q.or(T(),re()));function T(){return d.strictSchema===!1?Q.nil:Q._`${o} && !${g}`}function re(){let z=p.$async?Q._`(${E}.async ? await ${g}(${n}) : ${g}(${n}))`:Q._`${g}(${n})`,K=Q._`(typeof ${g} == "function" ? ${z} : ${g}.test(${n}))`;return Q._`${g} && ${g} !== true && ${S} === ${e} && !${K}`}}function v(){let y=_.formats[a];if(!y){T();return}if(y===!0)return;let[E,S,g]=re(y);E===e&&t.pass(z());function T(){if(d.strictSchema===!1){_.logger.warn(K());return}throw new Error(K());function K(){return`unknown format "${a}" ignored in schema at path "${f}"`}}function re(K){let de=K instanceof RegExp?Q.regexpCode(K):d.code.formats?Q._`${d.code.formats}${Q.getProperty(a)}`:void 0,Be=r.scopeValue("formats",{key:a,ref:K,code:de});return typeof K=="object"&&!(K instanceof RegExp)?[K.type||"string",K.validate,Q._`${Be}.validate`]:["string",K,Be]}function z(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!p.$async)throw new Error("async format in sync schema");return Q._`await ${g}(${n})`}return typeof S=="function"?Q._`${g}(${n})`:Q._`${g}.test(${n})`}}}};Xs.default=Jp});var tu=w(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});var Wp=eu(),Bp=[Wp.default];Ys.default=Bp});var ru=w(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.contentVocabulary=Vt.metadataVocabulary=void 0;Vt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Vt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var su=w(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});var Xp=fi(),Yp=Ni(),Qp=Zi(),Zp=tu(),nu=ru(),eh=[Xp.default,Yp.default,Qp.default(),Zp.default,nu.metadataVocabulary,nu.contentVocabulary];Qs.default=eh});var au=w(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.DiscrError=void 0;var th;(function(t){t.Tag="tag",t.Mapping="mapping"})(th=Er.DiscrError||(Er.DiscrError={}))});var ou=w(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});var Ut=R(),Zs=au(),rh={message:({params:{discrError:t,tagName:e}})=>t===Zs.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>Ut._`{error: ${t}, tag: ${r}, tagValue: ${e}}`},nh={keyword:"discriminator",type:"object",schemaType:"object",error:rh,code(t){let{gen:e,data:r,schema:n,parentSchema:s,it:a}=t,{oneOf:o}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");let u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let d=e.let("valid",!1),f=e.const("tag",Ut._`${r}${Ut.getProperty(u)}`);e.if(Ut._`typeof ${f} == "string"`,()=>p(),()=>t.error(!1,{discrError:Zs.DiscrError.Tag,tag:f,tagName:u})),t.ok(d);function p(){let v=$();e.if(!1);for(let y in v)e.elseIf(Ut._`${f} === ${y}`),e.assign(d,_(v[y]));e.else(),t.error(!1,{discrError:Zs.DiscrError.Mapping,tag:f,tagName:u}),e.endIf()}function _(v){let y=e.name("valid"),E=t.subschema({keyword:"oneOf",schemaProp:v},y);return t.mergeEvaluated(E,Ut.Name),y}function $(){var v;let y={},E=g(s),S=!0;for(let z=0;z<o.length;z++){let K=o[z],de=(v=K.properties)===null||v===void 0?void 0:v[u];if(typeof de!="object")throw new Error(`discriminator: oneOf schemas must have "properties/${u}"`);S=S&&(E||g(K)),T(de,z)}if(!S)throw new Error(`discriminator: "${u}" must be required`);return y;function g({required:z}){return Array.isArray(z)&&z.includes(u)}function T(z,K){if(z.const)re(z.const,K);else if(z.enum)for(let de of z.enum)re(de,K);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function re(z,K){if(typeof z!="string"||z in y)throw new Error(`discriminator: "${u}" values must be unique strings`);y[z]=K}}}};ea.default=nh});var iu=w((Jm,sh)=>{sh.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var lu=w((te,cu)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.CodeGen=te.Name=te.nil=te.stringify=te.str=te._=te.KeywordCxt=void 0;var ah=oi(),oh=su(),ih=ou(),uu=iu(),uh=["/properties"],rn="http://json-schema.org/draft-07/schema",nn=class extends ah.default{_addVocabularies(){super._addVocabularies(),oh.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(ih.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(uu,uh):uu;this.addMetaSchema(e,rn,!1),this.refs["http://json-schema.org/schema"]=rn}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(rn)?rn:void 0)}};cu.exports=te=nn;Object.defineProperty(te,"__esModule",{value:!0});te.default=nn;var ch=ur();Object.defineProperty(te,"KeywordCxt",{enumerable:!0,get:function(){return ch.KeywordCxt}});var Ft=R();Object.defineProperty(te,"_",{enumerable:!0,get:function(){return Ft._}});Object.defineProperty(te,"str",{enumerable:!0,get:function(){return Ft.str}});Object.defineProperty(te,"stringify",{enumerable:!0,get:function(){return Ft.stringify}});Object.defineProperty(te,"nil",{enumerable:!0,get:function(){return Ft.nil}});Object.defineProperty(te,"Name",{enumerable:!0,get:function(){return Ft.Name}});Object.defineProperty(te,"CodeGen",{enumerable:!0,get:function(){return Ft.CodeGen}})});var hu=Ke(yn());var za=Ke(Tt());var $e=Ke(Tt()),Ra=(0,$e._)("Error: Token duplicated across multiple inputs"),Aa=(0,$e._)("Error: Item duplicated in layout structure"),ja=(0,$e._)("Error: Input duplicated in both layout structure and global inputs"),ka=(0,$e._)("Error: Input in layout structure does not exist"),qa=(0,$e._)("Error: Input in global input structure does not exist"),Ma=(0,$e._)("Error: Input is not present in the global inputs structure or layout structure"),Va=(0,$e._)("Error: Visualization in layout structure does not exist"),Ua=(0,$e._)("Error: Visualization is not present in layout structure"),Fa=(0,$e._)("When a data source is unnamed, generated tokens for the search results and job status will not be available"),La=(0,$e._)("When a data source is configured with an invalid name, generated tokens for the search results and job status will not be available"),xa=(0,$e._)("When multiple data sources have the same name, generated tokens for the search results and job status may be unpredictable");var fc=Object.freeze({}),Ka=t=>{let e={},r=[],{inputs:n}=t;return Object.entries(n!=null?n:{}).forEach(([s,a])=>{let{token:o}=a.options||fc;o!==void 0&&(o in e?e[o].push(s):e[o]=[s])}),Object.entries(e).forEach(([s,a])=>{if(a.length>1){let o=a[a.length-1],u=a.slice(0,-1).join(", ");r.push({instancePath:Ra,message:(0,za._)(`${u} and ${o} have the same token (${s})`)})}}),r};var Nr=Ke(Tt()),Ha=Ke(yn());var Ga=t=>{let{inputs:e={},layout:{globalInputs:r=[],structure:n=[]}={}}=t,s=[];return Object.keys(e).forEach(a=>{!(r!=null&&r.includes(a))&&(n==null?void 0:n.findIndex(({item:o})=>o===a))===-1&&s.push({instancePath:Ma,message:(0,Nr._)(`Input "${a}" is defined but not used in either the Global Inputs Structure or in the Layout Structure`)})}),r==null||r.forEach((a,o)=>{(0,Ha.isEmpty)(e[a])&&s.push({instancePath:qa,message:(0,Nr._)(`Input item ${o} references an input "${a}" that does not exist`)}),(n==null?void 0:n.findIndex(({item:u})=>u===a))!==-1&&s.push({instancePath:ja,message:(0,Nr._)(`Input "${a}" exists in both layout structure and global inputs`)})}),s};var Or=Ke(Tt());var pc=(t,e)=>!e.has(t)&&/^([ \\w-.]+)$/.test(t),Ja=(t,e=[])=>{let{dataSources:r={}}=t,n=new Set(e),s=new Set,a=new Set;return Object.keys(r).reduce((o,u)=>{var f,p,_;if(!((f=r[u].options)!=null&&f.enableSmartSources))return o;if(typeof r[u].name!="string"||((_=(p=r[u].name)==null?void 0:p.length)!=null?_:0)===0)return o.push({instancePath:(0,Or._)(`Warning: The data source "${u}" is unnamed`),message:Fa}),o;let d=r[u].name;return pc(d,n)?s.has(d)&&!a.has(d)&&(o.push({instancePath:(0,Or._)(`Warning: Multiple data sources are configured with the name "${r[u].name}"`),message:xa}),a.add(d)):o.push({instancePath:(0,Or._)(`Warning: The data source "${d}" has an invalid name`),message:La}),s.add(d),o},[])};var Jt=Ke(Tt()),gn=Ke(Xa());var Ya=t=>{let e=new Set,{visualizations:r={},inputs:n={},layout:{structure:s=[]}={}}=t,a=[];return s==null||s.forEach((o,u)=>{e.has(o.item)&&a.push({instancePath:Aa,message:(0,Jt._)(`Structure item ${u} has the same key "${o.item}" as another structure item`)}),(o.type==="block"||typeof o.type=="undefined")&&!(0,gn.isPlainObject)(r==null?void 0:r[o.item])&&a.push({instancePath:Va,message:(0,Jt._)(`Structure item ${u} references a visualization "${o.item}" that does not exist`)}),o.type==="input"&&!(0,gn.isPlainObject)(n==null?void 0:n[o.item])&&a.push({instancePath:ka,message:(0,Jt._)(`Structure item ${u} references an input "${o.item}" that does not exist`)}),e.add(o.item)}),Object.keys(r).forEach(o=>{e.has(o)||a.push({instancePath:Ua,message:(0,Jt._)(`Visualization "${o}" is not present in Layout Structure`)})}),a};var fu=Ke(lu());var du=(t,e)=>{let r={};return(...n)=>{let s=e(...n);return r[s]||(r[s]=t(...n)),r[s]}};var ta=new fu.default({allErrors:!0,allowMatchingProperties:!0,allowUnionTypes:!0,code:{optimize:typeof Worker=="undefined"?!1:1}}),pu=du(t=>((t==null?void 0:t.$id)&&ta.getSchema(t.$id)&&ta.removeSchema(t.$id),ta.compile(t)),JSON.stringify);var sn=class{constructor(){this.validateDefinition=null}setSchema(e){if(!(e!=null&&e.$id))return null;try{this.validateDefinition=pu(e)}catch(r){return r}return null}validate(e,r){var a,o;if(!this.validateDefinition)throw new Error("setSchema must be called first");if(!this.validateDefinition(e)&&((o=(a=this.validateDefinition)==null?void 0:a.errors)==null?void 0:o.length))return this.validateDefinition.errors;let s=[...Ka(e),...Ya(e),...Ga(e),...Ja(e,r)];return(0,hu.isEmpty)(s)?null:s}};var mu=t=>{let{schema:e,definition:r,readOnlyTokenNamespaces:n}=t.data,s=new sn,a=s.setSchema(e);return a||s.validate(r,n)};var lh=self,dh=t=>postMessage(mu(t));lh.addEventListener("message",dh);\n/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n'],{type:"text/javascript"})),r=new Worker(n);return URL.revokeObjectURL(n),r}var Bs={};qa(Bs,{default:()=>pP});var ru=Pn(Ii());En(Bs,Ii());var pP="default"in ru?ru.default:ru,tr={};qa(tr,{default:()=>mP});var tu=Pn(bs());En(tr,bs());var mP="default"in tu?tu.default:tu,vP=(0,tr._)("Error: Token duplicated across multiple inputs"),yP=(0,tr._)("Error: Item duplicated in layout structure"),gP=(0,tr._)("Error: Input duplicated in both layout structure and global inputs"),_P=(0,tr._)("Error: Input in layout structure does not exist"),bP=(0,tr._)("Error: Input in global input structure does not exist"),EP=(0,tr._)("Error: Input is not present in the global inputs structure or layout structure"),PP=(0,tr._)("Error: Visualization in layout structure does not exist"),wP=(0,tr._)("Error: Visualization is not present in layout structure"),$P=(0,tr._)("When a data source is unnamed, generated tokens for the search results and job status will not be available"),SP=(0,tr._)("When a data source is configured with an invalid name, generated tokens for the search results and job status will not be available"),OP=(0,tr._)("When multiple data sources have the same name, generated tokens for the search results and job status may be unpredictable"),IP=Object.freeze({}),Dd=n=>{let r={},o=[],{inputs:u}=n;return Object.entries(u!=null?u:{}).forEach(([a,c])=>{let{token:h}=c.options||IP;h!==void 0&&(h in r?r[h].push(a):r[h]=[a])}),Object.entries(r).forEach(([a,c])=>{if(c.length>1){let h=c[c.length-1],d=c.slice(0,-1).join(", ");o.push({instancePath:vP,message:(0,tr._)(`${d} and ${h} have the same token (${a})`)})}}),o},Ad=n=>{let{inputs:r={},layout:{globalInputs:o=[],structure:u=[]}={}}=n,a=[];return Object.keys(r).forEach(c=>{!(o!=null&&o.includes(c))&&(u==null?void 0:u.findIndex(({item:h})=>h===c))===-1&&a.push({instancePath:EP,message:(0,tr._)(`Input "${c}" is defined but not used in either the Global Inputs Structure or in the Layout Structure`)})}),o==null||o.forEach((c,h)=>{(0,Bs.isEmpty)(r[c])&&a.push({instancePath:bP,message:(0,tr._)(`Input item ${h} references an input "${c}" that does not exist`)}),(u==null?void 0:u.findIndex(({item:d})=>d===c))!==-1&&a.push({instancePath:gP,message:(0,tr._)(`Input "${c}" exists in both layout structure and global inputs`)})}),a},DP=(n,r)=>!r.has(n)&&/^([ \w-.]+)$/.test(n),AP=(n,r=[])=>{let{dataSources:o={}}=n,u=new Set(r),a=new Set,c=new Set;return Object.keys(o).reduce((h,d)=>{var g,P,b;if(!((g=o[d].options)!=null&&g.enableSmartSources))return h;if(typeof o[d].name!="string"||((b=(P=o[d].name)==null?void 0:P.length)!=null?b:0)===0)return h.push({instancePath:(0,tr._)(`Warning: The data source "${d}" is unnamed`),message:$P}),h;let w=o[d].name;return DP(w,u)?a.has(w)&&!c.has(w)&&(h.push({instancePath:(0,tr._)(`Warning: Multiple data sources are configured with the name "${o[d].name}"`),message:OP}),c.add(w)):h.push({instancePath:(0,tr._)(`Warning: The data source "${w}" has an invalid name`),message:SP}),a.add(w),h},[])},qs={};qa(qs,{default:()=>jP});var au=Pn(Ai());En(qs,Ai());var jP="default"in au?au.default:au,jd=n=>{let r=new Set,{visualizations:o={},inputs:u={},layout:{structure:a=[]}={}}=n,c=[];return a==null||a.forEach((h,d)=>{r.has(h.item)&&c.push({instancePath:yP,message:(0,tr._)(`Structure item ${d} has the same key "${h.item}" as another structure item`)}),(h.type==="block"||typeof h.type=="undefined")&&!(0,qs.isPlainObject)(o==null?void 0:o[h.item])&&c.push({instancePath:PP,message:(0,tr._)(`Structure item ${d} references a visualization "${h.item}" that does not exist`)}),h.type==="input"&&!(0,qs.isPlainObject)(u==null?void 0:u[h.item])&&c.push({instancePath:_P,message:(0,tr._)(`Structure item ${d} references an input "${h.item}" that does not exist`)}),r.add(h.item)}),Object.keys(o).forEach(h=>{r.has(h)||c.push({instancePath:wP,message:(0,tr._)(`Visualization "${h}" is not present in Layout Structure`)})}),c},Rd={};qa(Rd,{default:()=>xd});var nu=Pn(bn());En(Rd,bn());var xd="default"in nu?nu.default:nu,RP=(n,r)=>{let o={};return(...u)=>{let a=r(...u);return o[a]||(o[a]=n(...u)),o[a]}},su=new xd({allErrors:!0,allowMatchingProperties:!0,allowUnionTypes:!0,code:{optimize:typeof Worker=="undefined"?!1:1}}),xP=RP(n=>((n==null?void 0:n.$id)&&su.getSchema(n.$id)&&su.removeSchema(n.$id),su.compile(n)),JSON.stringify),Nd=class{constructor(){this.validateDefinition=null}setSchema(n){if(!(n!=null&&n.$id))return null;try{this.validateDefinition=xP(n)}catch(r){return r}return null}validate(n,r){var o,u;if(!this.validateDefinition)throw new Error("setSchema must be called first");if(!this.validateDefinition(n)&&((u=(o=this.validateDefinition)==null?void 0:o.errors)==null?void 0:u.length))return this.validateDefinition.errors;let c=[...Dd(n),...jd(n),...Ad(n),...AP(n,r)];return(0,Bs.isEmpty)(c)?null:c}},NP=n=>{let{schema:r,definition:o,readOnlyTokenNamespaces:u}=n.data,a=new Nd,c=a.setSchema(r);return c||a.validate(o,u)},TP=({schema:n,definition:r,onError:o,readOnlyTokenNamespaces:u})=>{let a=(0,Rr.useMemo)(()=>Array.from(u!=null?u:[]),[u]),c=(0,Rr.useCallback)(({data:g})=>{g&&o(g)},[o]),h=(0,Rr.useCallback)(g=>{g.postMessage({schema:n,definition:r,readOnlyTokenNamespaces:a})},[n,r,a]),{enabled:d}=hP({WorkerClass:dP,onMessage:c,postMessage:h});return(0,Rr.useEffect)(()=>{d||c({data:NP(new MessageEvent("pseudoValidationEvent",{data:{schema:n,definition:r,readOnlyTokenNamespaces:a}}))})},[r,d,n,a,c]),null},ou=(n,r)=>n===r||JSON.stringify(n)===JSON.stringify(r),CP=(0,Rr.memo)(TP,(n,r)=>n.onError===r.onError&&ou(n.schema,r.schema)&&ou(n.definition,r.definition)&&ou(n.readOnlyTokenNamespaces,r.readOnlyTokenNamespaces))});var Hs=ue(Br=>{/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var kP=Br&&Br.__extends||function(){var n=function(r,o){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,a){u.__proto__=a}||function(u,a){for(var c in a)a.hasOwnProperty(c)&&(u[c]=a[c])},n(r,o)};return function(r,o){n(r,o);function u(){this.constructor=r}r.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}}();Object.defineProperty(Br,"__esModule",{value:!0});var FP=Object.prototype.hasOwnProperty;function cu(n,r){return FP.call(n,r)}Br.hasOwnProperty=cu;function kd(n){if(Array.isArray(n)){for(var r=new Array(n.length),o=0;o<r.length;o++)r[o]=""+o;return r}if(Object.keys)return Object.keys(n);var u=[];for(var a in n)cu(n,a)&&u.push(a);return u}Br._objectKeys=kd;function LP(n){switch(typeof n){case"object":return JSON.parse(JSON.stringify(n));case"undefined":return null;default:return n}}Br._deepClone=LP;function zP(n){for(var r=0,o=n.length,u;r<o;){if(u=n.charCodeAt(r),u>=48&&u<=57){r++;continue}return!1}return!0}Br.isInteger=zP;function uu(n){return n.indexOf("/")===-1&&n.indexOf("~")===-1?n:n.replace(/~/g,"~0").replace(/\//g,"~1")}Br.escapePathComponent=uu;function MP(n){return n.replace(/~1/g,"/").replace(/~0/g,"~")}Br.unescapePathComponent=MP;function fu(n,r){var o;for(var u in n)if(cu(n,u)){if(n[u]===r)return uu(u)+"/";if(typeof n[u]=="object"&&(o=fu(n[u],r),o!=""))return uu(u)+"/"+o}return""}Br._getPathRecursive=fu;function UP(n,r){if(n===r)return"/";var o=fu(n,r);if(o==="")throw new Error("Object not found in root");return"/"+o}Br.getPath=UP;function lu(n){if(n===void 0)return!0;if(n){if(Array.isArray(n)){for(var r=0,o=n.length;r<o;r++)if(lu(n[r]))return!0}else if(typeof n=="object"){for(var u=kd(n),a=u.length,c=0;c<a;c++)if(lu(n[u[c]]))return!0}}return!1}Br.hasUndefined=lu;function Cd(n,r){var o=[n];for(var u in r){var a=typeof r[u]=="object"?JSON.stringify(r[u],null,2):r[u];typeof a!="undefined"&&o.push(u+": "+a)}return o.join(`
`)}var qP=function(n){kP(r,n);function r(o,u,a,c,h){var d=this.constructor,g=n.call(this,Cd(o,{name:u,index:a,operation:c,tree:h}))||this;return g.name=u,g.index=a,g.operation=c,g.tree=h,Object.setPrototypeOf(g,d.prototype),g.message=Cd(o,{name:u,index:a,operation:c,tree:h}),g}return r}(Error);Br.PatchError=qP});var hu=ue(qe=>{Object.defineProperty(qe,"__esModule",{value:!0});var Qr=Hs();qe.JsonPatchError=Qr.PatchError;qe.deepClone=Qr._deepClone;var Va={add:function(n,r,o){return n[r]=this.value,{newDocument:o}},remove:function(n,r,o){var u=n[r];return delete n[r],{newDocument:o,removed:u}},replace:function(n,r,o){var u=n[r];return n[r]=this.value,{newDocument:o,removed:u}},move:function(n,r,o){var u=Ws(o,this.path);u&&(u=Qr._deepClone(u));var a=wa(o,{op:"remove",path:this.from}).removed;return wa(o,{op:"add",path:this.path,value:a}),{newDocument:o,removed:u}},copy:function(n,r,o){var u=Ws(o,this.from);return wa(o,{op:"add",path:this.path,value:Qr._deepClone(u)}),{newDocument:o}},test:function(n,r,o){return{newDocument:o,test:wn(n[r],this.value)}},_get:function(n,r,o){return this.value=n[r],{newDocument:o}}},VP={add:function(n,r,o){return Qr.isInteger(r)?n.splice(r,0,this.value):n[r]=this.value,{newDocument:o,index:r}},remove:function(n,r,o){var u=n.splice(r,1);return{newDocument:o,removed:u[0]}},replace:function(n,r,o){var u=n[r];return n[r]=this.value,{newDocument:o,removed:u}},move:Va.move,copy:Va.copy,test:Va.test,_get:Va._get};function Ws(n,r){if(r=="")return n;var o={op:"_get",path:r};return wa(n,o),o.value}qe.getValueByPointer=Ws;function wa(n,r,o,u,a,c){if(o===void 0&&(o=!1),u===void 0&&(u=!0),a===void 0&&(a=!0),c===void 0&&(c=0),o&&(typeof o=="function"?o(r,0,n,r.path):Ks(r,0)),r.path===""){var h={newDocument:n};if(r.op==="add")return h.newDocument=r.value,h;if(r.op==="replace")return h.newDocument=r.value,h.removed=n,h;if(r.op==="move"||r.op==="copy")return h.newDocument=Ws(n,r.from),r.op==="move"&&(h.removed=n),h;if(r.op==="test"){if(h.test=wn(n,r.value),h.test===!1)throw new qe.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",c,r,n);return h.newDocument=n,h}else{if(r.op==="remove")return h.removed=n,h.newDocument=null,h;if(r.op==="_get")return r.value=n,h;if(o)throw new qe.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",c,r,n);return h}}else{u||(n=Qr._deepClone(n));var d=r.path||"",g=d.split("/"),P=n,b=1,w=g.length,$=void 0,m=void 0,D=void 0;for(typeof o=="function"?D=o:D=Ks;;){if(m=g[b],m&&m.indexOf("~")!=-1&&(m=Qr.unescapePathComponent(m)),a&&(m=="__proto__"||m=="prototype"&&b>0&&g[b-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(o&&$===void 0&&(P[m]===void 0?$=g.slice(0,b).join("/"):b==w-1&&($=r.path),$!==void 0&&D(r,0,n,$)),b++,Array.isArray(P)){if(m==="-")m=P.length;else{if(o&&!Qr.isInteger(m))throw new qe.JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",c,r,n);Qr.isInteger(m)&&(m=~~m)}if(b>=w){if(o&&r.op==="add"&&m>P.length)throw new qe.JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",c,r,n);var h=VP[r.op].call(r,P,m,n);if(h.test===!1)throw new qe.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",c,r,n);return h}}else if(b>=w){var h=Va[r.op].call(r,P,m,n);if(h.test===!1)throw new qe.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",c,r,n);return h}if(P=P[m],o&&b<w&&(!P||typeof P!="object"))throw new qe.JsonPatchError("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",c,r,n)}}}qe.applyOperation=wa;function Fd(n,r,o,u,a){if(u===void 0&&(u=!0),a===void 0&&(a=!0),o&&!Array.isArray(r))throw new qe.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");u||(n=Qr._deepClone(n));for(var c=new Array(r.length),h=0,d=r.length;h<d;h++)c[h]=wa(n,r[h],o,!0,a,h),n=c[h].newDocument;return c.newDocument=n,c}qe.applyPatch=Fd;function BP(n,r,o){var u=wa(n,r);if(u.test===!1)throw new qe.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",o,r,n);return u.newDocument}qe.applyReducer=BP;function Ks(n,r,o,u){if(typeof n!="object"||n===null||Array.isArray(n))throw new qe.JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",r,n,o);if(Va[n.op]){if(typeof n.path!="string")throw new qe.JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",r,n,o);if(n.path.indexOf("/")!==0&&n.path.length>0)throw new qe.JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",r,n,o);if((n.op==="move"||n.op==="copy")&&typeof n.from!="string")throw new qe.JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",r,n,o);if((n.op==="add"||n.op==="replace"||n.op==="test")&&n.value===void 0)throw new qe.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",r,n,o);if((n.op==="add"||n.op==="replace"||n.op==="test")&&Qr.hasUndefined(n.value))throw new qe.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",r,n,o);if(o){if(n.op=="add"){var a=n.path.split("/").length,c=u.split("/").length;if(a!==c+1&&a!==c)throw new qe.JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",r,n,o)}else if(n.op==="replace"||n.op==="remove"||n.op==="_get"){if(n.path!==u)throw new qe.JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",r,n,o)}else if(n.op==="move"||n.op==="copy"){var h={op:"_get",path:n.from,value:void 0},d=Ld([h],o);if(d&&d.name==="OPERATION_PATH_UNRESOLVABLE")throw new qe.JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",r,n,o)}}}else throw new qe.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",r,n,o)}qe.validator=Ks;function Ld(n,r,o){try{if(!Array.isArray(n))throw new qe.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(r)Fd(Qr._deepClone(r),Qr._deepClone(n),o||!0);else{o=o||Ks;for(var u=0;u<n.length;u++)o(n[u],u,r,void 0)}}catch(a){if(a instanceof qe.JsonPatchError)return a;throw a}}qe.validate=Ld;function wn(n,r){if(n===r)return!0;if(n&&r&&typeof n=="object"&&typeof r=="object"){var o=Array.isArray(n),u=Array.isArray(r),a,c,h;if(o&&u){if(c=n.length,c!=r.length)return!1;for(a=c;a--!==0;)if(!wn(n[a],r[a]))return!1;return!0}if(o!=u)return!1;var d=Object.keys(n);if(c=d.length,c!==Object.keys(r).length)return!1;for(a=c;a--!==0;)if(!r.hasOwnProperty(d[a]))return!1;for(a=c;a--!==0;)if(h=d[a],!wn(n[h],r[h]))return!1;return!0}return n!==n&&r!==r}qe._areEquals=wn});var zd=ue(Ba=>{Object.defineProperty(Ba,"__esModule",{value:!0});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var xr=Hs(),HP=hu(),pu=new WeakMap,WP=function(){function n(r){this.observers=new Map,this.obj=r}return n}(),KP=function(){function n(r,o){this.callback=r,this.observer=o}return n}();function GP(n){return pu.get(n)}function JP(n,r){return n.observers.get(r)}function QP(n,r){n.observers.delete(r.callback)}function ZP(n,r){r.unobserve()}Ba.unobserve=ZP;function YP(n,r){var o=[],u,a=GP(n);if(!a)a=new WP(n),pu.set(n,a);else{var c=JP(a,r);u=c&&c.observer}if(u)return u;if(u={},a.value=xr._deepClone(n),r){u.callback=r,u.next=null;var h=function(){du(u)},d=function(){clearTimeout(u.next),u.next=setTimeout(h)};typeof window!="undefined"&&(window.addEventListener("mouseup",d),window.addEventListener("keyup",d),window.addEventListener("mousedown",d),window.addEventListener("keydown",d),window.addEventListener("change",d))}return u.patches=o,u.object=n,u.unobserve=function(){du(u),clearTimeout(u.next),QP(a,u),typeof window!="undefined"&&(window.removeEventListener("mouseup",d),window.removeEventListener("keyup",d),window.removeEventListener("mousedown",d),window.removeEventListener("keydown",d),window.removeEventListener("change",d))},a.observers.set(r,new KP(r,u)),u}Ba.observe=YP;function du(n,r){r===void 0&&(r=!1);var o=pu.get(n.object);mu(o.value,n.object,n.patches,"",r),n.patches.length&&HP.applyPatch(o.value,n.patches);var u=n.patches;return u.length>0&&(n.patches=[],n.callback&&n.callback(u)),u}Ba.generate=du;function mu(n,r,o,u,a){if(r!==n){typeof r.toJSON=="function"&&(r=r.toJSON());for(var c=xr._objectKeys(r),h=xr._objectKeys(n),d=!1,g=!1,P=h.length-1;P>=0;P--){var b=h[P],w=n[b];if(xr.hasOwnProperty(r,b)&&!(r[b]===void 0&&w!==void 0&&Array.isArray(r)===!1)){var $=r[b];typeof w=="object"&&w!=null&&typeof $=="object"&&$!=null&&Array.isArray(w)===Array.isArray($)?mu(w,$,o,u+"/"+xr.escapePathComponent(b),a):w!==$&&(d=!0,a&&o.push({op:"test",path:u+"/"+xr.escapePathComponent(b),value:xr._deepClone(w)}),o.push({op:"replace",path:u+"/"+xr.escapePathComponent(b),value:xr._deepClone($)}))}else Array.isArray(n)===Array.isArray(r)?(a&&o.push({op:"test",path:u+"/"+xr.escapePathComponent(b),value:xr._deepClone(w)}),o.push({op:"remove",path:u+"/"+xr.escapePathComponent(b)}),g=!0):(a&&o.push({op:"test",path:u,value:n}),o.push({op:"replace",path:u,value:r}),d=!0)}if(!(!g&&c.length==h.length))for(var P=0;P<c.length;P++){var b=c[P];!xr.hasOwnProperty(n,b)&&r[b]!==void 0&&o.push({op:"add",path:u+"/"+xr.escapePathComponent(b),value:xr._deepClone(r[b])})}}}function XP(n,r,o){o===void 0&&(o=!1);var u=[];return mu(n,r,u,"",o),u}Ba.compare=XP});var vu=ue($a=>{var ew=hu();Object.assign($a,ew);var rw=zd();Object.assign($a,rw);var Gs=Hs();$a.JsonPatchError=Gs.PatchError;$a.deepClone=Gs._deepClone;$a.escapePathComponent=Gs.escapePathComponent;$a.unescapePathComponent=Gs.unescapePathComponent});var Xd=ue((H$,Yd)=>{"use strict";var tw=Object.create,Dn=Object.defineProperty,aw=Object.defineProperties,nw=Object.getOwnPropertyDescriptor,sw=Object.getOwnPropertyDescriptors,ow=Object.getOwnPropertyNames,Md=Object.getOwnPropertySymbols,iw=Object.getPrototypeOf,Vd=Object.prototype.hasOwnProperty,uw=Object.prototype.propertyIsEnumerable,Ud=(n,r,o)=>r in n?Dn(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,me=(n,r)=>{for(var o in r||(r={}))Vd.call(r,o)&&Ud(n,o,r[o]);if(Md)for(var o of Md(r))uw.call(r,o)&&Ud(n,o,r[o]);return n},ve=(n,r)=>aw(n,sw(r)),Sa=(n,r)=>{for(var o in r)Dn(n,o,{get:r[o],enumerable:!0})},Zs=(n,r,o,u)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of ow(r))!Vd.call(n,a)&&a!==o&&Dn(n,a,{get:()=>r[a],enumerable:!(u=nw(r,a))||u.enumerable});return n},Ha=(n,r,o)=>(Zs(n,r,"default"),o&&Zs(o,r,"default")),Wa=(n,r,o)=>(o=n!=null?tw(iw(n)):{},Zs(r||!n||!n.__esModule?Dn(o,"default",{value:n,enumerable:!0}):o,n)),lw=n=>Zs(Dn({},"__esModule",{value:!0}),n),Bd={};Sa(Bd,{DEFAULT_DEFINITION:()=>Sw,DashboardDefinition:()=>Ow,GLOBAL_TRP_TOKEN_NAME:()=>Js,combineSchema:()=>$n,createComponentDict:()=>Sn,createMonacoSchema:()=>Pw,createSchemaBasedOnDicts:()=>Kd,createSchemaBasedOnPresets:()=>ww,createSimpleDSSchema:()=>Aw,createSimpleInputSchema:()=>jw,createSimpleVizSchema:()=>Dw,createTestSchema:()=>Iw,defaultSchema:()=>Gd,generateId:()=>On,getDefaultOptionsForDataSourceType:()=>Qs,getDefaultStaticTokens:()=>Jd,getDefaultsForVisualizationType:()=>Ou,getGlobalDefaultsForVisualizations:()=>Su,hasDuplicateId:()=>Qd,normalizeLayoutStructure:()=>$u});Yd.exports=lw(Bd);var U={};Sa(U,{default:()=>cw});var yu=Wa(vn());Ha(U,vn());var cw="default"in yu?yu.default:yu,ir={};Sa(ir,{default:()=>fw});var gu=Wa(af());Ha(ir,af());var fw="default"in gu?gu.default:gu,In={};Sa(In,{default:()=>hw});var _u=Wa(iu());Ha(In,iu());var hw="default"in _u?_u.default:_u,Iu={};Sa(Iu,{default:()=>dw});var bu=Wa(bs());Ha(Iu,bs());var dw="default"in bu?bu.default:bu,Hd={};Sa(Hd,{default:()=>Wd});var Eu=Wa(bn());Ha(Hd,bn());var Wd="default"in Eu?Eu.default:Eu,Du={};Sa(Du,{default:()=>pw});var Pu=Wa(vu());Ha(Du,vu());var pw="default"in Pu?Pu.default:Pu,Hr="^[a-zA-Z0-9_-]*$",mw=`^${ir.TOKEN_NAME_CHARS_PATTERN}$`,Au={type:"array",items:{type:"object",properties:{type:{type:"string"},options:{type:"object",nullable:!0,properties:{url:{type:"string",nullable:!0},newTab:{type:"boolean",nullable:!0},key:{type:"string",nullable:!0},value:{type:"string",nullable:!0},app:{type:"string",nullable:!0},dashboard:{type:"string",nullable:!0},tokens:{type:"array",nullable:!0,items:{type:"object",properties:{token:{type:"string"},key:{type:"string",nullable:!0,description:"Fetches the data from the event using this key."},value:{type:"string",nullable:!0,description:"Specify a static value."}},required:["token"],oneOf:[{required:["key"]},{required:["value"]}]}},tokenNamespace:{type:"string",nullable:!0},events:{type:"array",items:{type:"string"},nullable:!0}}}},required:["type"],additionalProperties:!1},nullable:!0},vw={type:"object",nullable:!0,required:[],additionalProperties:!1,patternProperties:{[Hr]:{type:"object",properties:{type:{type:"string"},options:{type:"object",nullable:!0},name:{type:"string",nullable:!0},meta:{type:"object"},extend:{type:"string"},eventHandlers:Au},required:["type"],additionalProperties:!1}}},yw={type:"object",required:[],nullable:!0,additionalProperties:!1,patternProperties:{[Hr]:{type:"object",properties:{context:{type:"object",nullable:!0},type:{type:"string"},options:{type:"object",nullable:!0},encoding:{type:"object",nullable:!0},dataSources:{type:"object",patternProperties:{[Hr]:{type:"string"}},required:[],nullable:!0},eventHandlers:Au,title:{type:"string",nullable:!0},description:{type:"string",nullable:!0},showProgressBar:{type:"boolean",nullable:!0},showLastUpdated:{type:"boolean",nullable:!0},hideWhenNoData:{type:"boolean",nullable:!0}},required:["type"],additionalProperties:!1}}},gw={type:"object",nullable:!0,required:[],additionalProperties:!1,patternProperties:{[Hr]:{type:"object",properties:{context:{type:"object",nullable:!0},type:{type:"string"},options:{type:"object",nullable:!0},encoding:{type:"object",nullable:!0},dataSources:{type:"object",nullable:!0,required:[],patternProperties:{[Hr]:{type:"string"}}},title:{type:"string",nullable:!0},eventHandlers:Au,showProgressBar:{type:"boolean",nullable:!0},showLastUpdated:{type:"boolean",nullable:!0},canvasAlignment:{type:"string",anyOf:[{enum:["top","bottom","center"]},{pattern:"^[$].*[$]$"}],nullable:!0},hideWhenNoData:{type:"boolean",nullable:!0}},required:["type"],additionalProperties:!1}}},_w={type:"object",nullable:!0,required:["type"],additionalProperties:!1,properties:{type:{type:"string"},options:{type:"object",nullable:!0},globalInputs:{type:"array",items:{type:"string"},nullable:!0},structure:{type:"array",items:{type:"object",nullable:!0,required:[]},nullable:!0}}},bw={type:"object",nullable:!0,properties:{inputs:{type:"object",nullable:!0,required:[]},visualizations:{type:"object",nullable:!0,required:[],additionalProperties:!1},dataSources:{type:"object",nullable:!0,required:[],properties:{global:{type:"object",nullable:!0}},patternProperties:{[Hr]:{type:"object",nullable:!0}}},tokens:{type:"object",nullable:!0,required:[],patternProperties:{[Hr]:{type:"object",required:[],patternProperties:{[Hr]:{type:"object",required:["value"],properties:{value:{type:"string"}}}}}}}}},Ew={type:"object",nullable:!0,additionalProperties:!1,properties:{conditions:{type:"object",nullable:!0,additionalProperties:!1,required:[],patternProperties:{[mw]:{type:"object",additionalProperties:!1,required:["value"],properties:{value:{type:"string"}}}}}}},ju={$id:"http://www.splunk.com/dashboard.schema.json",title:"Dashboard Definition",description:"Dashboard Definition",type:"object",properties:{version:{type:"string",nullable:!0},title:{type:"string",nullable:!0},description:{type:"string",nullable:!0},dataSources:vw,visualizations:yw,inputs:gw,defaults:bw,layout:_w,expressions:Ew},required:[]},Pw=({newSchema:n={},modelUri:r})=>{let o=(0,U.isEmpty)(n)?ju:n;return[{uri:"http://splunk/json-schema.json",fileMatch:[r],schema:o}]},$n=(n,r=!0)=>{let o=[];return(0,U.each)(n,(u,a)=>{if(!(0,U.isEmpty)(u)){let c={if:{properties:{type:{const:a}}},then:{properties:{options:u!=null&&u.extend?u.extend:{type:"object",properties:u,additionalProperties:r}}}};o.push(c)}}),o},Kd=({layoutDict:n={},dataSourceDict:r={},visualizationDict:o={},inputDict:u={}})=>{let a=$n(n),c=$n(r),h=$n(o),d=$n(u,!1),g=(0,U.cloneDeep)(ju);return(0,U.isEmpty)(n)||(0,U.set)(g,"properties.layout.properties.type.enum",Object.keys(n)),(0,U.isEmpty)(a)||(0,U.set)(g,"properties.layout.allOf",a),(0,U.isEmpty)(u)||(0,U.set)(g,["properties","inputs","patternProperties",Hr,"properties","type","enum"],Object.keys(u)),(0,U.isEmpty)(d)||(0,U.set)(g,["properties","inputs","patternProperties",Hr,"allOf"],d),(0,U.isEmpty)(o)||((0,U.set)(g,["properties","visualizations","patternProperties",Hr,"properties","type","enum"],Object.keys(o)),(0,U.set)(g,["properties","defaults","properties","visualizations","properties","global"],{type:"object",nullable:!0,additionalProperties:!1,properties:{context:{type:"object",nullable:!0},showLastUpdated:{type:"boolean",default:!1,nullable:!0},showProgressBar:{type:"boolean",default:!1,nullable:!0}}}),Object.entries(o).forEach(([P,b])=>(0,U.set)(g,["properties","defaults","properties","visualizations","properties",P],{type:"object",nullable:!0,additionalProperties:!1,properties:{context:{type:"object",nullable:!0},showLastUpdated:{type:"boolean",default:!1,nullable:!0},showProgressBar:{type:"boolean",default:!1,nullable:!0},options:{type:"object",properties:b,nullable:!0,additionalProperties:!1}}}))),(0,U.isEmpty)(h)||(0,U.set)(g,["properties","visualizations","patternProperties",Hr,"allOf"],h),(0,U.isEmpty)(r)||(0,U.set)(g,["properties","dataSources","patternProperties",Hr,"properties","type","enum"],Object.keys(r)),(0,U.isEmpty)(c)||(0,U.set)(g,["properties","dataSources","patternProperties",Hr,"allOf"],c),g},Sn=n=>{let r={};return(0,U.each)(n,(o,u)=>{var a;r[u]=((a=o==null?void 0:o.config)==null?void 0:a.optionsSchema)||(o==null?void 0:o.schema)}),r},ww=n=>{let r=Sn(n.layouts),o=Sn(n.dataSources),u=Sn(n.visualizations),a=Sn(n.inputs);return Kd({layoutDict:r,dataSourceDict:o,visualizationDict:u,inputDict:a})},Gd=ju,qd=n=>`${n}_${(0,ir.uniqueId)()}`,wu=new Wd({allErrors:!0,allowMatchingProperties:!0,allowUnionTypes:!0}),$w=(0,U.memoize)(n=>(wu.getSchema(n.$id)&&wu.removeSchema(n.$id),wu.compile(n)),n=>(0,ir.hashString)(JSON.stringify(n))),$u=n=>{let r=(0,U.get)(n,"layout",{}),u=(0,U.get)(n,"layout.structure",[]).map((a,c)=>ve(me({},a),{layer:c}));return ve(me({},n),{layout:ve(me({},r),{structure:(0,U.keyBy)(u,"item")})})},Js="global_time",Sw={visualizations:{},dataSources:{},defaults:{dataSources:{global:{options:{queryParameters:{latest:`$${Js}.latest$`,earliest:`$${Js}.earliest$`}}}}},inputs:{input_global_trp:{type:"input.timerange",options:{token:`${Js}`,defaultValue:"-24h@h,now"},title:(0,Iu._)("Global Time Range")}},layout:{type:"absolute",options:{},structure:[],globalInputs:["input_global_trp"]}},Qs=(n,r)=>{if(!n||!r)return{};let o=(0,U.get)(n,"dataSources.global.options",{}),u=(0,U.get)(n,["dataSources",r,"options"],{}),a=(0,U.defaultsDeep)({},u,o);return(0,U.omit)(a,["query"])},Jd=(n,r=new Set)=>{var o;let u=(o=n.defaults)==null?void 0:o.tokens,a={};return u&&Object.keys(u).forEach(c=>{var h;r.has(c)||((h=a[c])!=null||(a[c]={}),Object.keys(u[c]).forEach(d=>{let{value:g}=u[c][d];typeof g=="string"&&(a[c][d]=g)}))}),a},On=(n,r=()=>!1)=>{let o=qd(n);for(;r(o);)o=qd(n);return o},Qd=(n,r)=>JSON.stringify(n).indexOf(`"${r}"`)!==-1,Su=n=>{var r,o;let{showProgressBar:u=!1,showLastUpdated:a=!1,context:c={}}=(o=(r=n==null?void 0:n.visualizations)==null?void 0:r.global)!=null?o:{};return{showProgressBar:u,showLastUpdated:a,context:c}},Ou=(n,r)=>{var o,u;let{showProgressBar:a,showLastUpdated:c,context:h={},options:d={}}=(u=(o=n==null?void 0:n.visualizations)==null?void 0:o[r])!=null?u:{},g={options:d,context:h};return typeof a=="boolean"&&(g.showProgressBar=a),typeof c=="boolean"&&(g.showLastUpdated=c),g},Zd=class{constructor(n={}){this.checkDuplicateTokens=()=>(0,In.checkDuplicateTokens)(this.definition),this.checkVisualizationsInStructure=()=>(0,In.checkVisualizationsInStructure)(this.definition),this.checkInputsInStructure=()=>(0,In.checkInputsInStructure)(this.definition),this.definition=n}static fromJSON(n={}){return new Zd(n)}static flattenDataSources(n,r){let o={},u={};return(0,U.each)(n,(a,c)=>{let h=(0,U.get)(a,"type"),d=(0,U.cloneDeep)((0,U.get)(a,"options"));o[h]||(o[h]=Qs(r,h));let g=o[h];u[c]=ve(me({},a),{options:(0,U.defaultsDeep)(d,g)})}),u}static flattenVisualizations(n,r){let o=new Map,u=Su(r),a={};return(0,U.each)(n,(c,h)=>{if(!o.has(c.type)){let g=Ou(r,c.type);o.set(c.type,g)}let d=o.get(c.type);a[h]=(0,U.defaultsDeep)({},c,d,u)}),a}setSchema(n){if((0,ir.deprecated)("This method is deprecated, please use the DashboardValidator class validation methods from @splunk/dashboard-validation"),!n.$id)return null;try{this.validateDefinition=$w(n)}catch(r){return r}return null}validate(){var n,r,o;if(this.validateDefinition?(0,ir.deprecated)("This method is deprecated, please use the DashboardValidator class validation methods from @splunk/dashboard-validation"):this.setSchema(Gd),!((n=this.validateDefinition)==null?void 0:n.call(this,this.definition))&&((o=(r=this.validateDefinition)==null?void 0:r.errors)==null?void 0:o.length))return(0,U.cloneDeep)(this.validateDefinition.errors);let a=[...this.checkDuplicateTokens(),...this.checkVisualizationsInStructure(),...this.checkInputsInStructure()];return(0,U.isEmpty)(a)?null:a}updateDashboard({title:n,desc:r}){return(0,U.isString)(n)&&(this.definition=ve(me({},this.definition),{title:n&&n.trim()||""})),r&&(this.definition=ve(me({},this.definition),{description:r})),this}addDataSource(n,r){return r?(this.definition=ve(me({},this.definition),{dataSources:ve(me({},this.definition.dataSources),{[n]:r})}),this):this}addVisualization(n,r){return this.updateVisualization(n,r)}addInput(n,r){let o=(0,U.get)(r,"options.token",this.nextTokenId()),u=(0,U.get)(r,"type","input.text");return this.definition=ve(me({},this.definition),{inputs:ve(me({},this.definition.inputs),{[n]:ve(me({},r),{type:u,options:ve(me({},r==null?void 0:r.options),{token:o})})})}),this}addInputToLayout(n){let r=this.getGlobalInputs();return this.updateGlobalInputs([...r,n])}removeInputFromLayout(n){let r=this.getGlobalInputs().filter(o=>o!==n);return this.updateGlobalInputs(r)}updateGlobalInputs(n=[]){return this.definition=ve(me({},this.definition),{layout:ve(me({type:"absolute"},this.definition.layout),{globalInputs:n})}),this}cloneDataSource(n){let r=this.getDataSource(n);if(!r)return null;let{name:o}=r,u=/ copy (\d+)$/;if(o){let c=o.replace(u,""),g=Object.values(this.definition.dataSources).map(P=>P.name).filter(P=>P==null?void 0:P.includes(c)).reduce((P,b)=>{let w=b==null?void 0:b.match(u),$=w?parseInt(w[1],10)+1:1;return Math.max(P,$)},1);r=ve(me({},r),{name:`${c} copy ${g}`})}let a=`${this.nextDataSourceId()}_${n}`;return this.addDataSource(a,r),a}cloneDataSourcesFromItemDef(n){if((0,U.isEmpty)(n==null?void 0:n.dataSources))return;let r={};return(0,U.each)(n.dataSources,(o,u)=>{if(this.getDataSource(o)){let a=this.cloneDataSource(o);r[u]=a}}),r}cloneVisualization(n,r){if(!r)return null;let o=this.getVisualization(n);if(!o)return null;let u=me({},o),a=this.cloneDataSourcesFromItemDef(o);return a&&(u.dataSources=a),this.addVisualization(r,u),r}cloneInput(n,r){var o;if(!r)return null;let u=this.getInput(n);if(!u)return null;let a=(0,U.cloneDeep)(u);(o=a.options)!=null||(a.options={}),a.options.token=this.nextTokenId();let c=this.cloneDataSourcesFromItemDef(u);return c&&(a.dataSources=c),this.addInput(r,a),r}removeDataSource(n){return this.definition=ve(me({},this.definition),{dataSources:(0,U.omit)(this.definition.dataSources,[n])}),this}removeVisualization(n){return this.definition=ve(me({},this.definition),{visualizations:(0,U.omit)(this.definition.visualizations,[n])}),this}removeInput(n){return this.definition=ve(me({},this.definition),{inputs:(0,U.omit)(this.definition.inputs,[n])}),this}removeDefaultStaticToken({tokenName:n,namespace:r=ir.DEFAULT_TOKEN_NAMESPACE}){var o,u,a,c,h;let d=(0,U.cloneDeep)(this.definition);return(u=(o=d.defaults)==null?void 0:o.tokens)!=null&&u[r]&&delete d.defaults.tokens[r][n],((c=(a=d.defaults)==null?void 0:a.tokens)==null?void 0:c[r])&&(0,U.isEmpty)(d.defaults.tokens[r])&&delete d.defaults.tokens[r],((h=d.defaults)==null?void 0:h.tokens)&&(0,U.isEmpty)(d.defaults.tokens)&&delete d.defaults.tokens,d.defaults&&(0,U.isEmpty)(d.defaults)&&delete d.defaults,this.definition=d,this}updateLayoutType(n){return this.definition=ve(me({},this.definition),{layout:ve(me({},this.definition.layout),{type:n})}),this}updateLayoutOptions(n){return this.definition=ve(me({},this.definition),{layout:ve(me({type:"absolute"},this.definition.layout),{options:n})}),this}updateLayoutStructure(n){return this.definition=ve(me({},this.definition),{layout:ve(me({type:"absolute"},this.definition.layout),{structure:n})}),this}updateVisualization(n,r){return r?(this.definition=ve(me({},this.definition),{visualizations:ve(me({},this.definition.visualizations),{[n]:r})}),this):this}updateDataSource(n,r){return!r||(0,U.isEqual)(r,(0,U.get)(this.definition,["dataSources",n]))?this:(this.definition=ve(me({},this.definition),{dataSources:ve(me({},this.definition.dataSources),{[n]:r})}),this)}updateInput(n,r){return r?(this.definition=ve(me({},this.definition),{inputs:ve(me({},this.definition.inputs),{[n]:r})}),this):this}setDefaultStaticToken({tokenName:n,defaultValue:r,namespace:o=ir.DEFAULT_TOKEN_NAMESPACE}){var u,a,c;return r?this.definition=ve(me({},this.definition),{defaults:ve(me({},this.definition.defaults),{tokens:ve(me({},(u=this.definition.defaults)==null?void 0:u.tokens),{[o]:ve(me({},(c=(a=this.definition.defaults)==null?void 0:a.tokens)==null?void 0:c[o]),{[n]:{value:r}})})})}):this.removeDefaultStaticToken({tokenName:n,namespace:o}),this}toJSON(){return this.definition}getLayoutStructure(){let n=(0,U.get)(this.definition,"layout.structure");return Array.isArray(n)?n:[]}getLayoutType(){return(0,U.get)(this.definition,"layout.type")}getValidatedLayoutType(){let n=this.getLayoutType();if(n!=="grid"&&n!=="absolute")throw new TypeError(`${n} is not supported by this api`);return n}getLayoutOptions(){return(0,U.get)(this.definition,"layout.options")||{}}getVisualization(n){return(0,U.get)(this.definition,`visualizations["${n}"]`,null)}getVisualizationWithFlattenedDefaults(n){let r=this.getVisualization(n);if(!r)return null;let o=this.getDefaults(),u=Su(o),a=Ou(o,r.type);return(0,ir.deepMergeWithDefaults)(r,a,u)}getVisualizationIds(){return Object.keys((0,U.get)(this.definition,"visualizations",{}))}getDataSource(n){return(0,U.get)(this.definition,`dataSources["${n}"]`,null)}canBeBaseDataSource(n,r=0){let o=(0,U.get)(this.getDataSource(n),"options.extend",""),u=r<ir.MAX_CHAIN_LENGTH;return o&&u?this.canBeBaseDataSource(o,r+1):u}getBaseDataSources(){let n=(0,U.get)(this.definition,"dataSources",{});return(0,U.pickBy)(n,(r,o)=>this.canBeBaseDataSource(o))}getDataSourceDefaultOptions(n){let r=(0,U.get)(this.getDataSource(n),"type");return r?Qs(this.getDefaults(),r):null}getInput(n){return(0,U.get)(this.definition,["inputs",n],null)}getGlobalInputs(){return(0,U.get)(this.definition,"layout.globalInputs",[]).slice()}getInputByToken(n){if(!n)return null;let r=(0,U.get)(this.definition,"inputs");return(0,U.find)(r,o=>(0,U.get)(o,"options.token")===n)||null}getVisualizationType(n){var r,o;return((o=(r=this.definition.visualizations)==null?void 0:r[n])==null?void 0:o.type)||null}getInputType(n){var r,o;return((o=(r=this.definition.inputs)==null?void 0:r[n])==null?void 0:o.type)||null}getItemPresetType(n){return this.getVisualizationType(n)||this.getInputType(n)||void 0}getEventHandlers(n,r="visualizations"){if(!n)return[];let o=(0,U.get)(this.definition,[r,n],null);return o&&Array.isArray(o.eventHandlers)&&o.eventHandlers||[]}createEventHandler(n,r,o="visualizations"){var u;if((0,U.get)(this.definition,[o,n],null)==null)return this;let c=[...this.getEventHandlers(n,o),r];return this.definition=ve(me({},this.definition),{[o]:ve(me({},this.definition[o]),{[n]:ve(me({},(u=this.definition[o])==null?void 0:u[n]),{eventHandlers:c})})}),this}removeEventHandler(n,r=0,o="visualizations"){var u;if((0,U.get)(this.definition,[o,n],null)==null)return this;let c=[...this.getEventHandlers(n,o)];return c.splice(r,1),this.definition=ve(me({},this.definition),{[o]:ve(me({},this.definition[o]),{[n]:ve(me({},(u=this.definition[o])==null?void 0:u[n]),{eventHandlers:c})})}),this}editEventHandler(n,r=0,o={},u="visualizations"){var a;if((0,U.get)(this.definition,[u,n],null)==null)return this;let h=[...this.getEventHandlers(n,u)];return r>=0&&r<=h.length-1&&(h[r]=o,this.definition=ve(me({},this.definition),{[u]:ve(me({},this.definition[u]),{[n]:ve(me({},(a=this.definition[u])==null?void 0:a[n]),{eventHandlers:h})})})),this}connectNewDataSourceToVisualization({vizId:n,dataSourceType:r,dataSourceDefinition:o}){let u=this.nextDataSourceId();return this.addDataSource(u,o),this.connectDataSourceToVisualization({vizId:n,dataSourceType:r,dataSourceId:u}),this}connectNewDataSourceToInput({inputId:n,dataSourceType:r,dataSourceDefinition:o}){let u=this.nextDataSourceId();return this.addDataSource(u,o),this.connectDataSourceToInput({inputId:n,dataSourceType:r,dataSourceId:u}),this}connectNewDataSourceToItem({itemId:n,dataSourceType:r,dataSourceDefinition:o}){return this.getItemType(n)==="input"?this.connectNewDataSourceToInput({inputId:n,dataSourceType:r,dataSourceDefinition:o}):this.connectNewDataSourceToVisualization({vizId:n,dataSourceType:r,dataSourceDefinition:o})}connectDataSourceToVisualization({vizId:n,dataSourceType:r,dataSourceId:o}){let u=this.getVisualization(n),a=this.getDataSource(o);return u&&a&&this.updateVisualization(n,ve(me({},u),{dataSources:ve(me({},u.dataSources),{[r]:o})})),this}connectDataSourceToInput({inputId:n,dataSourceType:r,dataSourceId:o}){let u=this.getInput(n),a=this.getDataSource(o);return u&&a&&this.updateInput(n,ve(me({},u),{dataSources:ve(me({},u.dataSources),{[r]:o})})),this}connectDataSourceToItem({itemId:n,dataSourceType:r,dataSourceId:o,type:u="block"}){return u==="input"?this.connectDataSourceToInput({inputId:n,dataSourceType:r,dataSourceId:o}):this.connectDataSourceToVisualization({vizId:n,dataSourceType:r,dataSourceId:o})}disconnectDataSourceFromVisualization({vizId:n,dataSourceType:r,dataSourceId:o}){let u=this.getVisualization(n);return u&&u.dataSources&&u.dataSources[r]===o&&this.updateVisualization(n,ve(me({},u),{dataSources:(0,U.omit)(u.dataSources,r)})),this}disconnectDataSourceFromInput({inputId:n,dataSourceType:r,dataSourceId:o}){let u=this.getInput(n);return u&&u.dataSources&&u.dataSources[r]===o&&this.updateInput(n,ve(me({},u),{dataSources:(0,U.omit)(u.dataSources,r)})),this}disconnectDataSourceFromItem({itemId:n,dataSourceType:r,dataSourceId:o}){return this.getItemType(n)==="input"?this.disconnectDataSourceFromInput({inputId:n,dataSourceType:r,dataSourceId:o}):this.disconnectDataSourceFromVisualization({vizId:n,dataSourceType:r,dataSourceId:o})}nextVisualizationId(){return On("viz",n=>this.getVisualization(n))}nextDataSourceId(){return On("ds",n=>this.getDataSource(n))}nextInputId(){return On("input",n=>this.getInput(n))}nextTokenId(n="token"){return On(n,r=>this.getInputByToken(r))}countVisualizationsUsingDataSource(n){let{visualizations:r={}}=this.definition,o=0;return Object.keys(r).forEach(u=>{let a=(0,U.get)(r,[u,"dataSources"],{});Object.keys(a).forEach(c=>{a[c]===n&&(o+=1)})}),o}countInputsUsingDataSource(n){let{inputs:r={}}=this.definition,o=0;return Object.keys(r).forEach(u=>{let a=(0,U.get)(r,[u,"dataSources"],{});Object.keys(a).forEach(c=>{a[c]===n&&(o+=1)})}),o}getChainSearchesUsingDataSource(n,r=0){let o=(0,U.get)(this.definition,"dataSources",{}),u=[];return(0,U.each)(o,(a,c)=>{(0,U.get)(a,"options.extend","")===n&&r<ir.MAX_CHAIN_LENGTH&&u.push({id:c,config:this.getDataSource(c)},...this.getChainSearchesUsingDataSource(c,r+1))}),u}disconnectDataSource(n){let{visualizations:r={},inputs:o={}}=this.definition;return Object.keys(r).forEach(u=>{let a=(0,U.get)(r,[u,"dataSources"],{});Object.keys(a).forEach(c=>{this.disconnectDataSourceFromVisualization({vizId:u,dataSourceType:c,dataSourceId:n})})}),Object.keys(o).forEach(u=>{let a=(0,U.get)(o,[u,"dataSources"],{});Object.keys(a).forEach(c=>{this.disconnectDataSourceFromInput({inputId:u,dataSourceType:c,dataSourceId:n})})}),this}hasDuplicateId(n){return Qd(this.definition,n)}updateComponentId(n,r){if(n===r||!/^(viz|input|ds)_[a-zA-Z0-9-_]+$/.test(r)||this.hasDuplicateId(r)||!this.hasDuplicateId(n))return!1;let o=JSON.stringify(this.definition),u=new RegExp(`"${n}"`,"g");return this.definition=JSON.parse(o.replace(u,`"${r}"`)),!0}compare(n){return(0,Du.compare)($u(this.toJSON()),$u(n.toJSON()))}getFirstTimeRangeInputId(){return(0,U.find)((0,U.get)(this.definition,["layout","globalInputs"],[]),n=>(0,U.get)(this.getInput(n),"type")==="input.timerange")}getDefaults(){return(0,U.get)(this.definition,"defaults",{})}getDefaultTimeRangeForNewSearch(){let n=Qs(this.getDefaults(),"ds.search"),r=(0,U.get)(n,"queryParameters",{});if(r.earliest||r.latest)return{};let o=(0,U.get)(this.getInput(this.getFirstTimeRangeInputId()),["options","token"]);return o?{earliest:`$${o}.earliest$`,latest:`$${o}.latest$`}:{earliest:"-24h@h",latest:"now"}}getVisualizationLayoutType(n){let r=this.getLayoutStructure(),{type:o="block"}=r.find(u=>u.item===n)||{};return o}getItemType(n){return this.getInput(n)?"input":"block"}addLayoutItem({visualizationId:n,vizContract:r}={}){if(!n)throw new SyntaxError("No visualization id supplied");let o=this.getValidatedLayoutType(),u=this.getVisualization(n);if(!u)throw new ReferenceError("Visualization does not exist");let a=this.getLayoutStructure();if(a.find(g=>g.item===n))throw new Error(`${n} is already in the layout structure`);let c=this.getLayoutOptions(),h=(0,U.get)(c,"width",ir.DEFAULT_CANVAS_WIDTH),d=null;if(o==="grid")d=(0,ir.computeNewGridStructureItem)({canvasWidth:h,layoutItems:a,itemId:n});else{let g=(0,U.get)(u,"type")==="abslayout.line",P=(0,U.get)(c,"height",ir.DEFAULT_CANVAS_HEIGHT);d=(0,ir.computeNewAbsoluteStructureItem)({itemId:n,type:g?"line":"block",canvasWidth:h,canvasHeight:P,vizContract:r,layoutItems:a})}return this.updateLayoutStructure([...a,d]),this}addInputToLayoutStructure(n){if(!n)throw new SyntaxError("No input id supplied");let r=this.getValidatedLayoutType();if(!this.getInput(n))throw new ReferenceError("Input does not exist");let u=this.getLayoutStructure();if(u.find(d=>d.item===n))throw new Error(`${n} is already in the layout structure`);let a=this.getLayoutOptions(),c=(0,U.get)(a,"width",ir.DEFAULT_CANVAS_WIDTH),h=null;if(r==="grid")h=(0,ir.computeNewGridStructureItem)({itemId:n,type:"input",canvasWidth:c,layoutItems:u});else{let d=(0,U.get)(a,"height",ir.DEFAULT_CANVAS_HEIGHT);h=(0,ir.computeNewAbsoluteStructureItem)({itemId:n,type:"input",canvasWidth:c,canvasHeight:d,layoutItems:u})}return this.updateLayoutStructure([...u,h]),this}getDefaultStaticTokens(n=new Set){return Jd(this.definition,n)}getVisualizationIdsUsingToken(n){return this.getVisualizationIds().filter(r=>!!this.getEventHandlers(r).find(o=>{var u,a;return!!((a=(u=o.options)==null?void 0:u.tokens)!=null&&a.find(c=>c.token===n))}))}isInputOnCanvas(n){return!!this.getLayoutStructure().find(o=>o.item===n&&o.type==="input")}moveInputToCanvas(n){return this.isInputOnCanvas(n)||this.addInputToLayoutStructure(n),this.removeInputFromLayout(n),this}moveInputToGlobalInputs(n){return this.isInputOnCanvas(n)&&this.removeInputFromLayoutStructure(n),this.addInputToLayout(n),this}safeRemoveGridItem(n){let r=this.getLayoutStructure(),o=r.find(g=>g.item===n);if(!o)return this;let u=this.getLayoutOptions(),a=(0,U.get)(u,"width",ir.DEFAULT_CANVAS_WIDTH),c=(0,ir.updateRemovedVizNeighbors)({itemToRemove:o,items:r,width:a}),h=c.map(g=>g.item),d=r.filter(g=>g.item!==o.item&&h.indexOf(g.item)<0);return this.updateLayoutStructure([...c,...d]),this}removeInputFromLayoutStructure(n){if(this.getLayoutType()==="grid")return this.safeRemoveGridItem(n);let r=[...this.getLayoutStructure()],o=r.findIndex(({item:u,type:a})=>u===n&&a==="input");return o!==-1&&(r.splice(o,1),this.updateLayoutStructure(r)),this}},Ow=Zd,Iw=n=>({$schema:"http://json-schema.org/draft-07/schema#",$id:"http://www.splunk.com/dashboard.schema.json",title:"Dashboard Definition",description:"Dashboard Definition",type:"object",properties:n}),Dw=n=>({$id:"http://www.splunk.com/dashboard.vizSchema.json",additionalProperties:!1,title:"Visualization Definition",description:"Visualization Definition",type:"object",properties:{context:{type:"object",nullable:!0},dataSources:{type:"object",nullable:!0,required:[],patternProperties:{"^[a-zA-Z0-9_-]*$":{type:"string"}}},description:{type:"string",nullable:!0},encoding:{type:"object",nullable:!0},eventHandlers:{type:"array",nullable:!0,items:{type:"object",properties:{name:{type:"string"},options:{type:"object",nullable:!0},type:{type:"string"}},required:["type"],additionalProperties:!1}},options:{type:"object",properties:n,nullable:!0},showLastUpdated:{type:"boolean",nullable:!0},showProgressBar:{type:"boolean",nullable:!0},title:{type:"string",nullable:!0},type:{type:"string"},hideWhenNoData:{type:"boolean",nullable:!0}},required:["type"]}),Aw=n=>({$id:"http://www.splunk.com/dashboard.dsSchema.json",additionalProperties:!1,title:"DataSource Definition",description:"DataSource Definition",type:"object",properties:{type:{type:"string"},options:{type:"object",properties:n},name:{type:"string"},meta:{type:"object"}},required:["type"]}),jw=n=>({$id:"http://www.splunk.com/dashboard.inputSchema.json",additionalProperties:!1,title:"Input Definition",description:"Input Definition",type:"object",properties:{dataSources:{patternProperties:{"^[a-zA-Z0-9_-]*$":{type:"string"}}},encoding:{type:"object"},options:{type:"object",properties:n},context:{type:"object"},title:{type:"string"},type:{type:"string"},canvasAlignment:{type:"string",anyOf:[{enum:["top","bottom","center"]},{pattern:"^[$].*[$]$"}]},hideWhenNoData:{type:"boolean",nullable:!0}},required:["type"]})});var sp=ue(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.gettext=Nw;Ka._=Tw;Ka.setSharedTranslator=ap;Ka.resetSharedTranslator=np;var Ru;function Nw(){return Ru.apply(void 0,arguments)}function Tw(){return Ru.apply(void 0,arguments)}function ap(n){Ru=n}function np(){ap(typeof window!="undefined"&&window.gettext||function(n){return n})}np()});var An=Ot(vn(),1),Or=Ot(X_(),1),xu=Ot(eb(),1);var rb=Object.defineProperty,tb=Object.defineProperties,ab=Object.getOwnPropertyDescriptors,sf=Object.getOwnPropertySymbols,nb=Object.prototype.hasOwnProperty,sb=Object.prototype.propertyIsEnumerable,_i=(n,r,o)=>r in n?rb(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Es=(n,r)=>{for(var o in r||(r={}))nb.call(r,o)&&_i(n,o,r[o]);if(sf)for(var o of sf(r))sb.call(r,o)&&_i(n,o,r[o]);return n},Ps=(n,r)=>tb(n,ab(r)),kw=(n,r,o)=>(_i(n,typeof r!="symbol"?r+"":r,o),o),Fw=(n,r,o)=>new Promise((u,a)=>{var c=g=>{try{d(o.next(g))}catch(P){a(P)}},h=g=>{try{d(o.throw(g))}catch(P){a(P)}},d=g=>g.done?u(g.value):Promise.resolve(g.value).then(c,h);d((o=o.apply(n,r)).next())});var yn=Ot(vn(),1),bi=(n,r)=>`<![CDATA[
${(r?JSON.stringify(n,null,"	"):JSON.stringify(n)).replace(/]]>/g,"]]]]><![CDATA[>")}
    ]]>`,Ei=(n,r,o={},u=!1,a=!1,c=!1,h="",d=!0)=>{let g={hideEdit:u,hideOpenInSearch:a,hideExport:c},P=h?`
    <tags>${(0,yn.escape)(h)}</tags>`:"",b=Object.keys(o).length>0?`
    <assets>${bi(o,d)}</assets>`:"";return`
<dashboard version="2" theme="${(0,yn.escape)(r)}">
    <label>${(0,yn.escape)(n.title)}</label>${P}
    <description>${(0,yn.escape)(n.description)}</description>
    <definition>${bi(n,d)}</definition>${b}
    <meta type="hiddenElements">${bi(g,d)}</meta>
</dashboard>`};var Xs=Ot(lf(),1),eo=Ot(vn(),1),rp=Ot(bf(),1),tp=Ot(Xd(),1),ep,Ys=tp.DEFAULT_DEFINITION,Rw=Ps(Es({},(0,rp.set)("defaults.dataSources",(0,eo.mapKeys)((0,eo.get)(Ys,"defaults.dataSources",{}),(n,r)=>r==="global"?"ds.search":r),Ys)),{layout:Ps(Es({},Ys.layout),{options:Ps(Es({},(ep=Ys.layout)==null?void 0:ep.options),{width:1440,height:960})}),description:"",title:""}),G$={type:"splunk.rectangle",options:{fillColor:"transparent",strokeColor:"transparent"}},J$=1440,xw="auto",Q$=(0,Xs._)("Successfully converted dashboard"),Z$=(0,Xs._)("Successfully converted visualization"),Y$=(0,Xs._)("Errors occurred during conversion"),X$={FAIL:"fail",SUCCESS:"success"};var ro=Ot(sp(),1),to=Ot(Y_(),1);var Oa="data/ui/views",Cw=7*1024*1024,op={ID_ALREADY_TAKEN:(0,ro._)("ID already in use. Edit the ID or choose a different title."),LARGE_DASHBOARD:(0,ro._)("The total size of a dashboard must be 7MB or smaller. Please remove some images and icons.")};var sa=(n,r={})=>{let o=r;return o.sharing==="user"&&(o.sharing=!1),(0,xu.createRESTURL)(n,o)},iS=()=>{let n=sa(`${Oa}/_new?output_mode=json`,{app:Or.app,owner:Or.username});return It(n)},uS=()=>{let n=sa("authorization/roles?output_mode=json");return It(n)},lS=({id:n,display:r,owner:o=Or.username,readPerms:u,writePerms:a,app:c=Or.app})=>{let h=(0,An.includes)(u,"*")?"*":u,d=(0,An.includes)(a,"*")?"*":a,g={output_mode:"json",sharing:r,owner:o,"perms.read":h,"perms.write":d},P=to.default.stringify(g,{arrayFormat:"comma"}),b=sa(`${Oa}/${n}/acl`,{app:c,owner:o});return It(b,{method:"POST",body:P})},cS=({id:n,app:r=Or.app,owner:o=Or.username,sharing:u})=>{let a=sa(`${Oa}/${n}?output_mode=json`,{sharing:u,app:r,owner:o});return It(a,{customErrors:{404:(0,ro._)("The dashboard you selected no longer exists.")}})},fS=({app:n=Or.app,owner:r=Or.username,sharing:o,count:u=0,offset:a=0,filter:c="",search:h='(isDashboard=1 AND isVisible=1 AND (rootNode="dashboard" OR rootNode="form"))',sortDirection:d="asc",sortKey:g="label"}={})=>{let P=c&&c.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),b=c?`(${h} AND label="*${P}*")`:h,w=sa(`${Oa}?output_mode=json&sort_dir=${d}&sort_key=${g}&sort_mode=alpha&count=${u}&digest=1&offset=${a}&search=${encodeURIComponent(b).replace(/%20/g,"+")}`,{sharing:o,app:n,owner:r});return It(w)},ip=(n,r,o,u,a,c,h)=>{let d=Ei(n,r,o,u,a,c,h,!0);return new Blob([d]).size>=Cw&&(d=Ei(n,r,o,u,a,c,h,!1)),d},hS=({id:n,app:r=Or.app,owner:o=Or.username,definition:u,sharing:a,theme:c="",assets:h,customErrors:d={},hideEdit:g=!1,hideOpenInSearch:P=!1,hideExport:b=!1,tags:w})=>{let $=sa(`${Oa}?output_mode=json`,{sharing:a,app:r,owner:o}),m=ip(u,c,h,g,P,b,w);return It($,{method:"POST",body:to.default.stringify({name:n,"eai:data":m}),customErrors:gi({409:op.ID_ALREADY_TAKEN},d)})},dS=({id:n,app:r=Or.app,owner:o=Or.username,definition:u,sharing:a,assets:c,theme:h="",customErrors:d={},hideEdit:g=!1,hideOpenInSearch:P=!1,hideExport:b=!1,tags:w})=>{let $=sa(`${Oa}/${n}?output_mode=json`,{sharing:a,app:r,owner:o}),m=ip(u,h,c,g,P,b,w);return It($,{method:"POST",body:to.default.stringify({"eai:data":m}),customErrors:gi({400:op.LARGE_DASHBOARD},d)})};var pS=({id:n,app:r=Or.app,owner:o=Or.username,sharing:u})=>{let a=sa(`${Oa}/${n}?output_mode=json`,{sharing:u,app:r,owner:o});return It(a,{method:"DELETE"})},mS=(n,r,o)=>nf(void 0,null,function*(){let u=(0,xu.createRESTURL)("ssg/deep_link/dashboard"),a={dashboard_id:`${o}/${r}/${n}`};return yield It(u,{method:"POST",body:JSON.stringify(a),getErrorJSON:!0})});export{bn as a,iu as b,vu as c,Xd as d,Es as e,Ps as f,kw as g,Fw as h,lf as i,Rw as j,G$ as k,J$ as l,xw as m,Q$ as n,Y$ as o,X$ as p,sp as q,sa as r,iS as s,uS as t,lS as u,cS as v,fS as w,hS as x,dS as y,pS as z,mS as A};
