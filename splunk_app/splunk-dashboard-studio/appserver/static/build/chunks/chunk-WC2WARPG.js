import{Fa as v}from"./chunk-DEAOBGB4.js";import{za as s}from"./chunk-IJIU7GDE.js";import{g as f,i as C}from"./chunk-VV54FNKQ.js";var L=f(n=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.gettext=_;n._=F;n.setSharedTranslator=g;n.resetSharedTranslator=T;var l;function _(){return l.apply(void 0,arguments)}function F(){return l.apply(void 0,arguments)}function g(e){l=e}function T(){g(typeof window!="undefined"&&window.gettext||function(e){return e})}T()});var b=C(v(),1),k=({dashboardType:e,description:t,sharing:a,status:o})=>e==="UDF"?{pageAction:"cloneDashboardToStudio.cloneDashboard",metadata:{hasDescription:!!t,sharing:a,status:o,dashboardType:e}}:{type:"dashboard.telemetry",data:{pageAction:"cloneDashboardToStudio.cloneDashboard",hasDescription:!!t,sharing:a,status:o,dashboardType:e}},K=e=>({pageAction:"dashboard.export",source:"toolbar",event:"dashboard.export_success",metadata:{fileType:e}}),M=(e,t)=>({pageAction:"dashboard.export",source:"toolbar",event:"dashboard.export_failure",metadata:{fileType:e},error:t.message});var N=e=>({pageAction:"dashboard.theme_loaded",metadata:{theme:e}}),V=(e,t,a,o,r)=>({pageAction:"dashboard.load",metadata:{dashboardType:"udf",dashboardSize:e,isJsonFormatted:t,hideEdit:a,hideOpenInSearch:o,hideExport:r}}),z={type:"dashboard.telemetry",data:{pageAction:"scheduledExport.cancel"}},j=e=>({type:"dashboard.telemetry",data:{pageAction:"scheduledExport.save",success:!0,enabledInitially:e.enabledInitially,enabledAtSave:e.enabledAtSave,cronSchedule:e.cronSchedule,emailCountTo:e.emailCountTo,emailCountBCC:e.emailCountBCC,emailCountCC:e.emailCountCC,emailSubjectLength:e.emailSubjectLength,emailMessageLength:e.emailMessageLength}}),B=e=>({type:"dashboard.telemetry",data:{pageAction:"scheduledExport.save",success:!1,serverError:e}});var R=e=>({type:"dashboard.telemetry",data:s({event:"dashboard.csp_violation"},e)}),I=e=>({pageAction:"actionDropdown.click",metadata:{action:e}}),P=()=>({pageAction:"deleteDashboardModal.delete"}),H=(e,t,a)=>{let o={pageAction:"editPermissions.save",metadata:s({success:a},e)},r={type:"dashboard.telemetry",data:s({pageAction:"editPermissions.save",success:a},e)};return t?o:r},O=(e,t)=>t?{pageAction:"deeplinkDashboard.success",metadata:{success:!0,message:e}}:{type:"dashboard.telemetry",data:{pageAction:"deeplinkDashboard.success",success:!0,message:e}},U=(e,t)=>t?{pageAction:"deeplinkDashboard.error",metadata:{success:!1,message:e}}:{type:"dashboard.telemetry",data:{pageAction:"deeplinkDashboard.error",success:!1,message:e}},X=()=>({type:"dashboard.telemetry",data:{pageAction:"cloneDashboardToStudio.open"}}),$=()=>({type:"dashboard.telemetry",data:{pageAction:"cloneDashboardToStudio.cancel"}}),A=["ref","optionValue"],w=["convertedId"],S=(e,t)=>[...e].map(a=>{let o=s({},a);return t.forEach(r=>delete o[r]),o}),x=(e,t)=>[...e].map(a=>{let o=s({},a);return t.forEach(r=>{typeof o[r]=="string"&&(o[r]=(0,b.hashString)(o[r]))}),o}),p=e=>{let t=S(e,A);return x(t,w)},y=(e,t,a)=>{let o=a==="warning"?"warningCounts":"errorCounts",r=a==="warning"?"totalWarnings":"totalErrors";t[r]=e.length,e.forEach(({convertedId:c,type:i,vizType:u})=>{var m,h;if(c){let d=(m=t.logCountsByConvertedId[c])!=null?m:{warningCounts:{},errorCounts:{}};u&&(d.vizType=u);let D=(h=d[o][i])!=null?h:0;d[o][i]=D+1,t.logCountsByConvertedId[c]=d}})},E=(e,t)=>{let a={totalWarnings:0,totalErrors:0,logCountsByConvertedId:{}};return y(e,a,"warning"),y(t,a,"error"),a},q=({conversionWarnings:e=[],conversionErrors:t=[]}={})=>{let a=p(t),o=p(e),r=E(o,a);return{type:"dashboard.telemetry",data:{pageAction:"cloneDashboardToStudio.conversionResult",conversionErrors:a,conversionWarnings:o,metadata:r}}};export{L as a,k as b,K as c,M as d,N as e,V as f,z as g,j as h,B as i,R as j,I as k,P as l,H as m,O as n,U as o,X as p,$ as q,q as r};
