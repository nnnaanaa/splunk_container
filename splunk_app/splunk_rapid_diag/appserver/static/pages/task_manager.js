!function(e){function t(t){for(var a,o,l=t[0],c=t[1],u=t[2],m=0,d=[];m<l.length;m++)o=l[m],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(i&&i(t);d.length;)d.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,l=1;l<r.length;l++){var c=r[l];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={3:0},s=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var i=c;s.push([1190,0]),r()}({1173:function(e,t,r){var a={"./af":461,"./af.js":461,"./ar":462,"./ar-dz":463,"./ar-dz.js":463,"./ar-kw":464,"./ar-kw.js":464,"./ar-ly":465,"./ar-ly.js":465,"./ar-ma":466,"./ar-ma.js":466,"./ar-sa":467,"./ar-sa.js":467,"./ar-tn":468,"./ar-tn.js":468,"./ar.js":462,"./az":469,"./az.js":469,"./be":470,"./be.js":470,"./bg":471,"./bg.js":471,"./bm":472,"./bm.js":472,"./bn":473,"./bn-bd":474,"./bn-bd.js":474,"./bn.js":473,"./bo":475,"./bo.js":475,"./br":476,"./br.js":476,"./bs":477,"./bs.js":477,"./ca":478,"./ca.js":478,"./cs":479,"./cs.js":479,"./cv":480,"./cv.js":480,"./cy":481,"./cy.js":481,"./da":482,"./da.js":482,"./de":483,"./de-at":484,"./de-at.js":484,"./de-ch":485,"./de-ch.js":485,"./de.js":483,"./dv":486,"./dv.js":486,"./el":487,"./el.js":487,"./en-au":488,"./en-au.js":488,"./en-ca":489,"./en-ca.js":489,"./en-gb":490,"./en-gb.js":490,"./en-ie":491,"./en-ie.js":491,"./en-il":492,"./en-il.js":492,"./en-in":493,"./en-in.js":493,"./en-nz":494,"./en-nz.js":494,"./en-sg":495,"./en-sg.js":495,"./eo":496,"./eo.js":496,"./es":497,"./es-do":498,"./es-do.js":498,"./es-mx":499,"./es-mx.js":499,"./es-us":500,"./es-us.js":500,"./es.js":497,"./et":501,"./et.js":501,"./eu":502,"./eu.js":502,"./fa":503,"./fa.js":503,"./fi":504,"./fi.js":504,"./fil":505,"./fil.js":505,"./fo":506,"./fo.js":506,"./fr":507,"./fr-ca":508,"./fr-ca.js":508,"./fr-ch":509,"./fr-ch.js":509,"./fr.js":507,"./fy":510,"./fy.js":510,"./ga":511,"./ga.js":511,"./gd":512,"./gd.js":512,"./gl":513,"./gl.js":513,"./gom-deva":514,"./gom-deva.js":514,"./gom-latn":515,"./gom-latn.js":515,"./gu":516,"./gu.js":516,"./he":517,"./he.js":517,"./hi":518,"./hi.js":518,"./hr":519,"./hr.js":519,"./hu":520,"./hu.js":520,"./hy-am":521,"./hy-am.js":521,"./id":522,"./id.js":522,"./is":523,"./is.js":523,"./it":524,"./it-ch":525,"./it-ch.js":525,"./it.js":524,"./ja":526,"./ja.js":526,"./jv":527,"./jv.js":527,"./ka":528,"./ka.js":528,"./kk":529,"./kk.js":529,"./km":530,"./km.js":530,"./kn":531,"./kn.js":531,"./ko":532,"./ko.js":532,"./ku":533,"./ku.js":533,"./ky":534,"./ky.js":534,"./lb":535,"./lb.js":535,"./lo":536,"./lo.js":536,"./lt":537,"./lt.js":537,"./lv":538,"./lv.js":538,"./me":539,"./me.js":539,"./mi":540,"./mi.js":540,"./mk":541,"./mk.js":541,"./ml":542,"./ml.js":542,"./mn":543,"./mn.js":543,"./mr":544,"./mr.js":544,"./ms":545,"./ms-my":546,"./ms-my.js":546,"./ms.js":545,"./mt":547,"./mt.js":547,"./my":548,"./my.js":548,"./nb":549,"./nb.js":549,"./ne":550,"./ne.js":550,"./nl":551,"./nl-be":552,"./nl-be.js":552,"./nl.js":551,"./nn":553,"./nn.js":553,"./oc-lnc":554,"./oc-lnc.js":554,"./pa-in":555,"./pa-in.js":555,"./pl":556,"./pl.js":556,"./pt":557,"./pt-br":558,"./pt-br.js":558,"./pt.js":557,"./ro":559,"./ro.js":559,"./ru":560,"./ru.js":560,"./sd":561,"./sd.js":561,"./se":562,"./se.js":562,"./si":563,"./si.js":563,"./sk":564,"./sk.js":564,"./sl":565,"./sl.js":565,"./sq":566,"./sq.js":566,"./sr":567,"./sr-cyrl":568,"./sr-cyrl.js":568,"./sr.js":567,"./ss":569,"./ss.js":569,"./sv":570,"./sv.js":570,"./sw":571,"./sw.js":571,"./ta":572,"./ta.js":572,"./te":573,"./te.js":573,"./tet":574,"./tet.js":574,"./tg":575,"./tg.js":575,"./th":576,"./th.js":576,"./tk":577,"./tk.js":577,"./tl-ph":578,"./tl-ph.js":578,"./tlh":579,"./tlh.js":579,"./tr":580,"./tr.js":580,"./tzl":581,"./tzl.js":581,"./tzm":582,"./tzm-latn":583,"./tzm-latn.js":583,"./tzm.js":582,"./ug-cn":584,"./ug-cn.js":584,"./uk":585,"./uk.js":585,"./ur":586,"./ur.js":586,"./uz":587,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":587,"./vi":589,"./vi.js":589,"./x-pseudo":590,"./x-pseudo.js":590,"./yo":591,"./yo.js":591,"./zh-cn":592,"./zh-cn.js":592,"./zh-hk":593,"./zh-hk.js":593,"./zh-mo":594,"./zh-mo.js":594,"./zh-tw":595,"./zh-tw.js":595};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id=1173},1190:function(e,t,r){"use strict";r.r(t);var a,n,s=r(1),o=r.n(s),l=r(70),c=r.n(l),u=r(11),i=r(71),m=r(604),d=r.n(m),p=r(4);function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _=p.default.div(a||(a=f(["\n    ",";\n    display: block;\n    font-size: ",";\n    line-height: 200%;\n    margin: calc("," * 2) calc("," * 2);\n"])),u.mixins.reset("inline"),u.variables.fontSizeLarge,u.variables.spacing,u.variables.spacing),b=(p.default.div(n||(n=f(["\n    font-weight: bold;\n    color: ",";\n    font-size: ",";\n"])),u.variables.infoColor,u.variables.fontSizeXXLarge),"/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/splunk-rapid-diag/src/main/webapp/pages/task-manager/index.jsx");function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var g={enterprise:{family:"enterprise",colorScheme:"light",density:"comfortable"},enterpriseDark:{family:"enterprise",colorScheme:"dark",density:"comfortable"},lite:{family:"enterprise",colorScheme:"light",density:"comfortable"}},v=g[Object(i.defaultTheme)()]||g.enterprise;c()(o.a.createElement(u.SplunkThemeProvider,h({},v,{__self:void 0,__source:{fileName:b,lineNumber:32,columnNumber:5}}),o.a.createElement(_,{__self:void 0,__source:{fileName:b,lineNumber:33,columnNumber:9}},o.a.createElement(d.a,{__self:void 0,__source:{fileName:b,lineNumber:34,columnNumber:13}}))))},604:function(e,t,r){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===a(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=118)}([function(e,t){e.exports=r(1)},function(e,t){e.exports=r(128)},function(e,t){e.exports=r(172)},function(e,t){e.exports=r(175)},function(e,t){e.exports=r(176)},function(e,t){e.exports=r(177)},function(e,t){e.exports=r(179)},function(e,t){e.exports=r(180)},,function(e,t){e.exports=r(6)},function(e,t){e.exports=r(158)},function(e,t){e.exports=r(136)},function(e,t){e.exports=r(102)},function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"c",(function(){return h})),r.d(t,"b",(function(){return _})),r.d(t,"d",(function(){return b}));var a=r(2),n=r.n(a),s=r(26),o=r.n(s),l=r(33),c=r(12),u=r(49),i=r.n(u),m=r(59);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var p=Object(u.makeCreateToast)(i.a),f=function(e,t){var r=Object(c.createRESTURL)(e);return Promise.resolve(o.a.get(r,{params:t,headers:{"X-Splunk-Form-Key":l.CSRFToken,"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}})).catch((function(t){if(t.response)throw t.response;t.request?(console.error(t),function(e){p({type:m.TOAST_TYPES.ERROR,message:e,autoDismiss:!0,dismissOnActionClick:!0,showAction:!1})}("Error making request to ".concat(e))):console.log("Error",t.message)}))},_=function(e,t,r){var a=Object(c.createRESTURL)(e),n={params:r,credentials:"include",headers:{"X-Splunk-Form-Key":l.CSRFToken,"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},paramsSerializer:function(e){var t="";return Object.keys(e).forEach((function(r){t+="".concat(r,"=").concat(encodeURIComponent(e[r]),"%26")})),t.substr(0,t.length-1)}},s=t.map((function(e){return o.a.get("".concat(a,"?proxy_to=").concat(encodeURIComponent(e.proxy_to)),n)})).map((function(e){return Promise.resolve(e).then((function(e){return{status:"fulfilled",value:e}}),(function(e){return{status:"rejected",reason:e}}))}));return o.a.all(s).then((function(e){return e.map((function(e){var t;return null!=e&&e.value?null==e||null===(t=e.value)||void 0===t?void 0:t.data:null==e?void 0:e.reason.toJSON()}))})).catch((function(e){e.response?console.error(e.response):e.request?console.error(e.request):console.log("Error",e.message)}))},b=function(e,t,r,a){var s=Object(c.createRESTURL)(e),u={params:a,credentials:"include",headers:{"X-Splunk-Form-Key":l.CSRFToken,"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}},i=t.filter((function(e){return parseFloat(e.version)<1.5}));i&&_(e,i,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({payload:encodeURIComponent(r)},a));var m=t.filter((function(e){return parseFloat(e.version)>=1.5})).map((function(e){return o.a.post("".concat(s,"?proxy_to=").concat(encodeURIComponent(e.proxy_to)),r,u)})).map((function(e){return Promise.resolve(e).then((function(e){return{status:"fulfilled",value:e}}),(function(e){return{status:"rejected",reason:e}}))}));return o.a.all(m).then((function(e){return e.map((function(e){return e.value?null==e?void 0:e.value.data:e.reason.toJSON()}))})).catch((function(e){e.response?console.error(e.response):e.request?console.error(e.request):console.log("Error",e.message)}))},h=function(e,t,r){var a=e.map((function(e){return e.matching_features=e.features&&t?e.features.filter((function(e){return t.includes(e)})).length:0,e.matching_symptoms=e.symptoms&&r?e.symptoms.filter((function(e){return r.includes(e)})).length:0,e})).filter((function(e){return e.matching_features>0||e.matching_symptoms>0}));return a.length?(a.sort((function(e,t){return e.matching_features>t.matching_features?-1:e.matching_features<t.matching_features?1:e.matching_symptoms>t.matching_symptoms?-1:e.matching_symptoms<t.matching_symptoms?1:0})),a[0].task_id):null}},function(e,t){e.exports=r(246)},,,function(e,t){e.exports=r(247)},,function(e,t){e.exports=r(171)},function(e,t){e.exports=r(183)},function(e,t){e.exports=r(248)},function(e,t){e.exports=r(38)},function(e,t){e.exports=r(137)},function(e,t){e.exports=r(249)},function(e,t){e.exports=r(1158)},function(e,t){e.exports=r(174)},function(e,t){e.exports=r(85)},function(e,t){e.exports=r(250)},function(e,t){e.exports=r(257)},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var a={system_call_trace:"System Call Trace",stack_trace:"Stack Trace",network_packet:"Network Packet",search_result:"Search Result",splunk_diag:"Splunk Diag",scoped_log_level_action:"Log Level Changer",iops:"IOPS",netstat:"Netstat",ps:"PS",lsof:"LSOF",interval:"Period(sec)",sampleCount:"Number of Samples",process:"Process",collection_time:"Collection Time(sec)",port:"Port",ip_address:"IP Address",search_query:"Search Query",selectedFile:"Selected File",regex:"Regex",searchRegex:"Search Regex",search_regex:"Search Regex",invert:"Invert",cpu:"CPU Usage(%)",physical_memory:"Physical Memory(MB)",virtual_memory:"Virtual Memory(MB)",single_run:"Single Run",periodic_run:"Periodic Run",periodic:"Periodic Run",log_monitor:"Log Monitor",resource_monitor:"Resource Monitor",template_tasks:"Task Templates",historical_tasks:"Historical Collections",searchDebug:"Search Debug",search_debug:"Search Debug",result_status:"Result Status",result_message:"Result Message",log_level:"Log Level",log_channels:"Log Channels"}},function(e,t){e.exports=r(258)},,function(e,t){e.exports=r(119)},function(e,t){e.exports=r(262)},function(e,t){e.exports=r(133)},function(e,t){e.exports=r(112)},function(e,t){e.exports=r(98)},,,function(e,t){e.exports=r(134)},,,function(e,t){e.exports=r(263)},,function(e,t,r){"use strict";var a=r(4),n=r.n(a),s=r(5),o=r.n(s),l=r(1),c=r.n(l),u=r(6),i=r.n(u),m=r(7),d=r.n(m),p=r(3),f=r.n(p),_=r(2),b=r.n(_),h=r(0),g=r.n(h),v=r(73),N=r.n(v),y=r(43),k=r.n(y),j=r(63),E=r.n(j),O=r(74),S=r.n(O),w=r(27),x=r.n(w),C=r(64),T={width:"15px",height:"15px"},R={padding:"20}px",width:"300}px"},P={width:"15px",height:"15px",color:"#F2A900"},D="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/core-components/PopoverText/PopoverText.tsx";function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=f()(e);if(t){var n=f()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return d()(this,r)}}var L=function(e){i()(r,e);var t=A(r);function r(e,a){var s;return n()(this,r),s=t.call(this,e,a),b()(c()(s),"handleMount",(function(e){s.setState({anchor:e})})),b()(c()(s),"handleOpen",(function(e){s.state.open||s.setState({open:!0}),e.stopPropagation()})),b()(c()(s),"handleRequestClose",(function(){s.setState({open:!1})})),s.state={open:!1,anchor:null},s}return o()(r,[{key:"render",value:function(){var e=this.state,t=e.anchor,r=e.open,a=this.props,n=a.linkText,s=a.showButtonAsLink,o=a.dialogueBoxStyle,l=a.help,c=a.buttonStyle;return g.a.createElement(g.a.Fragment,null,s?g.a.createElement(x.a,{id:this.props.id,onClick:this.handleOpen,ref:this.handleMount,__self:this,__source:{fileName:D,lineNumber:68,columnNumber:21}},n||"Learn More"):g.a.createElement(C.a,{id:this.props.id,icon:this.props.type&&"warning"===this.props.type?g.a.createElement(E.a,{style:P,__self:this,__source:{fileName:D,lineNumber:76,columnNumber:33}}):g.a.createElement(k.a,{style:T,__self:this,__source:{fileName:D,lineNumber:78,columnNumber:33}}),appearance:"pill",onClick:this.handleOpen,ref:this.handleMount,style:c||{marginTop:"-6px"},__self:this,__source:{fileName:D,lineNumber:72,columnNumber:21}}),g.a.createElement(N.a,{open:r,anchor:t,onRequestClose:this.handleRequestClose,appearance:"normal",__self:this,__source:{fileName:D,lineNumber:87,columnNumber:17}},g.a.createElement("div",{style:o||R,__self:this,__source:{fileName:D,lineNumber:93,columnNumber:21}},g.a.createElement(S.a,{text:l,__self:this,__source:{fileName:D,lineNumber:94,columnNumber:25}}))))}}]),r}(h.Component);t.a=L},function(e,t){e.exports=r(264)},function(e,t){e.exports=r(4)},function(e,t){e.exports=r(83)},function(e,t){e.exports=r(135)},,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var a=r(0),n=r.n(a),s=r(28),o=r.n(s),l="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/core-components/InfoMessage/InfoMessage.tsx",c=function(e){return n.a.createElement("div",{"data-component-name":e["data-component-name"],style:e.style||{display:"inline-block"},__self:void 0,__source:{fileName:l,lineNumber:17,columnNumber:9}},n.a.createElement(o.a,{appearance:"fill",type:e.type,style:e.messageStyle||{marginLeft:"15px",marginRight:"10px"},onRequestRemove:e.onRequestRemove,__self:void 0,__source:{fileName:l,lineNumber:21,columnNumber:13}},e.helpText))}},function(e,t){e.exports=r(265)},function(e,t){e.exports=r(1159)},function(e,t){e.exports=r(178)},,,,function(e,t){e.exports=r(266)},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var a,n=r(46),s=r.n(n),o=r(22),l=r.n(o),c=r(47),u=r.n(c)()(l.a)(a||(a=s()(["\n    border: 0;\n    border-radius: 100%;\n    background-color: #fff;\n    color: #5f6368;\n\n    &: hover:enabled {\n        background-color: rgba(0, 0, 0, 0.12);\n        color: #202124;\n    }\n\n    &: focus:enabled {;\n        outline: none;\n        border-color: #fff;\n        color: #5f6368;\n        box-shadow: none;\n    }\n\n"])))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=["system_call_trace","stack_trace","network_packet","search_result","iops","netstat","ps","lsof","periodic","log_monitor","resource_monitor","search_debug","distributed_collection","scoped_log_level_action"],n=function(e){var t=[];return Object.keys(e).map((function(r){return-1!==a.indexOf(r)&&null!==e[r]&&e[r].filter((function(e){return!0===e.selected&&0===e.parentId})).map((function(n){var s=[];n.name=r,s.push(n),function e(t,r,n){return Object.keys(n).map((function(s){return-1!==a.indexOf(s)&&null!==n[s]&&n[s].map((function(a){a.parentId===r&&(a.name=s,t.push(a),e(t,a.level,n))}))})),t}(s,n.level,e),t.push(s)}))})),t}},,,,,function(e,t){e.exports=r(267)},function(e,t){e.exports=r(268)},function(e,t){e.exports=r(269)},function(e,t){e.exports=r(60)},function(e,t){e.exports=r(270)},function(e,t){e.exports=r(272)},function(e,t){e.exports=r(273)},function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var a=r(4),n=r.n(a),s=r(5),o=r.n(s),l=r(6),c=r.n(l),u=r(7),i=r.n(u),m=r(3),d=r.n(m),p=r(0),f=r.n(p),_=r(27),b=r.n(_),h=r(28),g=r.n(h),v=r(12),N={height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},y={marginLeft:"15%",marginRight:"15%",fontFamily:"Verdana"},k={marginTop:"8%",fontFamily:"Verdana"},j="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/core-components/ErrorBoundary/ErrorBoundary.tsx";function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=d()(e);if(t){var n=d()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return i()(this,r)}}var O=function(e){c()(r,e);var t=E(r);function r(e){var a;return n()(this,r),(a=t.call(this,e)).state={hasError:!1,errorMessage:""},a}return o()(r,[{key:"componentDidCatch",value:function(e){document.body.style.backgroundColor="#F2F4F5",this.setState({hasError:!0}),this.setState({errorMessage:e.toString()})}},{key:"componentWillUnmount",value:function(){document.body.style.backgroundColor=null}},{key:"render",value:function(){var e=this.state.errorMessage;return this.state.hasError?f.a.createElement("div",{style:N,__self:this,__source:{fileName:j,lineNumber:44,columnNumber:17}},f.a.createElement("h1",{style:k,__self:this,__source:{fileName:j,lineNumber:45,columnNumber:21}},"Something went wrong!"),f.a.createElement("h3",{style:{fontFamily:"Verdana"},__self:this,__source:{fileName:j,lineNumber:46,columnNumber:21}},"Click ",f.a.createElement(b.a,{to:Object(v.createURL)("/"),__self:this,__source:{fileName:j,lineNumber:47,columnNumber:31}},"here")," to return to Splunk homepage."),f.a.createElement(g.a,{appearance:"fill",type:"error",style:y,__self:this,__source:{fileName:j,lineNumber:49,columnNumber:21}},e)):this.props.children}}]),r}(f.a.Component)},,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return s}));var a=[["system call trace","system_call_trace"],["strace","system_call_trace"],["procmon","system_call_trace"],["traces","system_call_trace"],["stack trace","stack_trace"],["traces","stack_trace"],["stack","stack_trace"],["elfutils","stack_trace"],["eustacks","stack_trace"],["eu-stack","pstack"],["kernel stacks","stack_trace"],["elfutils","stack_trace"],["network packet","network_packet"],["netsh","network_packet"],["tcpdumps","network_packet"],["network dumps","network_packet"],["dump","network_packet"],["search result","search_result"],["search query","search_result"],["splunk search","search_result"],["iostat","iops"],["search debug","search_debug"]],n=function(e){var t=[];return a.forEach((function(r){r.includes(e)&&(r[0]===e?t.push(r[1]):t.push(r[0]))})),t},s=function(e){var t={};a.map((function(e){var r=e[0],a=e[1];return t[r]=[a],t}));for(var r=e[0].split(/[\s,.:{}()" ]+/),n=e[1].split(/[\s,.:{}()" ]+/),s=0;s<r.length;s+=1)for(var o=0;o<n.length;o+=1){var l=r[s],c=n[o];if(l===c)return!0;if(Object.keys(t).includes(l)&&t[l].includes(c)||Object.keys(t).includes(c)&&t[c].includes(l))return!0}return!1}},,,,,function(e,t){e.exports=r(2)},function(e,t){e.exports=r(416)},,,,,function(e,t){e.exports=r(596)},function(e,t,r){"use strict";r.d(t,"a",(function(){return k}));var a=r(4),n=r.n(a),s=r(5),o=r.n(s),l=r(1),c=r.n(l),u=r(6),i=r.n(u),m=r(7),d=r.n(m),p=r(3),f=r.n(p),_=r(2),b=r.n(_),h=r(0),g=r.n(h),v=r(36),N=r.n(v);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=f()(e);if(t){var n=f()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return d()(this,r)}}var k=function(e){i()(r,e);var t=y(r);function r(){var e;n()(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s)),b()(c()(e),"state",{search:""}),b()(c()(e),"handleChange",(function(t,r){var a=r.name,n=r.value;e.setState({search:n},(function(){return e.props.handler(b()({},a,n))}))})),e}return o()(r,[{key:"render",value:function(){return g.a.createElement(N.a,{value:this.state.search,name:"search",multiline:!1,placeholder:this.props.placeholder,onChange:this.handleChange,appearance:"search",inline:!0,style:{display:"inline-block"},__self:this,__source:{fileName:"/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/core-components/SearchBar/SearchBar.tsx",lineNumber:30,columnNumber:13}})}}]),r}(g.a.Component)},function(e,t){e.exports=r(386)},,,,,,function(e,t){e.exports=r(1177)},function(e,t){e.exports=r(1178)},function(e,t){e.exports=r(1179)},function(e,t){e.exports=r(1181)},function(e,t){e.exports=r(1183)},function(e,t){e.exports=r(1184)},,,function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Ja}));var a=r(0),n=r.n(a),s=r(4),o=r.n(s),l=r(5),c=r.n(l),u=r(1),i=r.n(u),m=r(6),d=r.n(m),p=r(7),f=r.n(p),_=r(3),b=r.n(_),h=r(2),g=r.n(h),v=r(72),N=r.n(v),y=r(102),k=r.n(y),j=r(20),E=r.n(j),O=r(9),S=r(45),w=r(103),x=r(24),C=r.n(x),T=r(35),R=r.n(T),P="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/core-components/UndismissableModal/UndismissableModal.tsx";var D,A,L=function(e){var t=e.actionType;return n.a.createElement(C.a,{id:"undismissableModal",open:!0,style:{width:"600px"},__self:this,__source:{fileName:P,lineNumber:47,columnNumber:9}},n.a.createElement(C.a.Body,{__self:this,__source:{fileName:P,lineNumber:48,columnNumber:13}},n.a.createElement("div",{style:{textAlign:"center"},__self:this,__source:{fileName:P,lineNumber:49,columnNumber:17}},"".concat(function(e){var t="";switch(e){case"abort":t+=Object(O._)("Task is being stopped... ");break;case"abortAll":t+=Object(O._)("Task group is being stopped... ");break;case"rerun":t+=Object(O._)("A new task is about to run... ");break;case"rerunAll":t+=Object(O._)("A new task group is about to run... ");break;case"delete":t+=Object(O._)("Task is being deleted... ");break;case"deleteAll":t+=Object(O._)("Task group is being deleted... ");break;case"refreshButton":t+=Object(O._)("List of tasks is refreshing... ");break;default:t+=Object(O._)("Loading... ")}return t}(t))," ",n.a.createElement(R.a,{id:"undismissableModalSpinner",size:"medium",__self:this,__source:{fileName:P,lineNumber:51,columnNumber:21}}),n.a.createElement("div",{__self:this,__source:{fileName:P,lineNumber:52,columnNumber:21}},Object(O._)("Please do not refresh the page!")))))},M=r(46),F=r.n(M),I=r(47),H=r.n(I),U=r(58),B=H.a.div(D||(D=F()(["\n    font-weight: bold;\n    font-size: ",";\n"])),U.variables.fontSizeXXLarge),q=(H.a.div(A||(A=F()(["\n    ",";\n    font-size: ",";\n    line-height: 200%;\n    margin: "," ",";\n    padding: "," calc("," * 2);\n    border-radius: ",";\n    box-shadow: ",";\n    background-color: ",";\n    color: ",";\n"])),U.mixins.reset("inline-block"),U.variables.fontSizeLarge,U.variables.spacing,U.variables.spacingHalf,U.variables.spacing,U.variables.spacing,U.variables.borderRadius,U.variables.overlayShadow,U.variables.backgroundColor,U.variables.gray45),{fontWeight:550,fontFamily:'"Splunk Platform Sans", "Proxima Nova", Roboto, Droid, "Helvetica Neue", Helvetica, Arial, sans-serif'}),z=("".concat(43,"%"),"".concat(10,"%"),"".concat(12,"%"),"".concat(2,"px auto"),"".concat(2,"px auto"),"".concat(10,"%"),{textAlign:"center",fontSize:15,fontWeight:300,marginTop:"3%"}),G={height:"50px",display:"grid",alignItems:"center",justifyItems:"center",gridTemplateColumns:"15% 70% 15%",marginTop:"10px"},W={gridColumn:"1",paddingTop:"10px",justifySelf:"start",alignSelf:"center"},V={gridColumn:"2"},X={gridColumn:"3",justifySelf:"end",alignSelf:"center"},K=r(21),J=r.n(K),Q=r(10),Y=r.n(Q),$=["Collecting","Archiving Results","Aborting","Monitoring"],Z=["Success","Partial Success","Failure","Aborted"],ee=["Failure","Partial Success"],te=function(e){switch(e){case"Success":return"success";case"Failure":case"Partial Success":return"error";case"Aborted":case"Mixed":return"warning";case"Not Available":return"notAvailable";case"Collecting":case"Archiving Results":case"Aborting":case"Monitoring":return"notAvailable";default:return"warning"}},re=function(e){switch(e){case"Success":return Object(O._)("Passed");case"Failure":case"Partial Success":return Object(O._)("Failed");case"Aborted":return Object(O._)("Stopped");case"Collecting":case"Archiving Results":case"Aborting":case"Monitoring":default:return Object(O._)("Running")}},ae=function(e){switch(e){case"Success":return Object(O._)("Passed");case"Failure":case"Partial Success":return Object(O._)("Failed");case"Aborted":return Object(O._)("Stopped");case"Collecting":case"Archiving Results":case"Aborting":case"Monitoring":return Object(O._)("Not Available");default:return Object(O._)("Mixed")}},ne=function(e){switch(e){case"Success":case"Partial Success":case"Failure":return Object(O._)("Completed");case"Aborted":return Object(O._)("Stopped");case"Collecting":case"Archiving Results":case"Aborting":case"Monitoring":default:return Object(O._)("Running")}},se=function(e){var t=e.map((function(e){return e.status}));return t.some((function(e){return $.includes(e)}))?"Collecting":t.every((function(e){return"Aborted"===e}))?"Aborted":"Success"},oe=function(e){var t=e.map((function(e){return e.status})),r=t.every((function(e){return"Success"===e})),a=t.some((function(e){return $.includes(e)})),n=t.some((function(e){return ee.includes(e)})),s=t.every((function(e){return"Aborted"===e}));return r?"Success":a?"Collecting":n?"Failure":s?"Aborted":"Mixed"},le=r(75),ce=r.n(le),ue=r(110),ie=r.n(ue),me=r(63),de=r.n(me),pe=r(111),fe=r.n(pe),_e="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/core-components/IconStatus/IconStatus.tsx";function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=b()(e);if(t){var n=b()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return f()(this,r)}}var he={success:"#09c63e",warning:"#EED202",error:"#DC4E41",notAvailable:"#5C6773"},ge={success:ie.a,warning:de.a,error:ce.a,notAvailable:fe.a},ve=function(e){d()(r,e);var t=be(r);function r(){var e;o()(this,r);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s)),g()(i()(e),"renderAlert",(function(t){var r=ge[t];return n.a.createElement(r,{style:{color:he[t],width:"14px",height:"14px",marginBottom:"2px"},__self:i()(e),__source:{fileName:_e,lineNumber:36,columnNumber:13}})})),e}return c()(r,[{key:"render",value:function(){var e=this.props,t=e.displayText,r=e.statusType;return n.a.createElement("div",{__self:this,__source:{fileName:_e,lineNumber:50,columnNumber:13}},this.renderAlert(r)," ",t||"Not Available")}}]),r}(n.a.Component);function Ne(e){var t=e.status,r=e.hostName,a=e.hideHost,s=e.hideStatus,o=e.hideIcon,l=te(t),c="";return!a&&r&&(c+=r),!s&&t&&(c.length?c+=" (".concat(re(t),")"):c+=ae(t)),o?n.a.createElement(n.a.Fragment,null,c):n.a.createElement(ve,{displayText:c,statusType:l,__self:this,__source:{fileName:"/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/core-components/ResultStatus/ResultStatus.tsx",lineNumber:38,columnNumber:12}})}var ye=r(91),ke=r(14),je=r.n(ke),Ee=r(40),Oe=r.n(Ee),Se=r(22),we=r.n(Se),xe=r(27),Ce=r.n(xe),Te=r(48),Re=r.n(Te),Pe=r(112),De=r.n(Pe),Ae=r(113),Le=r.n(Ae),Me=r(97),Fe=r.n(Me),Ie=r(114),He=r.n(Ie),Ue="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/utils/iconMapping.tsx",Be=function(e,t){switch(e){case"abort":case"abortAll":return n.a.createElement(De.a,{hideDefaultTooltip:!0,style:{color:t?"#C3CBD4":"#5C6773"},__self:void 0,__source:{fileName:Ue,lineNumber:16,columnNumber:17}});case"rerun":case"rerunAll":return n.a.createElement(Le.a,{hideDefaultTooltip:!0,style:{color:t?"#C3CBD4":"#5C6773"},__self:void 0,__source:{fileName:Ue,lineNumber:24,columnNumber:17}});case"delete":case"deleteAll":return n.a.createElement(He.a,{hideDefaultTooltip:!0,style:{color:t?"#C3CBD4":"#5C6773"},__self:void 0,__source:{fileName:Ue,lineNumber:32,columnNumber:17}});case"upload":return n.a.createElement(Fe.a,{size:"15px",hideDefaultTooltip:!0,style:{color:t?"#C3CBD4":"#5C6773"},__self:void 0,__source:{fileName:Ue,lineNumber:39,columnNumber:17}});default:return n.a.createElement(n.a.Fragment,null)}},qe=function(e){switch(e){case"abort":case"abortAll":return"Stop";case"rerun":case"rerunAll":return"Run new";case"delete":case"deleteAll":return"Delete";case"upload":return"Upload";default:return null}},ze="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/core-components/ConfirmationModal/ConfirmationModal.tsx";function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=b()(e);if(t){var n=b()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return f()(this,r)}}var We=function(e){d()(r,e);var t=Ge(r);function r(e){var a;return o()(this,r),a=t.call(this,e),g()(i()(a),"handleRequestOpen",(function(e){e.stopPropagation(),a.setState({open:!0})})),g()(i()(a),"handleRequestClose",(function(){a.setState({open:!1})})),g()(i()(a),"handleClick",(function(e){e.stopPropagation()})),g()(i()(a),"submit",(function(){var e=a.props,t=e.rowData,r=e.url,n=e.allHosts,s=e.actionType,o=e.actionLevel,l=e.nodes,c=a.props,u=c.deleteTask,i=c.rerunTask,m=c.abortTask,d={rowData:t,actionType:s,url:r,allHosts:n,actionLevel:o,nodes:l};switch(s){case"abort":case"abortAll":m(d);break;case"rerun":case"rerunAll":i(d);break;case"delete":case"deleteAll":u(d)}a.handleRequestClose()})),a.state={open:!1},a}return c()(r,[{key:"render",value:function(){var e,t=this.props,r=t.disableButton,a=t.actionType,s=t.text,o=t.rowData,l=t.selectedHost,c=this.state.open,u=o.task.name,i={delete:{modalTitle:Object(O._)("Delete Task"),mainText:Object(O._)("By deleting the ".concat(u," task on ").concat(l,", you will no longer have access to its results.")),modalQuestion:Object(O._)("Are you sure you want to delete this task?"),buttonLabel:Object(O._)("Delete")},deleteAll:{modalTitle:Object(O._)("Delete Task Group"),mainText:Object(O._)("By deleting the ".concat(u," task group, you will no longer have access to its results.")),modalQuestion:Object(O._)("Are you sure you want to delete this task group?"),buttonLabel:Object(O._)("Delete")},abort:{modalTitle:Object(O._)("Stop Task"),mainText:Object(O._)("Stopping ".concat(l," will stop running this task on the current peer. Results on other peers will remain available once the task finishes.")),modalQuestion:Object(O._)("Are you sure you want to stop this task?"),buttonLabel:Object(O._)("Stop")},abortAll:{modalTitle:Object(O._)("Stop Task Group"),mainText:Object(O._)("Stopping ".concat(u," will stop running this task on the current and remaining peers. Results on peers where this task already finished will remain available.")),modalQuestion:Object(O._)("Are you sure you want to stop this task group?"),buttonLabel:Object(O._)("Stop")},rerun:{modalTitle:Object(O._)("Run New Task"),mainText:Object(O._)("Running the ".concat(u," on ").concat(l," will start a new task.")),modalQuestion:Object(O._)("Are you sure you want to run this task?"),buttonLabel:Object(O._)("Run")},rerunAll:{modalTitle:Object(O._)("Run New Task Group"),mainText:Object(O._)("Running ".concat(u," will start a new task group.")),modalQuestion:Object(O._)("Are you sure you want to run this task group?"),buttonLabel:Object(O._)("Run")}};return n.a.createElement(n.a.Fragment,null,n.a.createElement(Re.a,{"data-test":"tooltip_".concat(a),content:qe(a),__self:this,__source:{fileName:ze,lineNumber:178,columnNumber:17}},n.a.createElement(Ce.a,{"data-test":"".concat(s||a,"_").concat(null==o||null===(e=o.task)||void 0===e?void 0:e.task_id),onClick:this.handleRequestOpen,style:{cursor:"pointer"},disabled:r,__self:this,__source:{fileName:ze,lineNumber:179,columnNumber:21}},s||Be(a,r))),n.a.createElement(C.a,{id:"confirmationModal",onRequestClose:this.handleRequestClose,open:c,style:{width:"600px"},onClick:this.handleClick,__self:this,__source:{fileName:ze,lineNumber:188,columnNumber:17}},n.a.createElement(C.a.Header,{title:i[a].modalTitle,onRequestClose:this.handleRequestClose,__self:this,__source:{fileName:ze,lineNumber:195,columnNumber:21}}),n.a.createElement(C.a.Body,{__self:this,__source:{fileName:ze,lineNumber:199,columnNumber:21}},n.a.createElement(E.a,{__self:this,__source:{fileName:ze,lineNumber:200,columnNumber:25}},i[a].mainText),n.a.createElement(E.a,{__self:this,__source:{fileName:ze,lineNumber:201,columnNumber:25}},i[a].modalQuestion)),n.a.createElement(C.a.Footer,{__self:this,__source:{fileName:ze,lineNumber:203,columnNumber:21}},n.a.createElement(we.a,{id:"confirmationModalCancelButton",appearance:"secondary",onClick:this.handleRequestClose,label:Object(O._)("Cancel"),__self:this,__source:{fileName:ze,lineNumber:204,columnNumber:25}}),n.a.createElement(we.a,{id:"confirmationModalSubmitButton",appearance:"primary",onClick:this.submit,label:i[a].buttonLabel,__self:this,__source:{fileName:ze,lineNumber:210,columnNumber:25}}))))}}]),r}(a.Component),Ve="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/TooltipLink.tsx";function Xe(e){var t=e.content,r=e.isDisabled,a=e.taskId,s=e.actionType;return n.a.createElement(Re.a,{"data-test":"tooltip_".concat(s),content:t,__self:this,__source:{fileName:Ve,lineNumber:17,columnNumber:9}},n.a.createElement(Ce.a,{"data-test":"".concat(r?"Disabled":"","_").concat(s,"_").concat(a),disabled:r,style:{marginTop:"-5px"},__self:this,__source:{fileName:Ve,lineNumber:18,columnNumber:13}},Be(s,r)))}var Ke=r(30),Je=r(29),Qe=r.n(Je),Ye=r(19),$e=r.n(Ye),Ze=r(17),et=r.n(Ze),tt=r(28),rt=r.n(tt),at=r(57),nt=r.n(at),st=r(70),ot=r.n(st),lt=r(71),ct=r.n(lt),ut=r(11),it=r.n(ut),mt=r(36),dt=r.n(mt),pt="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/sfdc-upload/SFDCLogin.tsx";function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach((function(t){g()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bt(e){var t=e.errorDetails,r=e.userLoginDetails,a=e.updateUserDetails,s=t.callError,o=r.user,l=r.password;return n.a.createElement("div",{"data-test":"SfdcStepOne",style:{marginTop:"20px"},__self:this,__source:{fileName:pt,lineNumber:30,columnNumber:9}},s.length>0&&n.a.createElement(rt.a,{appearance:"fill",type:"error",__self:this,__source:{fileName:pt,lineNumber:32,columnNumber:17}},s),n.a.createElement(E.a,{__self:this,__source:{fileName:pt,lineNumber:36,columnNumber:13}},"Enter your credentials to login to Splunk Support"),n.a.createElement("div",{style:{marginRight:"50px"},__self:this,__source:{fileName:pt,lineNumber:37,columnNumber:13}},n.a.createElement(it.a,{"data-test":"CGUser",label:"Username",__self:this,__source:{fileName:pt,lineNumber:38,columnNumber:17}},n.a.createElement(dt.a,{"data-test":"InputUser",error:s.length>0,value:o,onChange:function(e,t){var n=t.value,s=_t(_t({},r),{},{user:n});a(s)},__self:this,__source:{fileName:pt,lineNumber:39,columnNumber:21}})),n.a.createElement(it.a,{"data-test":"CGPwd",label:"Password",__self:this,__source:{fileName:pt,lineNumber:46,columnNumber:17}},n.a.createElement(dt.a,{"data-test":"InputPwd",error:s.length>0,type:"password",value:l,onChange:function(e,t){var n=t.value,s=_t(_t({},r),{},{password:n});a(s)},__self:this,__source:{fileName:pt,lineNumber:47,columnNumber:21}}))))}var ht=r(31),gt=r.n(ht),vt=r(34),Nt=r.n(vt),yt="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/sfdc-upload/SFDCCaseSelection.tsx",kt=function(e,t,r,a){var n="cases"===e?r:a;return("cases"===e?1===t.length?Object(O._)("%1 of %2 case"):Object(O._)("%1 of %2 cases"):1===t.length?Object(O._)("%1 of %2 peer"):Object(O._)("%1 of %2 peers")).replace("%1",n.length.toString()).replace("%2",t.length.toString())};function jt(e){var t=this,r=e.errorMessage,s=e.peerSelectionDetails,o=e.customerCaseDetails,l=e.descriptionDetails,c=o.customerCase,u=o.allCases,i=o.caseUpdate,m=s.peerSelection,d=s.hostOutputList,p=s.peersUpdate,f=l.uploadDescription,_=l.descriptionUpdate,b=Object(a.useState)(""),h=$e()(b,2),g=h[0],v=h[1],N=Object(a.useState)(""),y=$e()(N,2),k=y[0],j=y[1],S=Object(a.useMemo)((function(){return function(e,t){return e.filter((function(e){return e.toLowerCase().includes(t.toLowerCase())}))}(u,g)}),[u,g]),w=Object(a.useMemo)((function(){return e=k,d.filter((function(t){return t.host.toLowerCase().includes(e.toLowerCase())}));var e}),[d,k]),x=Object(a.useCallback)((function(e,t){var r=t.value;return i(r)}),[i]),C=Object(a.useCallback)((function(e,t){var r=t.values;return p(r)}),[p]),T=Object(a.useCallback)((function(e,t){var r=t.value;return _(r)}),[_]),R=Object(a.useCallback)((function(e,t){var r=t.keyword;v(r)}),[v]),P=Object(a.useCallback)((function(e,t){var r=t.keyword;j(r)}),[j]);return n.a.createElement("div",{"data-test":"SfdcStepTwo",style:{marginTop:"20px"},__self:this,__source:{fileName:yt,lineNumber:105,columnNumber:9}},r.length>0&&n.a.createElement(rt.a,{appearance:"fill",type:"error",__self:this,__source:{fileName:yt,lineNumber:107,columnNumber:17}},r),n.a.createElement(E.a,{__self:this,__source:{fileName:yt,lineNumber:111,columnNumber:13}},Object(O._)("Select a Splunk Support case")),n.a.createElement("div",{style:{marginRight:"50px"},__self:this,__source:{fileName:yt,lineNumber:112,columnNumber:13}},n.a.createElement(it.a,{"data-test":"CGCase",label:Object(O._)("Case"),__self:this,__source:{fileName:yt,lineNumber:113,columnNumber:17}},n.a.createElement(gt.a,{"data-test":"SelectCase",value:c,filter:"controlled",placeholder:Object(O._)("Select a case"),onChange:x,onFilterChange:R,footerMessage:kt("cases",u,S,w),noOptionsMessage:(null==c?void 0:c.length)===(null==u?void 0:u.length)?Object(O._)("No other cases to select"):Object(O._)("No cases matching"),inline:!0,__self:this,__source:{fileName:yt,lineNumber:114,columnNumber:21}},S.map((function(e,r){return n.a.createElement(gt.a.Option,{key:e+r.toString(),label:e,value:e,__self:t,__source:{fileName:yt,lineNumber:135,columnNumber:29}})}))))),n.a.createElement(E.a,{__self:this,__source:{fileName:yt,lineNumber:144,columnNumber:13}},Object(O._)("Select peers for diagnostic file upload")),n.a.createElement("div",{style:{marginRight:"50px"},__self:this,__source:{fileName:yt,lineNumber:145,columnNumber:13}},n.a.createElement(it.a,{"data-test":"CGPeers",label:Object(O._)("Peers"),__self:this,__source:{fileName:yt,lineNumber:146,columnNumber:17}},n.a.createElement(Nt.a,{"data-test":"MultiselectPeers",values:m,onChange:C,placeholder:Object(O._)("Select peers"),footerMessage:kt("peers",d,S,w),controlledFilter:!0,onFilterChange:P,noOptionsMessage:m.length===d.length?Object(O._)("No other peers to select"):Object(O._)("No peers matching"),inline:!0,compact:!0,__self:this,__source:{fileName:yt,lineNumber:147,columnNumber:21}},w.map((function(e,r){var a;return n.a.createElement(Nt.a.Option,{key:e.host+r.toString(),label:(null==e||null===(a=e.hostStatus)||void 0===a?void 0:a.length)>0?"".concat(e.host," (").concat(re(null==e?void 0:e.hostStatus),")"):e.host,value:e.outputFile,__self:t,__source:{fileName:yt,lineNumber:169,columnNumber:29}})})))),n.a.createElement(E.a,{__self:this,__source:{fileName:yt,lineNumber:183,columnNumber:17}},Object(O._)("Customise upload description")),n.a.createElement(it.a,{"data-test":"CGDescription",label:Object(O._)("Description"),__self:this,__source:{fileName:yt,lineNumber:184,columnNumber:17}},n.a.createElement(dt.a,{"data-test":"InputDescription",placeholder:Object(O._)("Please add a description"),error:0===f.length,multiline:!0,inline:!0,value:f,onChange:T,__self:this,__source:{fileName:yt,lineNumber:185,columnNumber:21}}))))}var Et=function(e){return e.reduce((function(e,t){return e[t.task.host]||(e[t.task.host]=[]),e[t.task.host].push(t),e}),{})},Ot=function(e,t){var r={};return e.forEach((function(e){var a=t.find((function(t){return t.outputFile===e}));r[e]={hostName:a.host,proxyTo:a.proxyTo}})),r},St=r(26),wt=r.n(St),xt=r(33),Ct=r(12),Tt=Object(O._)("Unexpected error"),Rt=Object(O._)("No host uploaded"),Pt=Object(O._)("Upload request failed"),Dt=Object(O._)("Please ensure you have the customer cases permission or contact your administrator."),At=[{responseMessage:Tt,responseStatus:"error",hostName:Rt}],Lt=function(){var e=Qe()(et.a.mark((function e(t,r){var a,n,s,o,l,c;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.user,n=r.password,s=r.uploadDescription,o=r.customerCase,l=r.filesAndDetails,e.next=3,Promise.all(t.map((function(e,r){var c,u,i,m;return(u={upload_user:a,upload_password:n,upload_description:s||"Rapid Diag Upload File",case_number:o,upload_file:e},i=null===(c=l[e])||void 0===c?void 0:c.proxyTo,m=Object(Ct.createRESTURL)("remote-proxy/rapid_diag/splunkcom_upload_file"),wt.a.post("".concat(m,"?proxy_to=").concat(encodeURIComponent(i)),JSON.stringify(u),{headers:{"X-Splunk-Form-Key":xt.CSRFToken,"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}}).then((function(e){var t;return{message:null==e||null===(t=e.data)||void 0===t?void 0:t.message,statusValue:e.status}})).catch((function(e){var t,r;throw new Error((null==e||null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||Tt)}))).then((function(e){return{hostName:l[t[r]].hostName,responseStatus:e.message&&200===e.statusValue?"success":"error",responseMessage:e.message||Pt}}),(function(e){return{hostName:l[t[r]].hostName,responseStatus:"error",responseMessage:e.message||Pt}}))}))).catch((function(e){var t,r;throw new Error((null==e||null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||Tt)}));case 3:if(!((c=e.sent).length>0)){e.next=6;break}return e.abrupt("return",c);case 6:return e.abrupt("return",At);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Mt=r(96),Ft=r.n(Mt),It=r(37),Ht=r.n(It),Ut=function(e){return Ft()("".concat(e),"X").utc().format("H:mm:ss")},Bt=function(e){return Ft()("".concat(e),"X").format("MM/DD/YYYY H:mm:ss")},qt=r(13),zt=function(){var e=Qe()(et.a.mark((function e(t){var r,a;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.map((function(e){return{host:e.host,outputFile:e.outputFile,proxy_to:e.proxyTo,version:e.version,hostStatus:e.hostStatus}})),e.next=4,Promise.all(r.map(function(){var e=Qe()(et.a.mark((function e(t){return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(qt.d)("remote-proxy/rapid_diag/splunkcom_upload_progress",[t],{filename:t.outputFile,clean:!0},{output_mode:"json"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Upload progress cleanup could not be successfully run.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Gt=function(){var e=Qe()(et.a.mark((function e(t,r){var a;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,[],a=r.filter((function(e){return Object.keys(t).includes(e.servername)&&parseFloat(e.version)>1.6})),e.next=5,Object(qt.d)("remote-proxy/rapid_diag/splunkcom_upload_progress",a,t,{output_mode:"json"});case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Upload progress could not be retrieved, ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),Wt=function(e,t){try{var r=[];return r=t.filter((function(t){return Object.keys(e).includes(t.servername)&&parseFloat(t.version)>1.6})),Promise.all(r.map(function(){var t=Qe()(et.a.mark((function t(r){var a;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a="",Object.values(e).forEach((function(e){e[0].task.host===r.servername&&(a=e[0].output_file)})),a){t.next=4;break}return t.abrupt("return",null);case 4:return t.abrupt("return",Object(qt.d)("remote-proxy/rapid_diag/splunkcom_upload_actions",[r],{filename:a,action:"cancel"},{output_mode:"json"}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}catch(e){throw new Error("Failed to cancel current upload, ".concat(e,"."))}},Vt=function(){var e=Qe()(et.a.mark((function e(){var t,r,a;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(qt.a)((n=xt.username,"authentication/users/".concat(n)),{output_mode:"json"});case 3:return a=e.sent,e.abrupt("return",null===(t=a.data.entry[0])||void 0===t||null===(r=t.content)||void 0===r?void 0:r.capabilities);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Capabilities could not be retrieved, ".concat(e.t0,"."));case 10:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Xt="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/sfdc-upload/SFDCModal.tsx";function Kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(r),!0).forEach((function(t){g()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qt=Object(O._)("Description field cannot be empty."),Yt=Object(O._)("This feature is only available when HTTPS is enabled."),$t=Object(O._)("Splunk Support Login"),Zt=Object(O._)("Select Case and Files"),er=Object(O._)("Upload is currently in progress, please wait until this upload has completed before trying again.");function tr(e){var t=Object(a.useState)(!1),r=$e()(t,2),s=r[0],o=r[1],l=Object(a.useState)(0),c=$e()(l,2),u=c[0],i=c[1],m=Object(a.useState)(!1),d=$e()(m,2),p=d[0],f=d[1],_=Object(a.useState)("SFDCLogin"),b=$e()(_,2),h=b[0],g=b[1],v=Object(a.useState)({customerCases:[],callError:"",initialCall:!0}),N=$e()(v,2),y=N[0],k=N[1],j=Object(a.useState)({user:"",password:""}),E=$e()(j,2),S=E[0],w=E[1],x=Object(a.useState)(""),T=$e()(x,2),P=T[0],D=T[1],A=Object(a.useState)([]),L=$e()(A,2),M=L[0],F=L[1],I=Object(a.useState)(!1),H=$e()(I,2),U=H[0],B=H[1],q=e.description?" (".concat(e.description,")"):"",z="".concat("".concat(Object(O._)("Rapid Diag:")," ").concat(e.title," ").concat(e.taskTimestamp).concat(q)),G=Object(a.useState)(z.trim()),W=$e()(G,2),V=W[0],X=W[1],K=e.taskId,J=e.disableButton,Q=e.hostOutputList,Y=e.title,$=e.caseUploadHandler,Z=e.groupedHost,ee=e.nodes,te="https:"!==window.location.protocol;Object(a.useEffect)((function(){s&&function(){var e=Qe()(et.a.mark((function e(){var t,r,a;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt(Z,ee);case 2:t=e.sent,r=t.filter((function(e){return null!=e})),a=r.map((function(e){return Object.values(e).every((function(e){return e.percent&&100!==e.percent}))})).reduce((function(e,t){return e||t}),!1),B(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[Z,ee,s]);var re=Object(a.useCallback)((function(){i(u-1),g("SFDCLogin")}),[u]);Object(a.useEffect)((function(){var e=y.callError,t=y.initialCall;0!==e.length||t||(i((function(e){return e+1})),g("CaseUpload"))}),[y,g,i]);var ae,ne=function(){var e=Qe()(et.a.mark((function e(){var t,r,a;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S.user,r=S.password,f(!0),e.prev=2,e.next=5,n={upload_user:t,upload_password:r},s=void 0,s=Object(Ct.createRESTURL)("rapid_diag/splunkcom_list_customer_cases"),wt.a.post(s,JSON.stringify(n),{headers:{"X-Splunk-Form-Key":xt.CSRFToken,"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}}).then((function(e){return e.data.map((function(e){return String(e.case_number)}))})).catch((function(e){var t,r,a;if(403===(null==e||null===(t=e.response)||void 0===t?void 0:t.status))throw new Error(Dt);throw new Error((null==e||null===(r=e.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.error)||Tt)}));case 5:a=e.sent,k({customerCases:a,callError:"",initialCall:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),k(Jt(Jt({},y),{},{callError:e.t0.message,initialCall:!1}));case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}var n,s}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),se=function(){o(!1),i(0),g("SFDCLogin"),k({customerCases:[],callError:"",initialCall:!0}),w({user:"",password:""}),D(""),X(z),F([]),B(!1)},oe=1===u,le=te||p||S.password.length<6||S.user.length<2||U,ce=p||0===P.length||0===M.length||0===V.length,ue=function(){var e=Qe()(et.a.mark((function e(){var t,r,a,n;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),t=S.user,r=S.password,a=Ot(M,Q),n=[],e.prev=4,e.next=7,Lt(M,{user:t,password:r,uploadDescription:V,customerCase:P,filesAndDetails:a});case 7:n=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),n=At;case 13:return e.prev=13,e.next=16,zt(Q);case 16:return f(!1),$(n),se(),e.finish(13);case 20:case"end":return e.stop()}}),e,null,[[4,10,13,20]])})));return function(){return e.apply(this,arguments)}}(),ie={customerCase:P,allCases:y.customerCases,caseUpdate:function(e){D(e)}},me={peerSelection:M,hostOutputList:Q,peersUpdate:function(e){F(e)}},de={uploadDescription:V,descriptionUpdate:function(e){X(e)}};return n.a.createElement(n.a.Fragment,null,n.a.createElement(Re.a,{"data-test":"tooltip_upload",content:qe("upload"),__self:this,__source:{fileName:Xt,lineNumber:230,columnNumber:13}},n.a.createElement(Ce.a,{"data-test":"upload_".concat(K," "),onClick:function(){o(!0)},style:{cursor:"pointer"},disabled:J,__self:this,__source:{fileName:Xt,lineNumber:231,columnNumber:17}},Be("upload",J))),n.a.createElement(C.a,{"data-test":"SfdcModal",onRequestClose:se,open:s,style:{width:"600px"},__self:this,__source:{fileName:Xt,lineNumber:240,columnNumber:13}},n.a.createElement(C.a.Header,{title:Object(O._)("Upload ".concat((ae=Y,Ht.a.capitalize(ae))," files to Splunk Support")),onRequestClose:se,__self:this,__source:{fileName:Xt,lineNumber:246,columnNumber:17}}),n.a.createElement(C.a.Body,{__self:this,__source:{fileName:Xt,lineNumber:250,columnNumber:17}},n.a.createElement(nt.a,{activeStepId:u,__self:this,__source:{fileName:Xt,lineNumber:251,columnNumber:21}},n.a.createElement(nt.a.Step,{__self:this,__source:{fileName:Xt,lineNumber:252,columnNumber:25}},$t),n.a.createElement(nt.a.Step,{__self:this,__source:{fileName:Xt,lineNumber:253,columnNumber:25}},Zt)),te&&n.a.createElement(rt.a,{appearance:"fill",type:"error",__self:this,__source:{fileName:Xt,lineNumber:256,columnNumber:25}},Yt),U&&n.a.createElement(rt.a,{appearance:"fill",type:"error",__self:this,__source:{fileName:Xt,lineNumber:261,columnNumber:25}},er),"SFDCLogin"===h?n.a.createElement(bt,{userLoginDetails:S,errorDetails:{callError:y.callError},updateUserDetails:function(e){w(e)},__self:this,__source:{fileName:Xt,lineNumber:266,columnNumber:25}}):n.a.createElement(jt,{customerCaseDetails:ie,peerSelectionDetails:me,descriptionDetails:de,errorMessage:0===V.length?Qt:"",__self:this,__source:{fileName:Xt,lineNumber:274,columnNumber:25}})),n.a.createElement(C.a.Footer,{__self:this,__source:{fileName:Xt,lineNumber:282,columnNumber:17}},n.a.createElement(we.a,{"data-test":"Cancel",appearance:"secondary",onClick:se,label:Object(O._)("Cancel"),__self:this,__source:{fileName:Xt,lineNumber:283,columnNumber:21}}),n.a.createElement(we.a,{"data-test":"Back",icon:n.a.createElement(ot.a,{__self:this,__source:{fileName:Xt,lineNumber:291,columnNumber:31}}),label:Object(O._)("Back"),appearance:"default",disabled:0===u,onClick:re,__self:this,__source:{fileName:Xt,lineNumber:289,columnNumber:21}}),n.a.createElement(we.a,{"data-test":"Next",label:oe?Object(O._)("Finish"):Object(O._)("Next"),appearance:"primary",onClick:oe?ue:ne,disabled:oe?ce:le,__self:this,__source:{fileName:Xt,lineNumber:297,columnNumber:21}},p?n.a.createElement(R.a,{__self:this,__source:{fileName:Xt,lineNumber:304,columnNumber:36}}):!oe&&n.a.createElement(ct.a,{__self:this,__source:{fileName:Xt,lineNumber:304,columnNumber:69}})))))}var rr="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/TaskActions.tsx";function ar(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return nr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nr(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,s=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw s}}}}function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=b()(e);if(t){var n=b()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return f()(this,r)}}var or=["system_call_trace","stack_trace","network_packet","search_result","iops","netstat","splunk_diag","periodic","log_monitor","resource_monitor","search_debug","ps","lsof"],lr=function(e){d()(r,e);var t=sr(r);function r(){var e;o()(this,r);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return e=t.call.apply(t,[this].concat(l)),g()(i()(e),"showAlert",(function(t){if(null!=t&&t.collector_availability_status&&Object.keys(e.props).filter((function(e){var r,a,n,s;return-1!==or.indexOf(e)&&(null==t||null===(r=t.collector_availability_status)||void 0===r?void 0:r.unavailable_utilities)&&(null==t||null===(a=t.collector_availability_status)||void 0===a?void 0:a.running_collectors)&&!0==(e in(null==t||null===(n=t.collector_availability_status)||void 0===n?void 0:n.unavailable_utilities)||e in(null==t||null===(s=t.collector_availability_status)||void 0===s?void 0:s.running_collectors))})).length>0)return!0;return!1})),g()(i()(e),"renderCollectorsShowAndMessage",(function(t,r,s){var o=[],l=!1;return t&&Object.keys(t).forEach((function(c){s.has(c)&&(l=!0,"unavailable_utilities"===r?o.push(n.a.createElement(a.Fragment,{key:c,__self:i()(e),__source:{fileName:rr,lineNumber:160,columnNumber:29}},n.a.createElement(Oe.a.Item,{style:{color:"white"},__self:i()(e),__source:{fileName:rr,lineNumber:161,columnNumber:33}},"".concat(Ke.a[c],": ").concat(Object.values(t[c])[0])))):o.push(n.a.createElement(a.Fragment,{key:c,__self:i()(e),__source:{fileName:rr,lineNumber:170,columnNumber:29}},n.a.createElement(Oe.a.Item,{style:{color:"white"},__self:i()(e),__source:{fileName:rr,lineNumber:171,columnNumber:33}},"".concat(Ke.a[c])))))})),{show:l,displayMessage:o}})),g()(i()(e),"renderHostError",(function(t){var r=[],s=!1;if(t){s=!0;var o,l=ar(["Check if the host is up.","Check if splunk is running on this host.","Check if splunk_rapid_diag app is enabled."]);try{for(l.s();!(o=l.n()).done;){var c=o.value;r.push(n.a.createElement(a.Fragment,{key:c,__self:i()(e),__source:{fileName:rr,lineNumber:195,columnNumber:21}},n.a.createElement(Oe.a.Item,{__self:i()(e),__source:{fileName:rr,lineNumber:196,columnNumber:25}},c)))}}catch(e){l.e(e)}finally{l.f()}}return{show:s,displayMessage:r}})),g()(i()(e),"renderPopoverContent",(function(t){var r=e.getCollectorIntersection(t),a=e.renderCollectorsShowAndMessage(t.collector_availability_status.running_collectors,"running_collectors",r).show,s=e.renderCollectorsShowAndMessage(t.collector_availability_status.running_collectors,"running_collectors",r).displayMessage,o=e.renderCollectorsShowAndMessage(t.collector_availability_status.unavailable_utilities,"unavailable_utilities",r).show,l=e.renderCollectorsShowAndMessage(t.collector_availability_status.unavailable_utilities,"unavailable_utilities",r).displayMessage,c=e.renderHostError(t.hostDown).show,u=e.renderHostError(t.hostDown).displayMessage;return n.a.createElement(n.a.Fragment,null,a&&n.a.createElement("div",{style:{padding:"15px"},__self:i()(e),__source:{fileName:rr,lineNumber:232,columnNumber:21}},n.a.createElement(E.a,{style:{color:"white"},__self:i()(e),__source:{fileName:rr,lineNumber:233,columnNumber:25}},"Following collector(s) are already running on this host: "),n.a.createElement(Oe.a,{__self:i()(e),__source:{fileName:rr,lineNumber:236,columnNumber:25}},s)),o&&n.a.createElement("div",{style:{padding:"15px"},__self:i()(e),__source:{fileName:rr,lineNumber:241,columnNumber:21}},n.a.createElement(E.a,{style:{color:"white"},__self:i()(e),__source:{fileName:rr,lineNumber:242,columnNumber:25}},"Following utilities can't be used in this Splunk Platform Instance: "),n.a.createElement(Oe.a,{__self:i()(e),__source:{fileName:rr,lineNumber:245,columnNumber:25}},l)),c&&n.a.createElement("div",{style:{padding:"15px"},__self:i()(e),__source:{fileName:rr,lineNumber:250,columnNumber:21}},n.a.createElement(E.a,{style:{color:"white"},__self:i()(e),__source:{fileName:rr,lineNumber:251,columnNumber:25}},"Service is unavailable for this host"),n.a.createElement(Oe.a,{__self:i()(e),__source:{fileName:rr,lineNumber:252,columnNumber:25}},u)),!a&&!o&&!c&&n.a.createElement("div",{style:{padding:"15px"},__self:i()(e),__source:{fileName:rr,lineNumber:257,columnNumber:21}},n.a.createElement(E.a,{style:{color:"white"},__self:i()(e),__source:{fileName:rr,lineNumber:258,columnNumber:25}},"Please wait")))})),g()(i()(e),"renderStop",(function(t){var r=e.props,a=r.actionLevel,s=r.allHosts,o=r.taskGroupedData,l=r.nodes,c=r.selectedHost,u=o.abortTask,m=!["Monitoring","Collecting"].includes(t.status);return n.a.createElement(We,{rowData:t,url:"remote-proxy/rapid_diag/task_abort",actionType:"hostLevel"===a?"abort":"abortAll",allHosts:s,actionLevel:a,nodes:l,disableButton:m,selectedHost:c,abortTask:u,__self:i()(e),__source:{fileName:rr,lineNumber:270,columnNumber:13}})})),g()(i()(e),"renderRun",(function(t){var r,a=e.showAlert(t),s=e.props,o=s.actionLevel,l=s.allHosts,c=s.taskGroupedData,u=s.nodes,m=s.selectedHost,d=c.rerunTask,p=Z.includes(t.status)&&a||["Archiving Results","Aborting"].includes(t.status),f=["Collecting","Monitoring"].includes(t.status);return p?n.a.createElement(Xe,{taskId:null==t||null===(r=t.task)||void 0===r?void 0:r.task_id,content:e.renderPopoverContent(t),actionType:"hostLevel"===o?"rerun":"rerunAll",isDisabled:!0,__self:i()(e),__source:{fileName:rr,lineNumber:296,columnNumber:17}}):n.a.createElement(We,{rowData:t,url:"remote-proxy/rapid_diag/task_rerun",actionType:"hostLevel"===o?"rerun":"rerunAll",allHosts:l,actionLevel:o,nodes:u,rerunTask:d,selectedHost:m,disableButton:f,__self:i()(e),__source:{fileName:rr,lineNumber:305,columnNumber:13}})})),g()(i()(e),"renderDelete",(function(t){var r=e.props,a=r.actionLevel,s=r.allHosts,o=r.taskGroupedData,l=r.nodes,c=r.selectedHost,u=!1;return $.includes(t.status)&&(u=!0),n.a.createElement(We,{rowData:t,url:"remote-proxy/rapid_diag/task_delete",actionType:"hostLevel"===a?"delete":"deleteAll",allHosts:s,actionLevel:a,nodes:l,disableButton:u,selectedHost:c,deleteTask:o.deleteTask,__self:i()(e),__source:{fileName:rr,lineNumber:326,columnNumber:13}})})),g()(i()(e),"renderSFDCUpload",(function(t){var r,a=e.props,s=a.hostOutputList,o=a.caseUploadHandler,l=a.groupedHost,c=a.nodes,u=!1;return $.includes(t.status)&&(u=!0),n.a.createElement(tr,{title:t.name,taskTimestamp:Bt(t.created_at),description:t.task.description,hostOutputList:s,taskId:null==t||null===(r=t.task)||void 0===r?void 0:r.task_id,disableButton:u,groupedHost:l,nodes:c,caseUploadHandler:o,__self:i()(e),__source:{fileName:rr,lineNumber:347,columnNumber:13}})})),e}return c()(r,[{key:"getCollectorIntersection",value:function(e){var t,r,a,n=new Set,s=new Set;null!=e&&null!==(t=e.collector_availability_status)&&void 0!==t&&t.running_collectors&&(Object.keys(null==e||null===(r=e.collector_availability_status)||void 0===r?void 0:r.running_collectors).map((function(e){return n.add(e)})),Object.keys(null==e||null===(a=e.collector_availability_status)||void 0===a?void 0:a.unavailable_utilities).map((function(e){return n.add(e)})),Object.keys(this.props).filter((function(e){return-1!==or.indexOf(e)})).map((function(e){return s.add(e)})));return new Set(je()(s).filter((function(e){return n.has(e)})))}},{key:"render",value:function(){var e=this.props.data.created_at,t=this.props,r=t.data,a=t.actionLevel,s=n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{marginRight:"5px",display:"inline"},__self:this,__source:{fileName:rr,lineNumber:366,columnNumber:17}},this.renderRun(r)),n.a.createElement("div",{style:{marginLeft:"5px",marginRight:"5px",display:"inline"},__self:this,__source:{fileName:rr,lineNumber:367,columnNumber:17}},this.renderStop(r)),n.a.createElement("div",{style:{marginLeft:"5px",marginRight:"5px",display:"inline"},__self:this,__source:{fileName:rr,lineNumber:370,columnNumber:17}},this.renderDelete(r)),"mainLevel"===a&&n.a.createElement("div",{style:{marginLeft:"5px",display:"inline"},__self:this,__source:{fileName:rr,lineNumber:374,columnNumber:21}},this.renderSFDCUpload(r)));switch(a){case"hostLevel":return n.a.createElement("div",{key:"action","data-test":"".concat(e,"-action"),style:{marginLeft:"10px",display:"inline"},__self:this,__source:{fileName:rr,lineNumber:384,columnNumber:21}},s);default:return n.a.createElement(Y.a.Cell,{key:"action","data-test":"".concat(e,"-action"),__self:this,__source:{fileName:rr,lineNumber:394,columnNumber:21}},s)}}}]),r}(n.a.Component),cr=function(){return"_".concat(Math.random().toString(36).substr(2,12))},ur=new Set,ir=function(e){for(var t=e;ur.has(t);)t+=1;return ur.add(t),t},mr=function(e,t,r,a){var n=e,s=ir(r+1);void 0===n.search_debug?n.search_debug=[]:n.search_debug=je()(n.search_debug);var o=void 0!==t.result?t.result.status:void 0,l=void 0!==t.result?t.result.message:void 0,c={id:cr(),selected:!0,level:r,parentId:a,result_status:o,result_message:l,__class__:t.__class__,search_regex:t.search_regex,action_needed:t.action_needed};n.search_debug.push(c),t.hasOwnProperty("collectors")&&0!==t.collectors.length&&(fr(n,t.collectors,s,r),_r(n,t.collectors,s,r))},dr=function(e,t,r,a){var n=e,s=ir(r+1);void 0===n.periodic?n.periodic=[]:n.periodic=je()(n.periodic);var o=void 0!==t&&void 0!==t.collectors&&t.collectors.length>0&&void 0!==t.collectors[0]&&void 0!==t.collectors[0].result?t.collectors[0].result.status:void 0,l=void 0!==t&&void 0!==t.collectors&&t.collectors.length>0&&void 0!==t.collectors[0]&&void 0!==t.collectors[0].result?t.collectors[0].result.status:void 0,c={id:cr(),selected:!0,result_status:o,result_message:l,level:r,parentId:a,__class__:t.__class__,interval:t.interval,sampleCount:t.sampleCount,action_needed:t.action_needed};n.periodic.push(c),t.hasOwnProperty("collectors")&&0!==t.collectors.length&&(fr(n,t.collectors,s,r),_r(n,t.collectors,s,r))},pr=function(e){var t,r,a,n,s,o,l=e.obj,c=e.collector,u=e.level,i=e.parentId,m=l,d=ir(u+1);void 0===m.scoped_log_level_action?m.scoped_log_level_action=[]:m.scoped_log_level_action=je()(m.scoped_log_level_action);var p=null==c||null===(t=c.collectors)||void 0===t||null===(r=t[0])||void 0===r||null===(a=r.result)||void 0===a?void 0:a.status,f=null==c||null===(n=c.collectors)||void 0===n||null===(s=n[0])||void 0===s||null===(o=s.result)||void 0===o?void 0:o.status,_={id:cr(),selected:!0,result_status:p,result_message:f,level:u,parentId:i,__class__:c.__class__,log_level:c.log_level,log_channels:c.log_channels,action_needed:c.action_needed,exec_mode:1};m.scoped_log_level_action.push(_),c.hasOwnProperty("collectors")&&0!==c.collectors.length&&(fr(m,c.collectors,d,u),_r(m,c.collectors,d,u))},fr=function(e,t,r,a){t.map((function(t){if(t.__class__.endsWith("SearchDebug")){var n=ir(r+1);mr(e,t,n,a)}else if(t.__class__.endsWith("ResourceMonitor")){var s=ir(r+1);hr(e,t,s,a)}else if(t.__class__.endsWith("LogMonitor")){var o=ir(r+1);br(e,t,o,a)}else if(t.__class__.endsWith("Periodic")){var l=ir(r+1);dr(e,t,l,a)}else if(t.__class__.endsWith("ScopedLogLevelAction")){var c=ir(r+1);pr({obj:e,collector:t,level:c,parentId:a})}return t}))},_r=function(e,t,r,a){t.map((function(t){if(t.__class__.endsWith("SystemCallTrace")){var n=ir(r+1);!function(e,t,r,a){var n=e;void 0===n.system_call_trace?n.system_call_trace=[]:n.system_call_trace=je()(n.system_call_trace);var s=void 0!==t.result?t.result.status:void 0,o=void 0!==t.result?t.result.message:void 0,l={id:cr(),selected:!0,level:r,parentId:a,result_status:s,result_message:o,__class__:t.__class__,process:t.process,collection_time:t.collection_time,action_needed:t.action_needed};n.system_call_trace.push(l)}(e,t,n,a)}else if(t.__class__.endsWith("StackTrace")){var s=ir(r+1);!function(e,t,r,a){var n=e;void 0===n.stack_trace?n.stack_trace=[]:n.stack_trace=je()(n.stack_trace);var s=void 0!==t.result?t.result.status:void 0,o=void 0!==t.result?t.result.message:void 0,l={id:cr(),selected:!0,level:r,parentId:a,result_status:s,result_message:o,__class__:t.__class__,process:t.process,action_needed:t.action_needed};n.stack_trace.push(l)}(e,t,s,a)}else if(t.__class__.endsWith("NetworkPacket")){var o=ir(r+1);!function(e,t,r,a){var n=e;void 0===n.network_packet?n.network_packet=[]:n.network_packet=je()(n.network_packet);var s=void 0!==t.result?t.result.status:void 0,o=void 0!==t.result?t.result.message:void 0,l={id:cr(),selected:!0,level:r,parentId:a,result_status:s,result_message:o,__class__:t.__class__,port:t.port,ip_address:t.ip_address,collection_time:t.collection_time,action_needed:t.action_needed};n.network_packet.push(l)}(e,t,o,a)}else if(t.__class__.endsWith("SearchResult")){var l=ir(r+1);!function(e,t,r,a){var n=e;void 0===n.search_result?n.search_result=[]:n.search_result=je()(n.search_result);var s=void 0!==t.result?t.result.status:void 0,o=void 0!==t.result?t.result.message:void 0,l={id:cr(),selected:!0,level:r,parentId:a,result_status:s,result_message:o,__class__:t.__class__,search_query:t.search_query,action_needed:t.action_needed};n.search_result.push(l)}(e,t,l,a)}else if(t.__class__.endsWith("Diag")){var c=ir(r+1);!function(e,t,r,a){var n=e;void 0===n.splunk_diag?n.splunk_diag=[]:n.splunk_diag=je()(n.splunk_diag);var s=void 0!==t.result?t.result.status:void 0,o=void 0!==t.result?t.result.message:void 0,l={id:cr(),selected:!0,result_status:s,result_message:o,level:r,parentId:a,__class__:t.__class__,action_needed:t.action_needed};n.splunk_diag.push(l)}(e,t,c,a)}else if(t.__class__.endsWith("IOPS")){var u=ir(r+1);!function(e,t,r,a){var n=e;void 0===n.iops?n.iops=[]:n.iops=je()(n.iops);var s=void 0!==t.result?t.result.status:void 0,o=void 0!==t.result?t.result.message:void 0,l={id:cr(),selected:!0,level:r,parentId:a,result_status:s,result_message:o,__class__:t.__class__,collection_time:t.collection_time,action_needed:t.action_needed};n.iops.push(l)}(e,t,u,a)}else if(t.__class__.endsWith("NetStat")){var i=ir(r+1);!function(e,t,r,a){var n=e;void 0===n.netstat?n.netstat=[]:n.netstat=je()(n.netstat);var s=void 0!==t.result?t.result.status:void 0,o=void 0!==t.result?t.result.message:void 0,l={id:cr(),selected:!0,level:r,parentId:a,result_status:s,result_message:o,__class__:t.__class__,action_needed:t.action_needed};n.netstat.push(l)}(e,t,i,a)}else if(t.__class__.endsWith("PS")){var m=ir(r+1);!function(e,t,r,a){var n=e;void 0===n.ps?n.ps=[]:n.ps=je()(n.ps);var s=void 0!==t.result?t.result.status:void 0,o=void 0!==t.result?t.result.message:void 0,l={id:cr(),selected:!0,level:r,parentId:a,result_status:s,result_message:o,__class__:t.__class__,action_needed:t.action_needed};n.ps.push(l)}(e,t,m,a)}else if(t.__class__.endsWith("LSOF")){var d=ir(r+1);!function(e,t,r,a){var n=e;void 0===n.lsof?n.lsof=[]:n.lsof=je()(n.lsof);var s=void 0!==t.result?t.result.status:void 0,o=void 0!==t.result?t.result.message:void 0,l={id:cr(),selected:!0,level:r,parentId:a,result_status:s,result_message:o,__class__:t.__class__,process:t.process,action_needed:t.action_needed};n.lsof.push(l)}(e,t,d,a)}return t}))},br=function(e,t,r,a){var n=e,s=ir(r+1);void 0===n.log_monitor?n.log_monitor=[]:n.log_monitor=je()(n.log_monitor);var o=void 0!==t&&void 0!==t.collectors&&t.collectors.length>0&&void 0!==t.collectors[0]&&void 0!==t.collectors[0].result?t.collectors[0].result.status:void 0,l=void 0!==t&&void 0!==t.collectors&&t.collectors.length>0&&void 0!==t.collectors[0]&&void 0!==t.collectors[0].result?t.collectors[0].result.message:void 0,c={id:cr(),selected:!0,level:r,parentId:a,result_status:o,result_message:l,__class__:t.__class__,selectedFile:t.selectedFile,regex:t.regex,action_needed:t.action_needed};n.log_monitor.push(c),t.hasOwnProperty("collectors")&&0!==t.collectors.length&&(fr(n,t.collectors,s,r),_r(n,t.collectors,s,r))},hr=function(e,t,r,a){var n=e,s=ir(r+1);void 0===n.resource_monitor?n.resource_monitor=[]:n.resource_monitor=je()(n.resource_monitor);var o=void 0!==t&&void 0!==t.collectors&&t.collectors.length>0&&void 0!==t.collectors[0]&&void 0!==t.collectors[0].result?t.collectors[0].result.status:void 0,l=void 0!==t&&void 0!==t.collectors&&t.collectors.length>0&&void 0!==t.collectors[0]&&void 0!==t.collectors[0].result?t.collectors[0].result.message:void 0,c={id:cr(),selected:!0,level:r,parentId:a,result_status:o,result_message:l,__class__:t.__class__,resource_monitor_trackers:t.resource_monitor_trackers,action_needed:t.action_needed};n.resource_monitor.push(c),t.hasOwnProperty("collectors")&&0!==t.collectors.length&&(fr(n,t.collectors,s,r),_r(n,t.collectors,s,r))},gr=function(e){var t={};return e.collectors.map((function(e){if(e.__class__.endsWith("SearchDebug")){var r=ir(1);mr(t,e,r,0)}else if(e.__class__.endsWith("ResourceMonitor")){var a=ir(1);hr(t,e,a,0)}else if(e.__class__.endsWith("LogMonitor")){var n=ir(1);br(t,e,n,0)}else if(e.__class__.endsWith("Periodic")){var s=ir(1);dr(t,e,s,0)}else if(e.__class__.endsWith("ScopedLogLevelAction")){var o=ir(1);pr({obj:t,collector:e,level:o,parentId:0})}else{var l=ir(1);_r(t,[e],l,0)}return e})),t.name=e.name,t.description=e.description,t.collector_tool_names=e.collector_tool_names,t};function vr(e){var t=e.status;return n.a.createElement(n.a.Fragment,null,ne(t))}var Nr=r(23),yr=r.n(Nr),kr="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/core-components/HostDropdown/HostDropdown.tsx";function jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=b()(e);if(t){var n=b()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return f()(this,r)}}var Er=function(e){d()(r,e);var t=jr(r);function r(){var e;o()(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),g()(i()(e),"handleChange",(function(t,r){var a=r.value;e.props.updateSelectedHost(a)})),e}return c()(r,[{key:"render",value:function(){var e=this,t=this.props.finalHostAndValues;return n.a.createElement(gt.a,{value:this.props.defaultValue,onChange:this.handleChange,__self:this,__source:{fileName:kr,lineNumber:22,columnNumber:13}},Object.entries(t).sort().map((function(t,r){var a=$e()(t,2),s=a[0],o=a[1];return n.a.createElement(gt.a.Option,{key:s+r.toString(),label:s,value:s,__self:e,__source:{fileName:kr,lineNumber:31,columnNumber:33}},n.a.createElement(Ne,{hideIcon:!0,status:o,hostName:s,__self:e,__source:{fileName:kr,lineNumber:36,columnNumber:37}}))})))}}]),r}(n.a.Component),Or=r(25),Sr=r.n(Or),wr="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/core-components/DisplayModal/DisplayModal.tsx";function xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=b()(e);if(t){var n=b()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return f()(this,r)}}var Cr=function(e){d()(r,e);var t=xr(r);function r(){var e;o()(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),g()(i()(e),"state",{openModal:!1}),g()(i()(e),"handleOpenModal",(function(){e.setState({openModal:!0})})),g()(i()(e),"handleCloseModal",(function(){e.setState({openModal:!1})})),e}return c()(r,[{key:"render",value:function(){var e=this.state.openModal,t=this.props,r=t.modalContent,a=t.modalFooter,s=t.headerTitle,o=t.buttonLabel,l=t.buttonType,c=t.disabledResults,u=t.tooltipContent,i=t.style;return n.a.createElement("div",{style:i,"data-test":"display-modal-".concat(s.replace(" ","-")),__self:this,__source:{fileName:wr,lineNumber:50,columnNumber:13}},"link"===l?n.a.createElement(Re.a,{content:u,"data-test":"display-modal-link-button-tooltip",__self:this,__source:{fileName:wr,lineNumber:52,columnNumber:21}},n.a.createElement(Ce.a,{disabled:c,id:"display-modal-button-".concat(s.replace(" ","-")),onClick:this.handleOpenModal,style:{marginTop:"-5px"},__self:this,__source:{fileName:wr,lineNumber:53,columnNumber:25}},o)):n.a.createElement(Re.a,{content:u,"data-test":"display-modal-button-tooltip",__self:this,__source:{fileName:wr,lineNumber:63,columnNumber:21}},n.a.createElement(we.a,{disabled:c,id:"display-modal-button-".concat(s.replace(" ","-")),onClick:this.handleOpenModal,label:o,__self:this,__source:{fileName:wr,lineNumber:64,columnNumber:25}})),n.a.createElement(C.a,{onRequestClose:this.handleCloseModal,open:e,style:{width:"1000px"},__self:this,__source:{fileName:wr,lineNumber:72,columnNumber:17}},n.a.createElement(C.a.Header,{title:s,onRequestClose:this.handleCloseModal,__self:this,__source:{fileName:wr,lineNumber:77,columnNumber:21}}),n.a.createElement(C.a.Body,{__self:this,__source:{fileName:wr,lineNumber:78,columnNumber:21}},r),n.a.createElement(C.a.Footer,{__self:this,__source:{fileName:wr,lineNumber:80,columnNumber:21}},a)))}}]),r}(a.Component),Tr=r(104),Rr=r.n(Tr),Pr=r(65),Dr="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/ImmediateAndTriggeredCollectors.tsx";function Ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=b()(e);if(t){var n=b()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return f()(this,r)}}var Lr=["__class__","parentId","level","selected","name","id","action_needed","result_status","exec_mode"],Mr=["regex","search_regex"],Fr=function(e){d()(r,e);var t=Ar(r);function r(){var e;o()(this,r);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return e=t.call.apply(t,[this].concat(l)),g()(i()(e),"setColumnNo",(function(e){return"trigger"===e?3:2})),g()(i()(e),"getExpansionRow",(function(t,r){return"flatTasks"===r?n.a.createElement(Y.a.Row,{__self:i()(e),__source:{fileName:Dr,lineNumber:50,columnNumber:17}},n.a.createElement(Y.a.Cell,{style:{borderTop:"none"},colSpan:e.setColumnNo(e.props.collectorType),__self:i()(e),__source:{fileName:Dr,lineNumber:51,columnNumber:21}},e.renderCollectorParametersDetails(t))):n.a.createElement(Y.a.Row,{__self:i()(e),__source:{fileName:Dr,lineNumber:61,columnNumber:13}},t.map((function(t,r){return n.a.createElement(Y.a.Cell,{key:r,style:{borderTop:"none"},colSpan:e.setColumnNo(e.props.collectorType),__self:i()(e),__source:{fileName:Dr,lineNumber:63,columnNumber:21}},e.renderCollectorParametersDetails(t))})))})),g()(i()(e),"renderProcessList",(function(t){return void 0!==t?t.process?n.a.createElement(Sr.a.Description,{__self:i()(e),__source:{fileName:Dr,lineNumber:80,columnNumber:21}},"".concat(t.process.process_type," (").concat(t.process.pid,")")):n.a.createElement(Sr.a.Description,{__self:i()(e),__source:{fileName:Dr,lineNumber:86,columnNumber:17}},"".concat(t.name," - ").concat(t.process_type," (").concat(t.pid,")")):null})),g()(i()(e),"renderResourceMonitorList",(function(t){return t.map((function(t,r){return n.a.createElement(Sr.a,{key:r,termWidth:300,__self:i()(e),__source:{fileName:Dr,lineNumber:97,columnNumber:13}},n.a.createElement(Sr.a.Term,{__self:i()(e),__source:{fileName:Dr,lineNumber:98,columnNumber:17}},Ke.a[t.metric]),n.a.createElement(Sr.a.Description,{__self:i()(e),__source:{fileName:Dr,lineNumber:99,columnNumber:17}},"".concat(t.threshold," (").concat(t.invert,")")))}))})),g()(i()(e),"renderExpandedDetail",(function(e){return Array.isArray(e)?e.join(", "):e})),g()(i()(e),"renderCollectorParametersDetails",(function(t){return Object.keys(t).map((function(r){return"result_message"===r&&"Success"===t.result_status?null:-1===Lr.indexOf(r)&&n.a.createElement(Sr.a,{key:r,termWidth:300,style:{cursor:"inherit"},__self:i()(e),__source:{fileName:Dr,lineNumber:123,columnNumber:23}},"resource_monitor_trackers"!==r&&n.a.createElement(Sr.a.Term,{style:{cursor:"inherit"},__self:i()(e),__source:{fileName:Dr,lineNumber:125,columnNumber:31}},Ke.a[r]),"process"===r||"resource_monitor_trackers"===r?"process"===r?e.renderProcessList(t[r]):e.renderResourceMonitorList(t[r]):n.a.createElement(Sr.a.Description,{style:{cursor:"inherit",marginTop:"5px"},__self:i()(e),__source:{fileName:Dr,lineNumber:134,columnNumber:31}},null!==t[r]&&void 0!==t[r]||-1!==Mr.indexOf(r)?e.renderExpandedDetail(t[r]):"N/A"))}))})),g()(i()(e),"findCollectorsForTrigger",(function(t,r){var a="".concat(t,"_").concat(r);return e.props.mapTriggerCollector[a].map((function(e){return Ke.a[e.name]})).join(", ")})),g()(i()(e),"renderCollectorTableHead",(function(){return n.a.createElement(Y.a.Head,{__self:i()(e),__source:{fileName:Dr,lineNumber:161,columnNumber:13}},n.a.createElement(Y.a.HeadCell,{__self:i()(e),__source:{fileName:Dr,lineNumber:162,columnNumber:17}},"Name"),"trigger"===e.props.collectorType&&n.a.createElement(Y.a.HeadCell,{__self:i()(e),__source:{fileName:Dr,lineNumber:164,columnNumber:21}},"Collector"),n.a.createElement(Y.a.HeadCell,{__self:i()(e),__source:{fileName:Dr,lineNumber:166,columnNumber:17}},"Result Status"))})),g()(i()(e),"renderCollectorsArray",(function(t){return n.a.createElement(Y.a,{stripeRows:!0,rowExpansion:"single",__self:i()(e),__source:{fileName:Dr,lineNumber:176,columnNumber:9}},e.renderCollectorTableHead(),n.a.createElement(Y.a.Body,{__self:i()(e),__source:{fileName:Dr,lineNumber:178,columnNumber:13}},t.map((function(t,r){return n.a.createElement(Y.a.Row,{key:r,expansionRow:e.getExpansionRow(t,"arrayTasks"),__self:i()(e),__source:{fileName:Dr,lineNumber:180,columnNumber:21}},t.map((function(t,r){return n.a.createElement(a.Fragment,{key:r,__self:i()(e),__source:{fileName:Dr,lineNumber:185,columnNumber:29}},n.a.createElement(Y.a.Cell,{__self:i()(e),__source:{fileName:Dr,lineNumber:186,columnNumber:33}},Ke.a[t.name]),"trigger"===e.props.collectorType&&n.a.createElement(Y.a.Cell,{__self:i()(e),__source:{fileName:Dr,lineNumber:188,columnNumber:37}},e.findCollectorsForTrigger(t.name,t.level)),n.a.createElement(Y.a.Cell,{__self:i()(e),__source:{fileName:Dr,lineNumber:195,columnNumber:33}},n.a.createElement(Ne,{status:t.result_status,hideHost:!0,__self:i()(e),__source:{fileName:Dr,lineNumber:196,columnNumber:37}})))})))}))))})),g()(i()(e),"renderCollectorsFlat",(function(t){var r=t[0];return n.a.createElement(Y.a,{stripeRows:!0,rowExpansion:"single",__self:i()(e),__source:{fileName:Dr,lineNumber:213,columnNumber:13}},e.renderCollectorTableHead(),n.a.createElement(Y.a.Body,{__self:i()(e),__source:{fileName:Dr,lineNumber:215,columnNumber:17}},r.map((function(t,r){return n.a.createElement(Y.a.Row,{key:r,expansionRow:e.getExpansionRow(t,"flatTasks"),__self:i()(e),__source:{fileName:Dr,lineNumber:217,columnNumber:25}},n.a.createElement(Y.a.Cell,{__self:i()(e),__source:{fileName:Dr,lineNumber:221,columnNumber:29}},Ke.a[t.name]),"trigger"===e.props.collectorType&&n.a.createElement(Y.a.Cell,{__self:i()(e),__source:{fileName:Dr,lineNumber:223,columnNumber:33}},e.findCollectorsForTrigger(t.name,t.level)),n.a.createElement(Y.a.Cell,{__self:i()(e),__source:{fileName:Dr,lineNumber:227,columnNumber:29}},n.a.createElement(Ne,{status:t.result_status,hideHost:!0,__self:i()(e),__source:{fileName:Dr,lineNumber:228,columnNumber:33}})))}))))})),g()(i()(e),"renderCollectorsTable",(function(t,r){return 0===t?n.a.createElement("div",{__self:i()(e),__source:{fileName:Dr,lineNumber:239,columnNumber:13}},"No other collectors run for this task."):1===t?e.renderCollectorsFlat(r):e.renderCollectorsArray(r)})),e}return c()(r,[{key:"render",value:function(){var e=this.props,t=e.arrayNo,r=e.allCollectors;return n.a.createElement("div",{__self:this,__source:{fileName:Dr,lineNumber:250,columnNumber:16}},this.renderCollectorsTable(t,r))}}]),r}(n.a.Component),Ir="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/CollectorsResultTabs.tsx";function Hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=b()(e);if(t){var n=b()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return f()(this,r)}}var Ur=["log_monitor","periodic","resource_monitor","scoped_log_level_action"];function Br(e){var t=0;return e.forEach((function(e){Array.isArray(e)&&e.length&&(t+=1)})),t}function qr(e,t){var r=e.map((function(e){return function(e){return e.filter((function(e){return 0===e.parentId}))}(e)})).filter((function(e){return e.length>0})).reduce((function(e,t){var r=Ht.a.partition(t,(function(e){return Ur.includes(e.name)})),a=$e()(r,2),n=a[0],s=a[1];return n.length&&e[0].push(n),s.length&&e[1].push(s),e}),[[],[]]),a=$e()(r,2),n=a[0],s=a[1];return"triggeredCollectors"===t?n:s}var zr=function(e){d()(r,e);var t=Hr(r);function r(){var e;o()(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),g()(i()(e),"state",{currentView:"immediateCollectors"}),g()(i()(e),"handleChange",(function(t,r){var a=r.selectedTabId;e.setState({currentView:a})})),e}return c()(r,[{key:"render",value:function(){var e=this.props.task,t=Object(Pr.a)(e),r=qr(t,"immediateCollectors"),a=qr(t,"triggeredCollectors"),s=Br(r),o=Br(a),l=function(e,t){var r={},a=Ht.a.groupBy(Ht.a.flattenDepth(t,2),"parentId");return e.forEach((function(e){var t=a[e[0].level],n="".concat(e[0].name,"_").concat(e[0].level);r[n]=void 0!==t?t:[]})),r}(a,t),c=this.state.currentView;return n.a.createElement("div",{__self:this,__source:{fileName:Ir,lineNumber:151,columnNumber:13}},n.a.createElement(Rr.a,{activeTabId:c,onChange:this.handleChange,__self:this,__source:{fileName:Ir,lineNumber:152,columnNumber:17}},n.a.createElement(Rr.a.Tab,{label:"Immediate Collectors",count:s,tabId:"immediateCollectors",__self:this,__source:{fileName:Ir,lineNumber:153,columnNumber:21}}),n.a.createElement(Rr.a.Tab,{label:"Triggered Collectors",count:o,tabId:"triggeredCollectors",__self:this,__source:{fileName:Ir,lineNumber:158,columnNumber:21}})),n.a.createElement("div",{style:{marginTop:"15px"},__self:this,__source:{fileName:Ir,lineNumber:164,columnNumber:17}},"immediateCollectors"===c?n.a.createElement(Fr,{arrayNo:s,allCollectors:r,collectorType:"immediate",__self:this,__source:{fileName:Ir,lineNumber:166,columnNumber:25}}):n.a.createElement(Fr,{arrayNo:o,allCollectors:a,collectorType:"trigger",mapTriggerCollector:l,__self:this,__source:{fileName:Ir,lineNumber:172,columnNumber:25}})))}}]),r}(n.a.Component),Gr="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/TaskInformation.tsx";function Wr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(r),!0).forEach((function(t){g()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xr=function(e){var t=this,r=e.splunk_diag,a=e.collectorStatus,s=$.includes(a),o=Array.isArray(r)&&r.some((function(e){return!0===e.selected}))?Object(O._)("Yes"):Object(O._)("No");return n.a.createElement(Sr.a,{style:{marginTop:"10px"},__self:this,__source:{fileName:Gr,lineNumber:79,columnNumber:9}},function(e,t,r){return[{term:Object(O._)("Peer Name"),description:e.host,extraContent:null,dataTest:"row-expanded-peer-name"},{term:Object(O._)("Peer Status"),description:ne(e.collectorStatus),extraContent:e.actionPanel,dataTest:"row-expanded-title"},{term:Object(O._)("Peer Result"),description:ae(e.collectorStatus),extraContent:n.a.createElement(Cr,{style:{display:"inline",marginLeft:"10px"},modalContent:n.a.createElement(zr,{task:e,__self:void 0,__source:{fileName:Gr,lineNumber:40,columnNumber:31}}),modalFooter:null,headerTitle:"Collectors Results",buttonLabel:"View Details",buttonType:"link",disabledResults:t,tooltipContent:t?"Task still running":"",__self:void 0,__source:{fileName:Gr,lineNumber:38,columnNumber:13}}),dataTest:"row-expanded-peer-result"},{term:Object(O._)("Task Status File"),description:e.task_status,dataTest:"row-expanded-task-status-file"},{term:Object(O._)("Output File"),description:e.output_file,dataTest:"row-expanded-output-file"},{term:Object(O._)("Splunk Diag Collection"),description:r,extraContent:null,dataTest:"row-expanded-splunk-diag-collection",divStyle:{marginBottom:"10px"}}]}(e,s,o).map((function(e){return n.a.createElement("div",{style:Vr(Vr({},e.divStyle),{},{marginBottom:"3px"}),key:e.dataTest,"data-test":e.dataTest,__self:t,__source:{fileName:Gr,lineNumber:81,columnNumber:17}},n.a.createElement(Sr.a.Term,{style:{width:"250px"},__self:t,__source:{fileName:Gr,lineNumber:86,columnNumber:21}},e.term),n.a.createElement(Sr.a.Description,{"data-test":"DL-value-".concat(e.dataTest),__self:t,__source:{fileName:Gr,lineNumber:87,columnNumber:21}},n.a.createElement("div",{style:{display:"inline-flex",marginLeft:"5px"},__self:t,__source:{fileName:Gr,lineNumber:88,columnNumber:25}},n.a.createElement("div",{"data-test":"task_content_value",__self:t,__source:{fileName:Gr,lineNumber:89,columnNumber:29}},e.description),e.extraContent)))})))},Kr="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/SummaryField.tsx";function Jr(e){var t=e.status,r=e.peerNo;return t&&r?n.a.createElement("div",{"data-test":"summaryField",style:{marginLeft:"10px",float:"left"},__self:this,__source:{fileName:Kr,lineNumber:13,columnNumber:9}},n.a.createElement(ve,{displayText:"".concat(r," ").concat(re(t)," "),statusType:te(t),__self:this,__source:{fileName:Kr,lineNumber:14,columnNumber:13}})):null}var Qr="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/PeersSummary.tsx",Yr=function(e,t){var r=Ht.a.intersection(Object.keys(e),t),a=0;return r.forEach((function(t){a+=e[t]})),a};function $r(e){var t=e.groupedHost,r=Ht.a.countBy(t,(function(e){return e[0].status}));return 0===Object.keys(r).length?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(yr.a,{level:"ss",__self:this,__source:{fileName:Qr,lineNumber:41,columnNumber:13}},"Peers"),n.a.createElement(Sr.a,{termWidth:250,__self:this,__source:{fileName:Qr,lineNumber:42,columnNumber:13}},n.a.createElement(Sr.a.Term,{__self:this,__source:{fileName:Qr,lineNumber:43,columnNumber:17}},"Summary"),n.a.createElement(Sr.a.Description,{__self:this,__source:{fileName:Qr,lineNumber:44,columnNumber:17}},n.a.createElement(Jr,{status:"Success",peerNo:r.Success,__self:this,__source:{fileName:Qr,lineNumber:45,columnNumber:21}}),n.a.createElement(Jr,{status:"Failure",peerNo:Yr(r,["Failure","Partial Success"]),__self:this,__source:{fileName:Qr,lineNumber:46,columnNumber:21}}),n.a.createElement(Jr,{status:"Aborted",peerNo:r.Aborted,__self:this,__source:{fileName:Qr,lineNumber:50,columnNumber:21}}),n.a.createElement(Jr,{status:"Collecting",peerNo:Yr(r,$),__self:this,__source:{fileName:Qr,lineNumber:51,columnNumber:21}}))))}var Zr=r(115),ea=r.n(Zr),ta=r(56),ra="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/sfdc-progress/UploadProgress.tsx",aa={ACTIONS:Object(O._)("Actions"),CASE:Object(O._)("Case"),CASE_NUMBER:Object(O._)("Case No"),STATUS:Object(O._)("Status"),REMAINING_TIME:Object(O._)("Remaining Time"),REMAINING:Object(O._)("Remaining"),DETAILS:Object(O._)("Details"),PEER_NAME:Object(O._)("Peer Name"),SERVER_NAME:Object(O._)("Server Name"),UPLOAD_PROGRESS:Object(O._)("Upload Progress (%)"),FILE_NAME:Object(O._)("Diag Name"),START_TIME:Object(O._)("Start Time"),ERROR_PROGRESS_FILE:Object(O._)("Upload progress unavailable"),NO_FILES_UPLOADED:Object(O._)("Upload files not found"),UPLOAD_COMPLETE:Object(O._)("Upload Complete"),UPLOADING:Object(O._)("Uploading"),UPLOADING_CANCEL_FAIL:Object(O._)("Some of the uploads failed to cancel."),UPLOADING_CANCEL_SUCCESS:Object(O._)("Uploads successfully cancelled.")},na=function(e){return 0===e?Object(O._)("0 seconds"):Number.isNaN(e)||!e?Object(O._)("N/A"):1===e?Object(O._)("1 second"):e>60?"".concat(Math.floor(e/60)," Minutes"):"".concat(e," Seconds")},sa=function(e){if(null==e||"default"===(null==e?void 0:e.type)||"success"===(null==e?void 0:e.type)&&0===e.data.length||"success"===(null==e?void 0:e.type)&&0===e.data.filter((function(e){return"message"!==Object.keys(e)[0]})).length)return"N/A";var t=[];return"success"===e.type?0!==(t=e.data.filter((function(e){var t;return!(null!=e&&e.message)&&100===(null===(t=Object.values(e)[0])||void 0===t?void 0:t.percent)}))).length&&t.length===e.data.filter((function(e){return"message"!==Object.keys(e)[0]})).length?aa.UPLOAD_COMPLETE:aa.UPLOADING:"N/A"},oa=function(e,t){return n.a.createElement(Y.a.Row,{"data-test":e,__self:void 0,__source:{fileName:ra,lineNumber:120,columnNumber:9}},n.a.createElement(Y.a.Cell,{style:{borderTop:"none"},colSpan:4,__self:void 0,__source:{fileName:ra,lineNumber:121,columnNumber:13}},n.a.createElement("div",{style:{textAlign:"center"},__self:void 0,__source:{fileName:ra,lineNumber:122,columnNumber:17}},t)))},la=function(e){return"error"===(null==e?void 0:e.type)?oa("upload-error",aa.ERROR_PROGRESS_FILE):null==e||"default"===(null==e?void 0:e.type)?oa("waiting-spinner",n.a.createElement(R.a,{__self:void 0,__source:{fileName:ra,lineNumber:147,columnNumber:54}})):"success"===(null==e?void 0:e.type)&&0===e.data.length||0===Object.keys(e.data[0]).length||0===e.data.filter((function(e){return!e.message})).length?oa("no-files",aa.NO_FILES_UPLOADED):e.data.filter((function(e){return!1===Object.keys(e).includes("message")})).map((function(e){var t,r=null===(t=Object.keys(e))||void 0===t?void 0:t[0],a=e[r];return function(e,t,r,a){return n.a.createElement(Y.a.Row,{key:e,"data-test":"upload-file-".concat(e),__self:void 0,__source:{fileName:ra,lineNumber:130,columnNumber:9}},n.a.createElement(n.a.Fragment,null,n.a.createElement(Y.a.Cell,{"data-test":"name-cell",__self:void 0,__source:{fileName:ra,lineNumber:132,columnNumber:17}},e),n.a.createElement(Y.a.Cell,{"data-test":"host-cell",__self:void 0,__source:{fileName:ra,lineNumber:133,columnNumber:17}},t),n.a.createElement(Y.a.Cell,{"data-test":"percent-cell",__self:void 0,__source:{fileName:ra,lineNumber:134,columnNumber:17}},String(r)),n.a.createElement(Y.a.Cell,{"data-test":"eta-cell",__self:void 0,__source:{fileName:ra,lineNumber:135,columnNumber:17}},na(a))))}(r,a.host,a.percent,a.eta)}))};function ca(e){var t=e.groupedHost,r=e.nodes,s=e.uploadProgressHandler,o=Object(a.useState)({type:"default",data:[]}),l=$e()(o,2),c=l[0],u=l[1],i=Object(a.useState)(0),m=$e()(i,2),d=m[0],p=m[1],f=Object(a.useState)(void 0),_=$e()(f,2),b=_[0],h=_[1];return Object(a.useEffect)((function(){0!==d&&function(){var e=Qe()(et.a.mark((function e(){var a;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wt(t,r);case 2:a=e.sent,JSON.stringify(a).toLowerCase().includes("error")?h({message:aa.UPLOADING_CANCEL_FAIL,type:"error"}):h({message:aa.UPLOADING_CANCEL_SUCCESS,type:"success"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,r,d]),Object(a.useEffect)((function(){var e=setInterval((function(){s(t,r).then((function(e){Array.isArray(e)?u({type:"success",data:e}):(Object.getPrototypeOf(e)&&(null==e||e.name),u({type:"error",data:e}))}))}),5e3);return function(){return clearInterval(e)}}),[t,r,s]),n.a.createElement(n.a.Fragment,null,b&&n.a.createElement(ta.a,{"data-component-name":"upload-cancel-btn",helpText:b.message,type:b.type,onRequestRemove:function(){p(0),h(void 0)},style:{display:"inherit"},messageStyle:{},__self:this,__source:{fileName:ra,lineNumber:236,columnNumber:17}}),n.a.createElement("div",{"data-test":"upload-progress-modal-content",__self:this,__source:{fileName:ra,lineNumber:248,columnNumber:13}},n.a.createElement(Sr.a,{__self:this,__source:{fileName:ra,lineNumber:249,columnNumber:17}},n.a.createElement(Sr.a.Term,{"data-test":"overall-case",__self:this,__source:{fileName:ra,lineNumber:250,columnNumber:21}},aa.CASE),n.a.createElement(Sr.a.Description,{"data-test":"overall-case-value",__self:this,__source:{fileName:ra,lineNumber:251,columnNumber:21}},null!=c&&c.data[0]?function(e){if(null==e||"default"===(null==e?void 0:e.type)||"success"===(null==e?void 0:e.type)&&0===e.data.length)return"N/A";if("success"===e.type){var t=e.data.find((function(e){return Object.values(e)[0].case_number}));if(t)return Object.values(t)[0].case_number}return"N/A"}(c):"N/A"),n.a.createElement(Sr.a.Term,{"data-test":"overall-status",__self:this,__source:{fileName:ra,lineNumber:254,columnNumber:21}},aa.STATUS),n.a.createElement(Sr.a.Description,{"data-test":"overall-status-value",__self:this,__source:{fileName:ra,lineNumber:255,columnNumber:21}},sa(c)),n.a.createElement(Sr.a.Term,{"data-test":"overall-time",__self:this,__source:{fileName:ra,lineNumber:258,columnNumber:21}},aa.REMAINING_TIME),n.a.createElement(Sr.a.Description,{"data-test":"overall-time-value",__self:this,__source:{fileName:ra,lineNumber:259,columnNumber:21}},function(e){if(e){var t="success"===e.type?e.data.filter((function(e){return"message"!==Object.keys(e)[0]})).map((function(e){return Object.values(e)})).reduce((function(e,t){return e>t[0].eta?e:t[0].eta}),0):0;return 0===t?Object(O._)("N/A"):na(t)}return Object(O._)("N/A")}(c)),n.a.createElement(Sr.a.Term,{"data-test":"overall-time",__self:this,__source:{fileName:ra,lineNumber:262,columnNumber:21}},aa.ACTIONS),n.a.createElement(Sr.a.Description,{"data-test":"cancel-upload",__self:this,__source:{fileName:ra,lineNumber:263,columnNumber:21}},n.a.createElement(Ce.a,{onClick:function(){return p(d+1)},disabled:"Uploading"!==sa(c),__self:this,__source:{fileName:ra,lineNumber:264,columnNumber:25}},"Cancel"))),n.a.createElement(ea.a,{defaultOpen:!0,title:"Details",__self:this,__source:{fileName:ra,lineNumber:272,columnNumber:17}},n.a.createElement(Y.a,{__self:this,__source:{fileName:ra,lineNumber:273,columnNumber:21}},n.a.createElement(Y.a.Head,{__self:this,__source:{fileName:ra,lineNumber:274,columnNumber:25}},n.a.createElement(Y.a.HeadCell,{"data-test":"name-header",__self:this,__source:{fileName:ra,lineNumber:275,columnNumber:29}},aa.FILE_NAME),n.a.createElement(Y.a.HeadCell,{"data-test":"progress-header",__self:this,__source:{fileName:ra,lineNumber:278,columnNumber:29}},aa.SERVER_NAME),n.a.createElement(Y.a.HeadCell,{"data-test":"progress-header",__self:this,__source:{fileName:ra,lineNumber:281,columnNumber:29}},aa.UPLOAD_PROGRESS),n.a.createElement(Y.a.HeadCell,{"data-test":"time-header",__self:this,__source:{fileName:ra,lineNumber:284,columnNumber:29}},aa.REMAINING_TIME)),n.a.createElement(Y.a.Body,{__self:this,__source:{fileName:ra,lineNumber:288,columnNumber:25}},la(c))))))}var ua="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/sfdc-progress/UploadStatus.tsx",ia=Object(O._)("File Upload"),ma=Object(O._)("Upload Status"),da=Object(O._)("Details File Upload"),pa=Object(O._)("Upload Details"),fa=function(e,t){return e?Object(O._)("Task still running"):t?Object(O._)("The customer cases capability is not enabled"):""};function _a(e){var t=e.groupedHost,r=e.nodes,a=e.status,s=e.capabilities,o=["Monitoring","Collecting","Archiving Results"].includes(a),l=!(null!=s&&s.includes("customer_cases"));return n.a.createElement(n.a.Fragment,null,n.a.createElement(yr.a,{"data-test":"fu-heading",level:"ss",__self:this,__source:{fileName:ua,lineNumber:42,columnNumber:13}},ia),n.a.createElement(Sr.a,{"data-test":"fu-list",termWidth:250,__self:this,__source:{fileName:ua,lineNumber:45,columnNumber:13}},n.a.createElement(Sr.a.Term,{"data-test":"fu-status-term",__self:this,__source:{fileName:ua,lineNumber:46,columnNumber:17}},ma),n.a.createElement(Sr.a.Description,{"data-test":"fu-status-description",__self:this,__source:{fileName:ua,lineNumber:47,columnNumber:17}},n.a.createElement(Cr,{style:{display:"inline",marginLeft:"10px"},modalContent:n.a.createElement(ca,{groupedHost:t,nodes:r,uploadProgressHandler:function(){return Gt(t,r)},__self:this,__source:{fileName:ua,lineNumber:51,columnNumber:29}}),headerTitle:da,modalFooter:null,buttonLabel:pa,buttonType:"link",disabledResults:o||l,tooltipContent:fa(o,l),__self:this,__source:{fileName:ua,lineNumber:48,columnNumber:21}}))))}var ba="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/TaskByHost.tsx",ha=Object(O._)("Peer Details"),ga=Object(O._)("Select a peer to see result of the task.");function va(e){var t=e.selectedHost,r=e.allHosts,a=e.currentRow,s=e.groupedHost,o=e.nodes,l=e.taskGroupedData,c=e.hostAndValues,u=e.capabilities,i=n.a.createElement(lr,J()({hostOutputList:null,selectedHost:t,taskGroupedData:l,allHosts:r,actionLevel:"hostLevel",data:a,groupedHost:s,nodes:o,caseUploadHandler:null},gr(null==a?void 0:a.task),{__self:this,__source:{fileName:ba,lineNumber:53,columnNumber:9}}));return n.a.createElement(Y.a.Row,{"data-test":"row-expanded-".concat(a.task.task_id),__self:this,__source:{fileName:ba,lineNumber:71,columnNumber:9}},n.a.createElement(Y.a.Cell,{colSpan:6,__self:this,__source:{fileName:ba,lineNumber:72,columnNumber:13}},n.a.createElement(_a,{groupedHost:s,nodes:o,status:a.status,capabilities:u,__self:this,__source:{fileName:ba,lineNumber:73,columnNumber:17}}),n.a.createElement($r,{groupedHost:s,__self:this,__source:{fileName:ba,lineNumber:79,columnNumber:17}}),n.a.createElement(yr.a,{level:"ss",style:{marginTop:"15px"},__self:this,__source:{fileName:ba,lineNumber:80,columnNumber:17}},ha),n.a.createElement(E.a,{__self:this,__source:{fileName:ba,lineNumber:83,columnNumber:17}},ga),n.a.createElement(Er,{defaultValue:t.length?t:Object.keys(s).sort()[0],finalHostAndValues:c,updateSelectedHost:function(t){e.handleExpandedRow(t)},__self:this,__source:{fileName:ba,lineNumber:84,columnNumber:17}}),t&&s[t]&&n.a.createElement(Xr,J()({id:"taskInformation",actionPanel:i,host:a.task.host,collectorStatus:a.status,task_status:a.task_status,output_file:a.output_file},gr(a.task),{__self:this,__source:{fileName:ba,lineNumber:92,columnNumber:21}}))))}function Na(e){var t=e.currentRow;return n.a.createElement(Y.a.Row,{"data-test":"row-expanded-".concat(t?t.created_at.toString()+t.task.task_id:"id"),__self:this,__source:{fileName:ba,lineNumber:110,columnNumber:9}},n.a.createElement(Y.a.Cell,{colSpan:5,__self:this,__source:{fileName:ba,lineNumber:115,columnNumber:13}},n.a.createElement("div",{style:{justifyContent:"center"},__self:this,__source:{fileName:ba,lineNumber:116,columnNumber:17}},n.a.createElement(R.a,{size:"large",__self:this,__source:{fileName:ba,lineNumber:117,columnNumber:21}}))))}var ya=function(e){var t=e.selectedHost,r=e.groupedHost,a=e.handleExpandedRow,s=n.a.useState(0),o=$e()(s,2),l=o[0],c=o[1],u=n.a.useState(void 0),i=$e()(u,2),m=i[0],d=i[1],p=n.a.useState(void 0),f=$e()(p,2),_=f[0],b=f[1],h=n.a.useState({}),g=$e()(h,2),v=g[0],N=g[1];n.a.useEffect((function(){0===l&&(c((function(e){return e+1})),a(Object.keys(r).sort()[0]))}),[r,a,l]),n.a.useEffect((function(){Object.keys(r).indexOf(t)>-1&&d(r[t][0]),function(){var e=Qe()(et.a.mark((function e(){var t;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt();case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),N(function(e){for(var t={},r=0,a=Object.entries(e);r<a.length;r++){var n=$e()(a[r],2),s=n[0],o=n[1];t[s]=o[0].status}return t}(r))}),[r,t]);return m?n.a.createElement(va,{groupedHost:r,allHosts:e.allHosts,nodes:e.nodes,selectedHost:t,currentRow:m,capabilities:_,hostAndValues:v,taskGroupedData:e.taskGroupedData,handleExpandedRow:function(t){e.handleExpandedRow(t)},__self:void 0,__source:{fileName:ba,lineNumber:158,columnNumber:9}}):n.a.createElement(Na,{currentRow:m,__self:void 0,__source:{fileName:ba,lineNumber:155,columnNumber:16}})},ka="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/TaskManagerTable.tsx";function ja(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ja(Object(r),!0).forEach((function(t){g()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ja(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=b()(e);if(t){var n=b()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return f()(this,r)}}var Sa=function(e){d()(r,e);var t=Oa(r);function r(){var e;o()(this,r);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s)),g()(i()(e),"state",{sortDir:"desc",sortKey:"created_at"}),g()(i()(e),"filterTasks",(function(e,t){return!!Object(ye.b)(["".concat(t.toLowerCase()),JSON.stringify(e)])||JSON.stringify(e).toLowerCase().indexOf(t.toLowerCase())>-1})),g()(i()(e),"handleSort",(function(t,r){var a=r.sortKey;e.setState((function(e){var t=e.sortKey===a?e.sortDir:"none";return{sortKey:a,sortDir:"asc"===t?"desc":"asc"}}))})),g()(i()(e),"sortData",(function(t){var r=e.state,a=r.sortKey,n=r.sortDir;return t.sort((function(e,t){return"asc"===n?e[a]>t[a]?1:-1:"desc"===n?t[a]>e[a]?1:-1:0})),t})),g()(i()(e),"sortArrayData",(function(t){var r=e.state,a=r.sortKey,n=r.sortDir;return t.sort((function(e,t){return"asc"===n?e[0][a]>t[0][a]?1:-1:"desc"===n?t[0][a]>e[0][a]?1:-1:0})),t})),g()(i()(e),"getExpansionRow",(function(t,r,a){return n.a.createElement(ya,{selectedHost:e.props.selectedHost,handleExpandedRow:e.props.handleExpandedRow,taskGroupedData:e.props.taskGroupedData,groupedHost:t,allHosts:r,nodes:a,__self:i()(e),__source:{fileName:ka,lineNumber:114,columnNumber:13}})})),g()(i()(e),"getOverallTaskResult",(function(e){var t=e.map((function(e){return e.status}));return t.includes("Collecting")||t.includes("Archiving Results")||t.includes("Aborting")||t.includes("Monitoring")?"Collecting":t.every((function(e){return"Success"===e}))?"Success":t.includes("Aborted")?"Aborted":t.includes("Success")&&t.filter((function(e){return"Success"===e})).length<t.length/2+1?"Partial Success":t.includes("Failure")?"Failure":"Partial Success"})),g()(i()(e),"renderRow",(function(t,r){var a;if(t.length<1||r.length<1)return null;var s=e.props,o=s.taskGroupedData,l=s.selectedHost,c=s.caseUploadHandler,u=oe(t),m=se(t),d=Et(t),p=Object.keys(d),f=t[0],_=null==f||null===(a=f.task)||void 0===a?void 0:a.task_id,b=t.map((function(e){return e.task.host})).sort().join(", "),h=t.map((function(e){var t,a;return{host:e.task.host,outputFile:e.output_file,proxyTo:null===(t=r.find((function(t){return t.servername===e.task.host})))||void 0===t?void 0:t.proxy_to,version:null===(a=r.find((function(t){return t.servername===e.task.host})))||void 0===a?void 0:a.version,hostStatus:e.status}}));return n.a.createElement(Y.a.Row,J()({data:f,key:_,"data-test":"row-".concat(_),expansionRow:e.getExpansionRow(d,p,r)},gr(f.task),{__self:i()(e),__source:{fileName:ka,lineNumber:188,columnNumber:13}}),n.a.createElement(Y.a.Cell,{key:"name","data-test":"".concat(_,"-name"),__self:i()(e),__source:{fileName:ka,lineNumber:195,columnNumber:17}},f.task.name),n.a.createElement(Y.a.Cell,{key:"created_at","data-test":"".concat(_,"-created_at"),__self:i()(e),__source:{fileName:ka,lineNumber:198,columnNumber:17}},Bt(f.created_at)),n.a.createElement(Y.a.Cell,{key:"duration","data-test":"".concat(_,"-duration"),__self:i()(e),__source:{fileName:ka,lineNumber:201,columnNumber:17}},Ut(f.duration)),n.a.createElement(Y.a.Cell,{key:"host","data-test":"".concat(_,"-host"),title:b,__self:i()(e),__source:{fileName:ka,lineNumber:204,columnNumber:17}},t.length),n.a.createElement(Y.a.Cell,{key:"status","data-test":"".concat(_,"-status"),__self:i()(e),__source:{fileName:ka,lineNumber:207,columnNumber:17}},n.a.createElement(vr,{status:m,__self:i()(e),__source:{fileName:ka,lineNumber:208,columnNumber:21}})),n.a.createElement(Y.a.Cell,{key:"results","data-test":"".concat(_,"-results"),__self:i()(e),__source:{fileName:ka,lineNumber:210,columnNumber:17}},n.a.createElement(Ne,{status:u,hideHost:!0,__self:i()(e),__source:{fileName:ka,lineNumber:211,columnNumber:21}})),n.a.createElement(lr,J()({taskGroupedData:o,selectedHost:l,allHosts:p,hostOutputList:h,actionLevel:"mainLevel",data:f,nodes:r,groupedHost:d,caseUploadHandler:c},gr(f.task),{__self:i()(e),__source:{fileName:ka,lineNumber:213,columnNumber:17}})))})),g()(i()(e),"renderEmptyTable",(function(t){var r=Object(O._)("No task has been configured yet"),a=Object(O._)("No tasks match your filter");return n.a.createElement(Y.a.Row,{__self:i()(e),__source:{fileName:ka,lineNumber:233,columnNumber:13}},n.a.createElement(Y.a.Cell,{"data-test":t,__self:i()(e),__source:{fileName:ka,lineNumber:234,columnNumber:17}},n.a.createElement("div",{style:Ea(Ea({},q),z),__self:i()(e),__source:{fileName:ka,lineNumber:235,columnNumber:21}},"EmptyTable"===t?r:a)))})),g()(i()(e),"renderTableBody",(function(t){var r=e.props,a=r.page,s=r.search,o=r.nodes,l=t.filter((function(t){return e.filterTasks(t,s)})).slice(10*a-10,10*a);return t&&0!==t.length?0===l.length?n.a.createElement(Y.a.Body,{"data-test":"table",__self:i()(e),__source:{fileName:ka,lineNumber:259,columnNumber:17}},e.renderEmptyTable("UnmatchedFilter")):n.a.createElement(Y.a.Body,{"data-test":"table",__self:i()(e),__source:{fileName:ka,lineNumber:265,columnNumber:13}},l.map((function(t){return e.renderRow(t,o)}))):n.a.createElement(Y.a.Body,{"data-test":"table",__self:i()(e),__source:{fileName:ka,lineNumber:255,columnNumber:20}},e.renderEmptyTable("EmptyTable"))})),g()(i()(e),"renderTableHead",(function(){var t=e.state,r=t.sortKey,a=t.sortDir,s=[{key:"name",label:Object(O._)("Name"),id:"nameColumn",sortable:!0},{key:"created_at",label:Object(O._)("Start Time"),id:"createdAtColumn",sortable:!0},{key:"duration",label:Object(O._)("Duration"),id:"durationColumn",sortable:!0},{key:"host",label:Object(O._)("Tested Peers"),id:"hostColumn",sortable:!0},{key:"status",label:Object(O._)("Status"),id:"statusColumn",sortable:!0},{key:"results",label:Object(O._)("Results"),id:"resultsColumn",sortable:!0},{key:"action",label:Object(O._)("Action"),id:"actionColumn",sortable:!1}];return n.a.createElement(Y.a.Head,{id:"taskHeaderRow",__self:i()(e),__source:{fileName:ka,lineNumber:286,columnNumber:13}},s.map((function(t){return n.a.createElement(Y.a.HeadCell,{key:t.key,sortKey:t.sortable?t.key:null,sortDir:t.sortable?r===t.key?a:"none":null,onSort:t.sortable?e.handleSort:null,id:t.id,__self:i()(e),__source:{fileName:ka,lineNumber:288,columnNumber:21}},t.label)})))})),e}return c()(r,[{key:"render",value:function(){var e=this.props,t=e.page,r=e.taskGroupedData,a=e.loaderStatus.actionTriggered,s=r.groupedDataArray,o=this.sortArrayData(s);return n.a.createElement(Y.a,{stripeRows:!0,rowExpansion:"single",__self:this,__source:{fileName:ka,lineNumber:308,columnNumber:13}},this.renderTableHead(),t&&"defaultLoading"!==a&&this.renderTableBody(o))}}]),r}(n.a.Component);var wa=function(e){var t=e.messageType,r=e.setMessagePopup,a=e.notificationText;return n.a.createElement(rt.a,{appearance:"fill",type:t,onRequestRemove:function(){return r("openMessagePopup",!1)},__self:this,__source:{fileName:"/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/core-components/MessagePopup/MessagePopup.tsx",lineNumber:20,columnNumber:9}},a)};function xa(e){var t="";switch(e){case"abort":t+="The task was stopped. ";break;case"abortAll":t+="The task group was stopped. ";break;case"rerun":t+="A new task was started. ";break;case"rerunAll":t+="A new task group was started. ";break;case"delete":t+="The task was deleted. ";break;case"deleteAll":t+="The task group was deleted. ";break;default:t+="Success! "}return t}var Ca=function(e){var t=e.handleViewCreatedTask,r=e.setMessagePopup,a=e.messagePopupFeature.actionType;return n.a.createElement(wa,{messageType:"success",displayLink:"rerun"===a||"rerunAll"===a,setMessagePopup:r,notificationText:xa(a),handleViewCreatedTask:t,__self:this,__source:{fileName:"/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/MessagePopupWrapper.tsx",lineNumber:44,columnNumber:9}})},Ta=r(76),Ra=r.n(Ta),Pa="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/RefreshCapability.tsx";function Da(e){var t=Object(a.useState)(""),r=$e()(t,2),s=r[0],o=r[1];Object(a.useEffect)((function(){var t=function(){o("Updated ".concat(e.callTimeStamp.fromNow()))};t();var r=setInterval((function(){return t()}),1e3);return function(){return clearInterval(r)}}),[e.loader,e.callTimeStamp]);var l=e.loader,c=e.getTasks,u=e.messagePopupFeature;return n.a.createElement("div",{style:{float:"right"},__self:this,__source:{fileName:Pa,lineNumber:29,columnNumber:9}},n.a.createElement(it.a,{label:s,labelFor:"refresh-capability",labelWidth:180,__self:this,__source:{fileName:Pa,lineNumber:30,columnNumber:13}},n.a.createElement(we.a,{id:"refreshButton",style:{fontWeight:"normal"},label:"Refresh Tasks",appearance:"default",icon:n.a.createElement(Ra.a,{id:"refresh",style:{width:"16px",height:"16px",marginRight:"5px"},__self:this,__source:{fileName:Pa,lineNumber:37,columnNumber:25}}),disabled:l,onClick:function(){c("refreshButton"),u.setMessagePopup("openMessagePopup",!1),u.setMessagePopup("actionType","refreshButton")},__self:this,__source:{fileName:Pa,lineNumber:31,columnNumber:17}})))}var Aa="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/sfdc-upload/SFDCMessage.tsx";function La(e){var t=this,r=e.diagResults,a=e.onRequestRemove;if(!r||0===r.length)return null;var s,o,l=r.every((function(e){return"success"===e.responseStatus}))?"success":"error",c=r.filter((function(e){return"error"===e.responseStatus})),u=(s=c,o="hostName",Ht.a.sortBy(s,o)),i=r.filter((function(e){return"success"===e.responseStatus})).map((function(e){return e.hostName})).sort().join(", ");return n.a.createElement(rt.a,{"data-test":"SfdcMessage",appearance:"fill",type:l,onRequestRemove:a,__self:this,__source:{fileName:Aa,lineNumber:28,columnNumber:9}},n.a.createElement(rt.a.Title,{__self:this,__source:{fileName:Aa,lineNumber:34,columnNumber:13}},Object(O._)("Splunk Support Case Upload")),n.a.createElement(Sr.a,{__self:this,__source:{fileName:Aa,lineNumber:35,columnNumber:13}},i.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Sr.a.Term,{"data-test":"DLPassTerm",style:{width:"300px"},__self:this,__source:{fileName:Aa,lineNumber:38,columnNumber:25}},Object(O._)(i)),n.a.createElement(Sr.a.Description,{"data-test":"DLPassDescription",__self:this,__source:{fileName:Aa,lineNumber:41,columnNumber:25}},Object(O._)("Case upload successfully started."))),u.map((function(e){return n.a.createElement("div",{key:e.hostName,__self:t,__source:{fileName:Aa,lineNumber:48,columnNumber:25}},n.a.createElement(Sr.a.Term,{"data-test":"DLFailTerm".concat(e.hostName),style:{width:"300px"},__self:t,__source:{fileName:Aa,lineNumber:49,columnNumber:29}},Object(O._)(e.hostName)),n.a.createElement(Sr.a.Description,{"data-test":"DLFailDescription".concat(e.hostName),__self:t,__source:{fileName:Aa,lineNumber:55,columnNumber:29}},Object(O._)(e.responseMessage)))}))))}var Ma="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/TaskManager.tsx";function Fa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=b()(e);if(t){var n=b()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return f()(this,r)}}var Ia="Use the Task Manager to review the status of a RapidDiag task collection. ",Ha=Object(O._)("".concat(Ia,"Each task collection provides an output directory to the data archive file, and a working      directory path to the 'task.json' file where the task collection status and stats are recorded.      \nWhen you run a task collection for a support case, use the contents of the output directory to      collect the file and attach it to your support case. If you stop a task collection in progress,      any files created during the collection are not deleted.")),Ua=function(e){d()(r,e);var t=Fa(r);function r(){var e;o()(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),g()(i()(e),"state",{search:"",diagUploadResults:[]}),g()(i()(e),"handleCaseUploadResult",(function(t){e.setState({diagUploadResults:t}),e.props.taskManagerProps.uploadPopupFeature.setUploadPopup(t.length>0)})),g()(i()(e),"handlePageChange",(function(t,r){var a=r.page;e.props.taskManagerProps.pageSetting.hadlePageChange("currentPage",a)})),g()(i()(e),"handleSearch",(function(t){e.setState(t),e.setInitialPage()})),g()(i()(e),"handleExpandedRow",(function(t){e.props.taskManagerProps.handleExpandedRow(t)})),g()(i()(e),"setInitialPage",(function(){e.props.taskManagerProps.pageSetting.hadlePageChange("currentPage",1),e.props.taskManagerProps.messagePopupFeature.setMessagePopup("openMessagePopup",!1)})),e}return c()(r,[{key:"render",value:function(){var e=this.state,t=e.search,r=e.diagUploadResults,a=this.props,s=a.taskManagerProps,o=a.taskGroupedData,l=s.loaderStatus,c=s.getTasks,u=s.nodes,i=s.pageSetting,m=s.messagePopupFeature,d=s.uploadPopupFeature,p=s.callTimeStamp,f=l.loader,_=i.totalPage,b=i.currentPage,h=m.openMessagePopup,g=m.setMessagePopup,v=d.uploadPopup,y=d.setUploadPopup,j=o.groupedDataArray,O=j.length;return n.a.createElement("div",{__self:this,__source:{fileName:Ma,lineNumber:105,columnNumber:13}},n.a.createElement(N.a,{__self:this,__source:{fileName:Ma,lineNumber:106,columnNumber:17}}),v&&n.a.createElement(La,{diagResults:r,onRequestRemove:function(){return y(!1)},__self:this,__source:{fileName:Ma,lineNumber:108,columnNumber:21}}),h&&n.a.createElement(Ca,{setMessagePopup:g,messagePopupFeature:m,handleViewCreatedTask:this.setInitialPage,__self:this,__source:{fileName:Ma,lineNumber:114,columnNumber:21}}),n.a.createElement("div",{style:{display:"inline"},__self:this,__source:{fileName:Ma,lineNumber:120,columnNumber:17}},n.a.createElement(B,{__self:this,__source:{fileName:Ma,lineNumber:121,columnNumber:21}},"Task Manager",n.a.createElement(Da,{getTasks:c,callTimeStamp:p,messagePopupFeature:m,loader:f,__self:this,__source:{fileName:Ma,lineNumber:123,columnNumber:25}})),n.a.createElement("div",{style:{marginTop:"15px"},__self:this,__source:{fileName:Ma,lineNumber:130,columnNumber:21}},n.a.createElement(E.a,{__self:this,__source:{fileName:Ma,lineNumber:131,columnNumber:25}},Ia,n.a.createElement(S.a,{help:Ha,showButtonAsLink:!0,type:"normal",dialogueBoxStyle:void 0,__self:this,__source:{fileName:Ma,lineNumber:133,columnNumber:29}})))),n.a.createElement("div",{style:G,__self:this,__source:{fileName:Ma,lineNumber:142,columnNumber:17}},n.a.createElement("div",{style:W,__self:this,__source:{fileName:Ma,lineNumber:143,columnNumber:21}},!f&&b&&n.a.createElement(E.a,{"data-test":"task-count",__self:this,__source:{fileName:Ma,lineNumber:145,columnNumber:29}},"".concat(O,1===O?" parent task":" parent tasks"))),n.a.createElement(w.a,{id:"searchBar",handler:this.handleSearch,placeholder:"Filter",style:V,__self:this,__source:{fileName:Ma,lineNumber:152,columnNumber:21}}),n.a.createElement("div",{style:X,__self:this,__source:{fileName:Ma,lineNumber:158,columnNumber:21}},!f&&b&&j.length>0&&n.a.createElement(k.a,{id:"paginator",onChange:this.handlePageChange,current:b,alwaysShowLastPageLink:!0,numPageLinks:3,totalPages:_,style:{float:"right",marginLeft:"10px"},__self:this,__source:{fileName:Ma,lineNumber:160,columnNumber:29}}))),n.a.createElement(Sa,{selectedHost:s.selectedHost,taskGroupedData:o,handleExpandedRow:this.handleExpandedRow,loaderStatus:l,page:b,search:t,nodes:u,caseUploadHandler:this.handleCaseUploadResult,__self:this,__source:{fileName:Ma,lineNumber:172,columnNumber:17}}),f&&n.a.createElement(L,{actionType:m.actionType,__self:this,__source:{fileName:Ma,lineNumber:182,columnNumber:28}}))}}]),r}(n.a.Component),Ba=r(77);function qa(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return za(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return za(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,s=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw s}}}}function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Ga(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Wa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(r),!0).forEach((function(t){g()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ga(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=b()(e);if(t){var n=b()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return f()(this,r)}}var Xa=function(e){d()(r,e);var t=Va(r);function r(){var e;o()(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),g()(i()(e),"state",{data:[],nodes:[],groupedDataArray:[],loaderStatus:{loader:!0,actionTriggered:"defaultLoading"},selectedHost:"",pageView:{totalPage:0,currentPage:1},messagePopup:{openMessagePopup:!1,actionType:void 0},uploadPopup:!1,callTimeStamp:Ft()()}),g()(i()(e),"componentDidUpdate",(function(t){t!==e.props&&e.setPageTotal("call")})),g()(i()(e),"getTaskGroups",(function(t){if(t.length){var r=e.groupByTaskID(t),a=Object.values(r);e.setState({groupedDataArray:a})}else e.setState({groupedDataArray:[]})})),g()(i()(e),"setLoader",(function(t,r){var a=r||e.state.loaderStatus.actionTriggered;e.setState((function(e){return Wa(Wa({},e),{},{loaderStatus:Wa(Wa({},e.loaderStatus),{},{loader:t,actionTriggered:r}),messagePopup:Wa(Wa({},e.messagePopup),{},{openMessagePopup:!("defaultLoading"===a||"refreshButton"===a||!0===t)}),uploadPopup:"refreshButton"!==a&&e.uploadPopup})}))})),g()(i()(e),"setMessagePopup",(function(t,r){e.setState((function(e){return Wa(Wa({},e),{},{messagePopup:Wa(Wa({},e.messagePopup),{},g()({},t,r))})}))})),g()(i()(e),"setUploadPopup",(function(t){e.setState({uploadPopup:t})})),g()(i()(e),"updatePageSetting",(function(t,r){e.setState((function(e){return Wa(Wa({},e),{},{pageView:Wa(Wa({},e.pageView),{},g()({},t,r))})}))})),g()(i()(e),"handleExpandedData",(function(t){e.setState({selectedHost:t})})),g()(i()(e),"setRefreshStamp",(function(){e.setState({callTimeStamp:Ft()()})})),g()(i()(e),"getTasks",function(){var t=Qe()(et.a.mark((function t(r){var a,n,s,o,l,c;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"refreshButton"===r&&e.setLoader(!0,"refreshButton"),a=Object(Ct.createRESTURL)("remote-proxy/rapid_diag/task_information"),n=Object(Ct.createRESTURL)("remote-proxy/rapid_diag/info"),s=Object(Ct.createRESTURL)("remote-proxy/nodes"),o=Object(Ct.createRESTURL)("remote-proxy/apps/local"),l={},c=[],Object(qt.a)(s).then(function(){var t=Qe()(et.a.mark((function t(r){return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r&&r.data?null==r?void 0:r.data.nodes:[],t.next=3,Object(qt.b)(o,c,{search:"splunk_rapid_diag",output_mode:"json"}).then((function(t){if(t){var r=c.map(function(){var e=Qe()(et.a.mark((function e(r,a){var s,o,l;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.role.includes("Cluster Manager")||!r.servername.includes(".")){e.next=3;break}return e.next=3,Object(qt.a)(n,r).then((function(e){var t,a;r.servername=null!==(t=e.data)&&void 0!==t&&t.splunk_server?null===(a=e.data)||void 0===a?void 0:a.splunk_server:r.servername}));case 3:return null!==(s=t[a])&&void 0!==s&&s.entry&&(r.version=null===(o=t[a])||void 0===o||null===(l=o.entry[0])||void 0===l?void 0:l.content.version),e.abrupt("return",Promise.resolve(r));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());Promise.all(r).then((function(){e.setState({nodes:c})}))}}));case 3:return t.next=5,Object(qt.b)(a,c,l).then((function(t){if(t){var r=Wa({},e.state);r.data=[],t.map((function(e){e.tasks&&e.tasks.map((function(e){r.data.push(Wa({},e))}))})),e.checkRapidDiagInfo(r.data)}})).catch((function(){e.setLoader(!1)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).finally((function(){e.setRefreshStamp()}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),g()(i()(e),"groupByTaskID",(function(e){return e.reduce((function(e,t){return e[t.task.task_id]||(e[t.task.task_id]=[]),e[t.task.task_id].push(t),e}),{})})),g()(i()(e),"delayCall",(function(e){return new Promise((function(t){return setTimeout(t,e)}))})),g()(i()(e),"mockActionUpdate",function(){var t=Qe()(et.a.mark((function t(r,a,n){return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!["rerun","rerunAll"].includes(r)){t.next=5;break}return t.next=3,e.getTasks("pageLoading");case 3:t.next=19;break;case 5:if(!["abort","abortAll"].includes(r)){t.next=12;break}return t.next=8,e.delayCall(1e3);case 8:return t.next=10,e.getTasks("pageLoading");case 10:t.next=19;break;case 12:if(!["delete","deleteAll"].includes(r)){t.next=17;break}return t.next=15,e.getTasks("pageLoading");case 15:t.next=19;break;case 17:return t.next=19,e.getTasks("pageLoading");case 19:case"end":return t.stop()}}),t)})));return function(e,r,a){return t.apply(this,arguments)}}()),g()(i()(e),"actionsAPICall",function(){var t=Qe()(et.a.mark((function t(r){var a,n,s,o,l,c,u,i,m,d;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.rowData,n=r.actionLevel,s=r.allHosts,o=r.actionType,l=r.url,c=r.nodes,u={name:a.task.name,task_id:a.task.task_id,host:a.task.host,new_task_id:""},i=[],i=c.filter((function(e){return s.includes(e.servername.split(".")[0])})),"mainLevel"===n?i=c.filter((function(e){return s.includes(e.servername.split(".")[0])})):(m=c.findIndex((function(e){return e.servername.split(".")[0]===a.task.host})),i=[c[m]]),"rerunAll"!==o&&"rerun"!==o||(u.new_task_id="".concat(a.task.name,"_").concat(a.task.host,"_").concat((new Date).toISOString())),i.length&&(e.setLoader(!0,"pageLoading"),e.setMessagePopup("actionType",o)),t.next=9,Promise.all(i.map((function(e,t){return parseFloat(i[t].version)<1.5?Object(qt.b)(l,[e],{task_id:encodeURI(u.task_id)}):Object(qt.d)(l,[e],JSON.stringify(u))})));case 9:return d=t.sent,t.next=12,e.mockActionUpdate(o,u,d);case 12:!1===e.state.loaderStatus.loader&&e.setMessagePopup("openMessagePopup",!0);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),g()(i()(e),"deleteTask",function(){var t=Qe()(et.a.mark((function t(r){var a,n,s;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.groupedDataArray,n=r.actionType,s=a,"deleteAll"!==n){t.next=12;break}return s=a.filter((function(e){return e[0].task.task_id!==r.rowData.task.task_id})),t.next=7,e.setPageTotal("mock",s);case 7:e.setState({groupedDataArray:s,selectedHost:""}),e.actionsAPICall(r),e.setLoader(!1),t.next=15;break;case 12:return t.next=14,e.actionsAPICall(r);case 14:e.setState({selectedHost:""});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),g()(i()(e),"rerunTask",(function(t){e.actionsAPICall(t)})),g()(i()(e),"abortTask",(function(t){e.actionsAPICall(t)})),g()(i()(e),"setPageTotal",function(){var t=Qe()(et.a.mark((function t(r,a){var n,s;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0,n="call"===r?e.state.data.map((function(e){return e.task.task_id})).filter((function(e,t,r){return r.indexOf(e)===t})).length:a.length,s=Math.ceil(n/10),e.updatePageSetting("totalPage",s),0===s?e.updatePageSetting("currentPage",1):e.state.pageView.currentPage>s&&e.updatePageSetting("currentPage",s);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),e}return c()(r,[{key:"componentDidMount",value:function(){this.getTasks("pageLoading")}},{key:"checkRapidDiagInfo",value:function(e){var t=this,r=Object(Ct.createRESTURL)("remote-proxy/rapid_diag/info"),a=this.state.nodes;Object(qt.b)(r,a,{}).then((function(r){var a=e,n=e,s=new Set;if(r&&!Object.prototype.hasOwnProperty.call(r,"error")){var o,l=qa(r);try{for(l.s();!(o=l.n()).done;){var c=o.value;s.add(c.splunk_server)}}catch(e){l.e(e)}finally{l.f()}var u,i=qa(r);try{for(i.s();!(u=i.n()).done;)for(var m=u.value,d=0;d<a.length;d+=1){var p=a[d];p.task.host===m.splunk_server&&(p.collector_availability_status=m),p.hostDown=!s.has(p.task.host),n[d]=p}}catch(e){i.e(e)}finally{i.f()}}t.setState({data:n},(function(){t.getTaskGroups(t.state.data),t.setPageTotal("call")})),t.setLoader(!1)})).catch((function(){t.setLoader(!1)}))}},{key:"render",value:function(){var e=this.state,t=e.groupedDataArray,r=e.loaderStatus,a=e.nodes,n=e.pageView,s=e.messagePopup,o=e.uploadPopup,l=e.selectedHost,c=e.callTimeStamp;return(0,this.props.renderProp)(t,r,a,Wa(Wa({},n),{},{hadlePageChange:this.updatePageSetting}),{getTasks:this.getTasks,deleteTask:this.deleteTask,rerunTask:this.rerunTask,abortTask:this.abortTask},{openMessagePopup:s.openMessagePopup,actionType:s.actionType,setMessagePopup:this.setMessagePopup},{uploadPopup:o,setUploadPopup:this.setUploadPopup},this.handleExpandedData,l,c)}}]),r}(n.a.Component),Ka="/builds/customer-managed-platform/rapid-diag/splunk_rapid_diag/appserver/src/packages/core-rapid-diag/src/components/task-manager/src/Container.jsx",Ja=function(){return n.a.createElement("div",{__self:void 0,__source:{fileName:Ka,lineNumber:7,columnNumber:5}},n.a.createElement(Ba.a,{id:"errorBoundry",__self:void 0,__source:{fileName:Ka,lineNumber:8,columnNumber:9}},n.a.createElement(Xa,{renderProp:function(e,t,r,a,s,o,l,c,u,i){return n.a.createElement(Ua,{taskGroupedData:{groupedDataArray:e,deleteTask:s.deleteTask,rerunTask:s.rerunTask,abortTask:s.abortTask},taskManagerProps:{loaderStatus:t,getTasks:s.getTasks,nodes:r,pageSetting:a,messagePopupFeature:o,uploadPopupFeature:l,handleExpandedRow:c,selectedHost:u,callTimeStamp:i},__self:void 0,__source:{fileName:Ka,lineNumber:23,columnNumber:25}})},__self:void 0,__source:{fileName:Ka,lineNumber:9,columnNumber:13}})))}}])}});